function mE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var MP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function km(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gE={exports:{}},Ud={},vE={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),jP=Symbol.for("react.portal"),VP=Symbol.for("react.fragment"),FP=Symbol.for("react.strict_mode"),UP=Symbol.for("react.profiler"),$P=Symbol.for("react.provider"),BP=Symbol.for("react.context"),zP=Symbol.for("react.forward_ref"),HP=Symbol.for("react.suspense"),qP=Symbol.for("react.memo"),WP=Symbol.for("react.lazy"),Hy=Symbol.iterator;function GP(t){return t===null||typeof t!="object"?null:(t=Hy&&t[Hy]||t["@@iterator"],typeof t=="function"?t:null)}var yE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_E=Object.assign,EE={};function ua(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||yE}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wE(){}wE.prototype=ua.prototype;function Om(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||yE}var Nm=Om.prototype=new wE;Nm.constructor=Om;_E(Nm,ua.prototype);Nm.isPureReactComponent=!0;var qy=Array.isArray,TE=Object.prototype.hasOwnProperty,Dm={current:null},SE={key:!0,ref:!0,__self:!0,__source:!0};function IE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)TE.call(e,r)&&!SE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uu,type:t,key:o,ref:s,props:i,_owner:Dm.current}}function KP(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function QP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wy=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QP(""+t.key):e.toString(36)}function Sc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case uu:case jP:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+tf(s,0):r,qy(i)?(n="",t!=null&&(n=t.replace(Wy,"$&/")+"/"),Sc(i,e,n,"",function(c){return c})):i!=null&&(Mm(i)&&(i=KP(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Wy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",qy(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+tf(o,a);s+=Sc(o,e,n,u,i)}else if(u=GP(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+tf(o,a++),s+=Sc(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hu(t,e,n){if(t==null)return t;var r=[],i=0;return Sc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function XP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},Ic={transition:null},YP={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:Dm};function RE(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Hu,forEach:function(t,e,n){Hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!Mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=ua;Ne.Fragment=VP;Ne.Profiler=UP;Ne.PureComponent=Om;Ne.StrictMode=FP;Ne.Suspense=HP;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;Ne.act=RE;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_E({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Dm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)TE.call(e,u)&&!SE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uu,type:t.type,key:i,ref:o,props:r,_owner:s}};Ne.createContext=function(t){return t={$$typeof:BP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$P,_context:t},t.Consumer=t};Ne.createElement=IE;Ne.createFactory=function(t){var e=IE.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:zP,render:t}};Ne.isValidElement=Mm;Ne.lazy=function(t){return{$$typeof:WP,_payload:{_status:-1,_result:t},_init:XP}};Ne.memo=function(t,e){return{$$typeof:qP,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Ic.transition;Ic.transition={};try{t()}finally{Ic.transition=e}};Ne.unstable_act=RE;Ne.useCallback=function(t,e){return yn.current.useCallback(t,e)};Ne.useContext=function(t){return yn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return yn.current.useEffect(t,e)};Ne.useId=function(){return yn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return yn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};Ne.useRef=function(t){return yn.current.useRef(t)};Ne.useState=function(t){return yn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return yn.current.useTransition()};Ne.version="18.3.1";vE.exports=Ne;var M=vE.exports;const De=km(M),JP=mE({__proto__:null,default:De},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZP=M,eA=Symbol.for("react.element"),tA=Symbol.for("react.fragment"),nA=Object.prototype.hasOwnProperty,rA=ZP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iA={key:!0,ref:!0,__self:!0,__source:!0};function PE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nA.call(e,r)&&!iA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eA,type:t,key:o,ref:s,props:i,_owner:rA.current}}Ud.Fragment=tA;Ud.jsx=PE;Ud.jsxs=PE;gE.exports=Ud;var g=gE.exports,Jf={},AE={exports:{}},$n={},CE={exports:{}},bE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,Z){var re=L.length;L.push(Z);e:for(;0<re;){var ne=re-1>>>1,ae=L[ne];if(0<i(ae,Z))L[ne]=Z,L[re]=ae,re=ne;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Z=L[0],re=L.pop();if(re!==Z){L[0]=re;e:for(var ne=0,ae=L.length,ce=ae>>>1;ne<ce;){var Ce=2*(ne+1)-1,be=L[Ce],_e=Ce+1,Be=L[_e];if(0>i(be,re))_e<ae&&0>i(Be,be)?(L[ne]=Be,L[_e]=re,ne=_e):(L[ne]=be,L[Ce]=re,ne=Ce);else if(_e<ae&&0>i(Be,re))L[ne]=Be,L[_e]=re,ne=_e;else break e}}return Z}function i(L,Z){var re=L.sortIndex-Z.sortIndex;return re!==0?re:L.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,f=null,p=3,S=!1,R=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=L)r(c),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(c)}}function x(L){if(C=!1,_(L),!R)if(n(u)!==null)R=!0,Se(V);else{var Z=n(c);Z!==null&&F(x,Z.startTime-L)}}function V(L,Z){R=!1,C&&(C=!1,I(y),y=-1),S=!0;var re=p;try{for(_(Z),f=n(u);f!==null&&(!(f.expirationTime>Z)||L&&!b());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var ae=ne(f.expirationTime<=Z);Z=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(u)&&r(u),_(Z)}else r(u);f=n(u)}if(f!==null)var ce=!0;else{var Ce=n(c);Ce!==null&&F(x,Ce.startTime-Z),ce=!1}return ce}finally{f=null,p=re,S=!1}}var q=!1,v=null,y=-1,w=5,P=-1;function b(){return!(t.unstable_now()-P<w)}function O(){if(v!==null){var L=t.unstable_now();P=L;var Z=!0;try{Z=v(!0,L)}finally{Z?A():(q=!1,v=null)}}else q=!1}var A;if(typeof E=="function")A=function(){E(O)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=O,A=function(){te.postMessage(null)}}else A=function(){k(O,0)};function Se(L){v=L,q||(q=!0,A())}function F(L,Z){y=k(function(){L(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){R||S||(R=!0,Se(V))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var re=p;p=Z;try{return L()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=p;p=L;try{return Z()}finally{p=re}},t.unstable_scheduleCallback=function(L,Z,re){var ne=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ne+re:ne):re=ne,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=re+ae,L={id:d++,callback:Z,priorityLevel:L,startTime:re,expirationTime:ae,sortIndex:-1},re>ne?(L.sortIndex=re,e(c,L),n(u)===null&&L===n(c)&&(C?(I(y),y=-1):C=!0,F(x,re-ne))):(L.sortIndex=ae,e(u,L),R||S||(R=!0,Se(V))),L},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(L){var Z=p;return function(){var re=p;p=Z;try{return L.apply(this,arguments)}finally{p=re}}}})(bE);CE.exports=bE;var oA=CE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA=M,Un=oA;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xE=new Set,bl={};function Ko(t,e){Bs(t,e),Bs(t+"Capture",e)}function Bs(t,e){for(bl[t]=e,t=0;t<e.length;t++)xE.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=Object.prototype.hasOwnProperty,aA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gy={},Ky={};function lA(t){return Zf.call(Ky,t)?!0:Zf.call(Gy,t)?!1:aA.test(t)?Ky[t]=!0:(Gy[t]=!0,!1)}function uA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cA(t,e,n,r){if(e===null||typeof e>"u"||uA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lm=/[\-:]([a-z])/g;function jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lm,jm);Xt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lm,jm);Xt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lm,jm);Xt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vm(t,e,n,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cA(e,n,i,r)&&(n=null),r||i===null?lA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ci=sA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=Symbol.for("react.element"),gs=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),kE=Symbol.for("react.provider"),OE=Symbol.for("react.context"),Um=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),$m=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),NE=Symbol.for("react.offscreen"),Qy=Symbol.iterator;function ja(t){return t===null||typeof t!="object"?null:(t=Qy&&t[Qy]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,nf;function Za(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+t}var rf=!1;function of(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Za(t):""}function dA(t){switch(t.tag){case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 2:case 15:return t=of(t.type,!1),t;case 11:return t=of(t.type.render,!1),t;case 1:return t=of(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case gs:return"Portal";case ep:return"Profiler";case Fm:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OE:return(t.displayName||"Context")+".Consumer";case kE:return(t._context.displayName||"Context")+".Provider";case Um:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $m:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function hA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===Fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fA(t){var e=DE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wu(t){t._valueTracker||(t._valueTracker=fA(t))}function ME(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LE(t,e){e=e.checked,e!=null&&Vm(t,"checked",e,!1)}function op(t,e){LE(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sp(t,e.type,n):e.hasOwnProperty("defaultValue")&&sp(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sp(t,e,n){(e!=="number"||Wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var el=Array.isArray;function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(el(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function jE(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gu,FE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gu=Gu||document.createElement("div"),Gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pA=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){pA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function UE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function $E(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mA=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(t,e){if(e){if(mA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function Bm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hp=null,Os=null,Ns=null;function e_(t){if(t=hu(t)){if(typeof hp!="function")throw Error(X(280));var e=t.stateNode;e&&(e=qd(e),hp(t.stateNode,t.type,e))}}function BE(t){Os?Ns?Ns.push(t):Ns=[t]:Os=t}function zE(){if(Os){var t=Os,e=Ns;if(Ns=Os=null,e_(t),e)for(t=0;t<e.length;t++)e_(e[t])}}function HE(t,e){return t(e)}function qE(){}var sf=!1;function WE(t,e,n){if(sf)return t(e,n);sf=!0;try{return HE(t,e,n)}finally{sf=!1,(Os!==null||Ns!==null)&&(qE(),zE())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=qd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var fp=!1;if(ni)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){fp=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{fp=!1}function gA(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var dl=!1,Gc=null,Kc=!1,pp=null,vA={onError:function(t){dl=!0,Gc=t}};function yA(t,e,n,r,i,o,s,a,u){dl=!1,Gc=null,gA.apply(vA,arguments)}function _A(t,e,n,r,i,o,s,a,u){if(yA.apply(this,arguments),dl){if(dl){var c=Gc;dl=!1,Gc=null}else throw Error(X(198));Kc||(Kc=!0,pp=c)}}function Qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t_(t){if(Qo(t)!==t)throw Error(X(188))}function EA(t){var e=t.alternate;if(!e){if(e=Qo(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return t_(i),t;if(o===r)return t_(i),e;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function KE(t){return t=EA(t),t!==null?QE(t):null}function QE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QE(t);if(e!==null)return e;t=t.sibling}return null}var XE=Un.unstable_scheduleCallback,n_=Un.unstable_cancelCallback,wA=Un.unstable_shouldYield,TA=Un.unstable_requestPaint,St=Un.unstable_now,SA=Un.unstable_getCurrentPriorityLevel,zm=Un.unstable_ImmediatePriority,YE=Un.unstable_UserBlockingPriority,Qc=Un.unstable_NormalPriority,IA=Un.unstable_LowPriority,JE=Un.unstable_IdlePriority,$d=null,Pr=null;function RA(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot($d,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:CA,PA=Math.log,AA=Math.LN2;function CA(t){return t>>>=0,t===0?32:31-(PA(t)/AA|0)|0}var Ku=64,Qu=4194304;function tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=tl(a):(o&=s,o!==0&&(r=tl(o)))}else s=n&~i,s!==0?r=tl(s):o!==0&&(r=tl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function bA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dr(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=bA(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function mp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZE(){var t=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),t}function af(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function kA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Hm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tw,qm,nw,rw,iw,gp=!1,Xu=[],Fi=null,Ui=null,$i=null,Ol=new Map,Nl=new Map,Ai=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r_(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Fa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hu(e),e!==null&&qm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NA(t,e,n,r,i){switch(e){case"focusin":return Fi=Fa(Fi,t,e,n,r,i),!0;case"dragenter":return Ui=Fa(Ui,t,e,n,r,i),!0;case"mouseover":return $i=Fa($i,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ol.set(o,Fa(Ol.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nl.set(o,Fa(Nl.get(o)||null,t,e,n,r,i)),!0}return!1}function ow(t){var e=wo(t.target);if(e!==null){var n=Qo(e);if(n!==null){if(e=n.tag,e===13){if(e=GE(n),e!==null){t.blockedOn=e,iw(t.priority,function(){nw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dp=r,n.target.dispatchEvent(r),dp=null}else return e=hu(n),e!==null&&qm(e),t.blockedOn=n,!1;e.shift()}return!0}function i_(t,e,n){Rc(t)&&n.delete(e)}function DA(){gp=!1,Fi!==null&&Rc(Fi)&&(Fi=null),Ui!==null&&Rc(Ui)&&(Ui=null),$i!==null&&Rc($i)&&($i=null),Ol.forEach(i_),Nl.forEach(i_)}function Ua(t,e){t.blockedOn===e&&(t.blockedOn=null,gp||(gp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,DA)))}function Dl(t){function e(i){return Ua(i,t)}if(0<Xu.length){Ua(Xu[0],t);for(var n=1;n<Xu.length;n++){var r=Xu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fi!==null&&Ua(Fi,t),Ui!==null&&Ua(Ui,t),$i!==null&&Ua($i,t),Ol.forEach(e),Nl.forEach(e),n=0;n<Ai.length;n++)r=Ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)ow(n),n.blockedOn===null&&Ai.shift()}var Ds=ci.ReactCurrentBatchConfig,Yc=!0;function MA(t,e,n,r){var i=He,o=Ds.transition;Ds.transition=null;try{He=1,Wm(t,e,n,r)}finally{He=i,Ds.transition=o}}function LA(t,e,n,r){var i=He,o=Ds.transition;Ds.transition=null;try{He=4,Wm(t,e,n,r)}finally{He=i,Ds.transition=o}}function Wm(t,e,n,r){if(Yc){var i=vp(t,e,n,r);if(i===null)vf(t,e,r,Jc,n),r_(t,r);else if(NA(i,t,e,n,r))r.stopPropagation();else if(r_(t,r),e&4&&-1<OA.indexOf(t)){for(;i!==null;){var o=hu(i);if(o!==null&&tw(o),o=vp(t,e,n,r),o===null&&vf(t,e,r,Jc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else vf(t,e,r,null,n)}}var Jc=null;function vp(t,e,n,r){if(Jc=null,t=Bm(r),t=wo(t),t!==null)if(e=Qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jc=t,null}function sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SA()){case zm:return 1;case YE:return 4;case Qc:case IA:return 16;case JE:return 536870912;default:return 16}default:return 16}}var Di=null,Gm=null,Pc=null;function aw(){if(Pc)return Pc;var t,e=Gm,n=e.length,r,i="value"in Di?Di.value:Di.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Pc=i.slice(t,1<r?1-r:void 0)}function Ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function o_(){return!1}function Bn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yu:o_,this.isPropagationStopped=o_,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=Bn(ca),du=dt({},ca,{view:0,detail:0}),jA=Bn(du),lf,uf,$a,Bd=dt({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(lf=t.screenX-$a.screenX,uf=t.screenY-$a.screenY):uf=lf=0,$a=t),lf)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),s_=Bn(Bd),VA=dt({},Bd,{dataTransfer:0}),FA=Bn(VA),UA=dt({},du,{relatedTarget:0}),cf=Bn(UA),$A=dt({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),BA=Bn($A),zA=dt({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HA=Bn(zA),qA=dt({},ca,{data:0}),a_=Bn(qA),WA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KA[t])?!!e[t]:!1}function Qm(){return QA}var XA=dt({},du,{key:function(t){if(t.key){var e=WA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qm,charCode:function(t){return t.type==="keypress"?Ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YA=Bn(XA),JA=dt({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l_=Bn(JA),ZA=dt({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qm}),eC=Bn(ZA),tC=dt({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),nC=Bn(tC),rC=dt({},Bd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iC=Bn(rC),oC=[9,13,27,32],Xm=ni&&"CompositionEvent"in window,hl=null;ni&&"documentMode"in document&&(hl=document.documentMode);var sC=ni&&"TextEvent"in window&&!hl,lw=ni&&(!Xm||hl&&8<hl&&11>=hl),u_=" ",c_=!1;function uw(t,e){switch(t){case"keyup":return oC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function aC(t,e){switch(t){case"compositionend":return cw(e);case"keypress":return e.which!==32?null:(c_=!0,u_);case"textInput":return t=e.data,t===u_&&c_?null:t;default:return null}}function lC(t,e){if(ys)return t==="compositionend"||!Xm&&uw(t,e)?(t=aw(),Pc=Gm=Di=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lw&&e.locale!=="ko"?null:e.data;default:return null}}var uC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uC[t.type]:e==="textarea"}function dw(t,e,n,r){BE(r),e=Zc(e,"onChange"),0<e.length&&(n=new Km("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fl=null,Ml=null;function cC(t){Tw(t,0)}function zd(t){var e=ws(t);if(ME(e))return t}function dC(t,e){if(t==="change")return e}var hw=!1;if(ni){var df;if(ni){var hf="oninput"in document;if(!hf){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),hf=typeof h_.oninput=="function"}df=hf}else df=!1;hw=df&&(!document.documentMode||9<document.documentMode)}function f_(){fl&&(fl.detachEvent("onpropertychange",fw),Ml=fl=null)}function fw(t){if(t.propertyName==="value"&&zd(Ml)){var e=[];dw(e,Ml,t,Bm(t)),WE(cC,e)}}function hC(t,e,n){t==="focusin"?(f_(),fl=e,Ml=n,fl.attachEvent("onpropertychange",fw)):t==="focusout"&&f_()}function fC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(Ml)}function pC(t,e){if(t==="click")return zd(e)}function mC(t,e){if(t==="input"||t==="change")return zd(e)}function gC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:gC;function Ll(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zf.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function p_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m_(t,e){var n=p_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p_(n)}}function pw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mw(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vC(t){var e=mw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pw(n.ownerDocument.documentElement,n)){if(r!==null&&Ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=m_(n,o);var s=m_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yC=ni&&"documentMode"in document&&11>=document.documentMode,_s=null,yp=null,pl=null,_p=!1;function g_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||_s==null||_s!==Wc(r)||(r=_s,"selectionStart"in r&&Ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pl&&Ll(pl,r)||(pl=r,r=Zc(yp,"onSelect"),0<r.length&&(e=new Km("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_s)))}function Ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Es={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},ff={},gw={};ni&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Hd(t){if(ff[t])return ff[t];if(!Es[t])return t;var e=Es[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gw)return ff[t]=e[n];return t}var vw=Hd("animationend"),yw=Hd("animationiteration"),_w=Hd("animationstart"),Ew=Hd("transitionend"),ww=new Map,v_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){ww.set(t,e),Ko(e,[t])}for(var pf=0;pf<v_.length;pf++){var mf=v_[pf],_C=mf.toLowerCase(),EC=mf[0].toUpperCase()+mf.slice(1);io(_C,"on"+EC)}io(vw,"onAnimationEnd");io(yw,"onAnimationIteration");io(_w,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(Ew,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function y_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_A(r,e,void 0,t),t.currentTarget=null}function Tw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;y_(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;y_(i,a,c),o=u}}}if(Kc)throw t=pp,Kc=!1,pp=null,t}function Ze(t,e){var n=e[Ip];n===void 0&&(n=e[Ip]=new Set);var r=t+"__bubble";n.has(r)||(Sw(e,t,2,!1),n.add(r))}function gf(t,e,n){var r=0;e&&(r|=4),Sw(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function jl(t){if(!t[Zu]){t[Zu]=!0,xE.forEach(function(n){n!=="selectionchange"&&(wC.has(n)||gf(n,!1,t),gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,gf("selectionchange",!1,e))}}function Sw(t,e,n,r){switch(sw(e)){case 1:var i=MA;break;case 4:i=LA;break;default:i=Wm}n=i.bind(null,e,n,t),i=void 0,!fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=wo(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}WE(function(){var c=o,d=Bm(n),f=[];e:{var p=ww.get(t);if(p!==void 0){var S=Km,R=t;switch(t){case"keypress":if(Ac(n)===0)break e;case"keydown":case"keyup":S=YA;break;case"focusin":R="focus",S=cf;break;case"focusout":R="blur",S=cf;break;case"beforeblur":case"afterblur":S=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=s_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=FA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=eC;break;case vw:case yw:case _w:S=BA;break;case Ew:S=nC;break;case"scroll":S=jA;break;case"wheel":S=iC;break;case"copy":case"cut":case"paste":S=HA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=l_}var C=(e&4)!==0,k=!C&&t==="scroll",I=C?p!==null?p+"Capture":null:p;C=[];for(var E=c,_;E!==null;){_=E;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,I!==null&&(x=kl(E,I),x!=null&&C.push(Vl(E,x,_)))),k)break;E=E.return}0<C.length&&(p=new S(p,R,null,n,d),f.push({event:p,listeners:C}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",p&&n!==dp&&(R=n.relatedTarget||n.fromElement)&&(wo(R)||R[ri]))break e;if((S||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,S?(R=n.relatedTarget||n.toElement,S=c,R=R?wo(R):null,R!==null&&(k=Qo(R),R!==k||R.tag!==5&&R.tag!==6)&&(R=null)):(S=null,R=c),S!==R)){if(C=s_,x="onMouseLeave",I="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(C=l_,x="onPointerLeave",I="onPointerEnter",E="pointer"),k=S==null?p:ws(S),_=R==null?p:ws(R),p=new C(x,E+"leave",S,n,d),p.target=k,p.relatedTarget=_,x=null,wo(d)===c&&(C=new C(I,E+"enter",R,n,d),C.target=_,C.relatedTarget=k,x=C),k=x,S&&R)t:{for(C=S,I=R,E=0,_=C;_;_=as(_))E++;for(_=0,x=I;x;x=as(x))_++;for(;0<E-_;)C=as(C),E--;for(;0<_-E;)I=as(I),_--;for(;E--;){if(C===I||I!==null&&C===I.alternate)break t;C=as(C),I=as(I)}C=null}else C=null;S!==null&&__(f,p,S,C,!1),R!==null&&k!==null&&__(f,k,R,C,!0)}}e:{if(p=c?ws(c):window,S=p.nodeName&&p.nodeName.toLowerCase(),S==="select"||S==="input"&&p.type==="file")var V=dC;else if(d_(p))if(hw)V=mC;else{V=fC;var q=hC}else(S=p.nodeName)&&S.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=pC);if(V&&(V=V(t,c))){dw(f,V,n,d);break e}q&&q(t,p,c),t==="focusout"&&(q=p._wrapperState)&&q.controlled&&p.type==="number"&&sp(p,"number",p.value)}switch(q=c?ws(c):window,t){case"focusin":(d_(q)||q.contentEditable==="true")&&(_s=q,yp=c,pl=null);break;case"focusout":pl=yp=_s=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,g_(f,n,d);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":g_(f,n,d)}var v;if(Xm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ys?uw(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(lw&&n.locale!=="ko"&&(ys||y!=="onCompositionStart"?y==="onCompositionEnd"&&ys&&(v=aw()):(Di=d,Gm="value"in Di?Di.value:Di.textContent,ys=!0)),q=Zc(c,y),0<q.length&&(y=new a_(y,t,null,n,d),f.push({event:y,listeners:q}),v?y.data=v:(v=cw(n),v!==null&&(y.data=v)))),(v=sC?aC(t,n):lC(t,n))&&(c=Zc(c,"onBeforeInput"),0<c.length&&(d=new a_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=v))}Tw(f,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=kl(t,n),o!=null&&r.unshift(Vl(t,o,i)),o=kl(t,e),o!=null&&r.push(Vl(t,o,i))),t=t.return}return r}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function __(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=kl(n,o),u!=null&&s.unshift(Vl(n,u,a))):i||(u=kl(n,o),u!=null&&s.push(Vl(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TC=/\r\n?/g,SC=/\u0000|\uFFFD/g;function E_(t){return(typeof t=="string"?t:""+t).replace(TC,`
`).replace(SC,"")}function ec(t,e,n){if(e=E_(e),E_(t)!==e&&n)throw Error(X(425))}function ed(){}var Ep=null,wp=null;function Tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,IC=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,RC=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(PC)}:Sp;function PC(t){setTimeout(function(){throw t})}function yf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dl(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var da=Math.random().toString(36).slice(2),Sr="__reactFiber$"+da,Fl="__reactProps$"+da,ri="__reactContainer$"+da,Ip="__reactEvents$"+da,AC="__reactListeners$"+da,CC="__reactHandles$"+da;function wo(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T_(t);t!==null;){if(n=t[Sr])return n;t=T_(t)}return e}t=n,n=t.parentNode}return null}function hu(t){return t=t[Sr]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function qd(t){return t[Fl]||null}var Rp=[],Ts=-1;function oo(t){return{current:t}}function et(t){0>Ts||(t.current=Rp[Ts],Rp[Ts]=null,Ts--)}function Xe(t,e){Ts++,Rp[Ts]=t.current,t.current=e}var Zi={},un=oo(Zi),Rn=oo(!1),Do=Zi;function zs(t,e){var n=t.type.contextTypes;if(!n)return Zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function td(){et(Rn),et(un)}function S_(t,e,n){if(un.current!==Zi)throw Error(X(168));Xe(un,e),Xe(Rn,n)}function Iw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,hA(t)||"Unknown",i));return dt({},n,r)}function nd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Do=un.current,Xe(un,t),Xe(Rn,Rn.current),!0}function I_(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=Iw(t,e,Do),r.__reactInternalMemoizedMergedChildContext=t,et(Rn),et(un),Xe(un,t)):et(Rn),Xe(Rn,n)}var Hr=null,Wd=!1,_f=!1;function Rw(t){Hr===null?Hr=[t]:Hr.push(t)}function bC(t){Wd=!0,Rw(t)}function so(){if(!_f&&Hr!==null){_f=!0;var t=0,e=He;try{var n=Hr;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Wd=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),XE(zm,so),i}finally{He=e,_f=!1}}return null}var Ss=[],Is=0,rd=null,id=0,Wn=[],Gn=0,Mo=null,qr=1,Wr="";function vo(t,e){Ss[Is++]=id,Ss[Is++]=rd,rd=t,id=e}function Pw(t,e,n){Wn[Gn++]=qr,Wn[Gn++]=Wr,Wn[Gn++]=Mo,Mo=t;var r=qr;t=Wr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qr=1<<32-dr(e)+i|n<<i|r,Wr=o+t}else qr=1<<o|n<<i|r,Wr=t}function Jm(t){t.return!==null&&(vo(t,1),Pw(t,1,0))}function Zm(t){for(;t===rd;)rd=Ss[--Is],Ss[Is]=null,id=Ss[--Is],Ss[Is]=null;for(;t===Mo;)Mo=Wn[--Gn],Wn[Gn]=null,Wr=Wn[--Gn],Wn[Gn]=null,qr=Wn[--Gn],Wn[Gn]=null}var Vn=null,Dn=null,it=!1,cr=null;function Aw(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Dn=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mo!==null?{id:qr,overflow:Wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Dn=null,!0):!1;default:return!1}}function Pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(it){var e=Dn;if(e){var n=e;if(!R_(t,e)){if(Pp(t))throw Error(X(418));e=Bi(n.nextSibling);var r=Vn;e&&R_(t,e)?Aw(r,n):(t.flags=t.flags&-4097|2,it=!1,Vn=t)}}else{if(Pp(t))throw Error(X(418));t.flags=t.flags&-4097|2,it=!1,Vn=t}}}function P_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function tc(t){if(t!==Vn)return!1;if(!it)return P_(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tp(t.type,t.memoizedProps)),e&&(e=Dn)){if(Pp(t))throw Cw(),Error(X(418));for(;e;)Aw(t,e),e=Bi(e.nextSibling)}if(P_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Vn?Bi(t.stateNode.nextSibling):null;return!0}function Cw(){for(var t=Dn;t;)t=Bi(t.nextSibling)}function Hs(){Dn=Vn=null,it=!1}function eg(t){cr===null?cr=[t]:cr.push(t)}var xC=ci.ReactCurrentBatchConfig;function Ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function A_(t){var e=t._init;return e(t._payload)}function bw(t){function e(I,E){if(t){var _=I.deletions;_===null?(I.deletions=[E],I.flags|=16):_.push(E)}}function n(I,E){if(!t)return null;for(;E!==null;)e(I,E),E=E.sibling;return null}function r(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function i(I,E){return I=Wi(I,E),I.index=0,I.sibling=null,I}function o(I,E,_){return I.index=_,t?(_=I.alternate,_!==null?(_=_.index,_<E?(I.flags|=2,E):_):(I.flags|=2,E)):(I.flags|=1048576,E)}function s(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,E,_,x){return E===null||E.tag!==6?(E=Pf(_,I.mode,x),E.return=I,E):(E=i(E,_),E.return=I,E)}function u(I,E,_,x){var V=_.type;return V===vs?d(I,E,_.props.children,x,_.key):E!==null&&(E.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ri&&A_(V)===E.type)?(x=i(E,_.props),x.ref=Ba(I,E,_),x.return=I,x):(x=Dc(_.type,_.key,_.props,null,I.mode,x),x.ref=Ba(I,E,_),x.return=I,x)}function c(I,E,_,x){return E===null||E.tag!==4||E.stateNode.containerInfo!==_.containerInfo||E.stateNode.implementation!==_.implementation?(E=Af(_,I.mode,x),E.return=I,E):(E=i(E,_.children||[]),E.return=I,E)}function d(I,E,_,x,V){return E===null||E.tag!==7?(E=Co(_,I.mode,x,V),E.return=I,E):(E=i(E,_),E.return=I,E)}function f(I,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Pf(""+E,I.mode,_),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qu:return _=Dc(E.type,E.key,E.props,null,I.mode,_),_.ref=Ba(I,null,E),_.return=I,_;case gs:return E=Af(E,I.mode,_),E.return=I,E;case Ri:var x=E._init;return f(I,x(E._payload),_)}if(el(E)||ja(E))return E=Co(E,I.mode,_,null),E.return=I,E;nc(I,E)}return null}function p(I,E,_,x){var V=E!==null?E.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:a(I,E,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qu:return _.key===V?u(I,E,_,x):null;case gs:return _.key===V?c(I,E,_,x):null;case Ri:return V=_._init,p(I,E,V(_._payload),x)}if(el(_)||ja(_))return V!==null?null:d(I,E,_,x,null);nc(I,_)}return null}function S(I,E,_,x,V){if(typeof x=="string"&&x!==""||typeof x=="number")return I=I.get(_)||null,a(E,I,""+x,V);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qu:return I=I.get(x.key===null?_:x.key)||null,u(E,I,x,V);case gs:return I=I.get(x.key===null?_:x.key)||null,c(E,I,x,V);case Ri:var q=x._init;return S(I,E,_,q(x._payload),V)}if(el(x)||ja(x))return I=I.get(_)||null,d(E,I,x,V,null);nc(E,x)}return null}function R(I,E,_,x){for(var V=null,q=null,v=E,y=E=0,w=null;v!==null&&y<_.length;y++){v.index>y?(w=v,v=null):w=v.sibling;var P=p(I,v,_[y],x);if(P===null){v===null&&(v=w);break}t&&v&&P.alternate===null&&e(I,v),E=o(P,E,y),q===null?V=P:q.sibling=P,q=P,v=w}if(y===_.length)return n(I,v),it&&vo(I,y),V;if(v===null){for(;y<_.length;y++)v=f(I,_[y],x),v!==null&&(E=o(v,E,y),q===null?V=v:q.sibling=v,q=v);return it&&vo(I,y),V}for(v=r(I,v);y<_.length;y++)w=S(v,I,y,_[y],x),w!==null&&(t&&w.alternate!==null&&v.delete(w.key===null?y:w.key),E=o(w,E,y),q===null?V=w:q.sibling=w,q=w);return t&&v.forEach(function(b){return e(I,b)}),it&&vo(I,y),V}function C(I,E,_,x){var V=ja(_);if(typeof V!="function")throw Error(X(150));if(_=V.call(_),_==null)throw Error(X(151));for(var q=V=null,v=E,y=E=0,w=null,P=_.next();v!==null&&!P.done;y++,P=_.next()){v.index>y?(w=v,v=null):w=v.sibling;var b=p(I,v,P.value,x);if(b===null){v===null&&(v=w);break}t&&v&&b.alternate===null&&e(I,v),E=o(b,E,y),q===null?V=b:q.sibling=b,q=b,v=w}if(P.done)return n(I,v),it&&vo(I,y),V;if(v===null){for(;!P.done;y++,P=_.next())P=f(I,P.value,x),P!==null&&(E=o(P,E,y),q===null?V=P:q.sibling=P,q=P);return it&&vo(I,y),V}for(v=r(I,v);!P.done;y++,P=_.next())P=S(v,I,y,P.value,x),P!==null&&(t&&P.alternate!==null&&v.delete(P.key===null?y:P.key),E=o(P,E,y),q===null?V=P:q.sibling=P,q=P);return t&&v.forEach(function(O){return e(I,O)}),it&&vo(I,y),V}function k(I,E,_,x){if(typeof _=="object"&&_!==null&&_.type===vs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case qu:e:{for(var V=_.key,q=E;q!==null;){if(q.key===V){if(V=_.type,V===vs){if(q.tag===7){n(I,q.sibling),E=i(q,_.props.children),E.return=I,I=E;break e}}else if(q.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ri&&A_(V)===q.type){n(I,q.sibling),E=i(q,_.props),E.ref=Ba(I,q,_),E.return=I,I=E;break e}n(I,q);break}else e(I,q);q=q.sibling}_.type===vs?(E=Co(_.props.children,I.mode,x,_.key),E.return=I,I=E):(x=Dc(_.type,_.key,_.props,null,I.mode,x),x.ref=Ba(I,E,_),x.return=I,I=x)}return s(I);case gs:e:{for(q=_.key;E!==null;){if(E.key===q)if(E.tag===4&&E.stateNode.containerInfo===_.containerInfo&&E.stateNode.implementation===_.implementation){n(I,E.sibling),E=i(E,_.children||[]),E.return=I,I=E;break e}else{n(I,E);break}else e(I,E);E=E.sibling}E=Af(_,I.mode,x),E.return=I,I=E}return s(I);case Ri:return q=_._init,k(I,E,q(_._payload),x)}if(el(_))return R(I,E,_,x);if(ja(_))return C(I,E,_,x);nc(I,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,E!==null&&E.tag===6?(n(I,E.sibling),E=i(E,_),E.return=I,I=E):(n(I,E),E=Pf(_,I.mode,x),E.return=I,I=E),s(I)):n(I,E)}return k}var qs=bw(!0),xw=bw(!1),od=oo(null),sd=null,Rs=null,tg=null;function ng(){tg=Rs=sd=null}function rg(t){var e=od.current;et(od),t._currentValue=e}function Cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){sd=t,tg=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(tg!==t)if(t={context:t,memoizedValue:e,next:null},Rs===null){if(sd===null)throw Error(X(308));Rs=t,sd.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return e}var To=null;function ig(t){To===null?To=[t]:To.push(t)}function kw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ig(e)):(n.next=i.next,i.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ow(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ii(t,n)}return i=r.interleaved,i===null?(e.next=e,ig(r)):(e.next=i.next,i.next=e),r.interleaved=e,ii(t,n)}function Cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hm(t,n)}}function C_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ad(t,e,n,r){var i=t.updateQueue;Pi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,d=c=u=null,a=o;do{var p=a.lane,S=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var R=t,C=a;switch(p=e,S=n,C.tag){case 1:if(R=C.payload,typeof R=="function"){f=R.call(S,f,p);break e}f=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=C.payload,p=typeof R=="function"?R.call(S,f,p):R,p==null)break e;f=dt({},f,p);break e;case 2:Pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else S={eventTime:S,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=S,u=f):d=d.next=S,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);jo|=s,t.lanes=s,t.memoizedState=f}}function b_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var fu={},Ar=oo(fu),Ul=oo(fu),$l=oo(fu);function So(t){if(t===fu)throw Error(X(174));return t}function sg(t,e){switch(Xe($l,e),Xe(Ul,t),Xe(Ar,fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lp(e,t)}et(Ar),Xe(Ar,e)}function Ws(){et(Ar),et(Ul),et($l)}function Nw(t){So($l.current);var e=So(Ar.current),n=lp(e,t.type);e!==n&&(Xe(Ul,t),Xe(Ar,n))}function ag(t){Ul.current===t&&(et(Ar),et(Ul))}var ut=oo(0);function ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ef=[];function lg(){for(var t=0;t<Ef.length;t++)Ef[t]._workInProgressVersionPrimary=null;Ef.length=0}var bc=ci.ReactCurrentDispatcher,wf=ci.ReactCurrentBatchConfig,Lo=0,ct=null,Nt=null,Vt=null,ud=!1,ml=!1,Bl=0,kC=0;function tn(){throw Error(X(321))}function ug(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function cg(t,e,n,r,i,o){if(Lo=o,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?MC:LC,t=n(r,i),ml){o=0;do{if(ml=!1,Bl=0,25<=o)throw Error(X(301));o+=1,Vt=Nt=null,e.updateQueue=null,bc.current=jC,t=n(r,i)}while(ml)}if(bc.current=cd,e=Nt!==null&&Nt.next!==null,Lo=0,Vt=Nt=ct=null,ud=!1,e)throw Error(X(300));return t}function dg(){var t=Bl!==0;return Bl=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ct.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Zn(){if(Nt===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Vt===null?ct.memoizedState:Vt.next;if(e!==null)Vt=e,Nt=t;else{if(t===null)throw Error(X(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Vt===null?ct.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function zl(t,e){return typeof e=="function"?e(t):e}function Tf(t){var e=Zn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((Lo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,ct.lanes|=d,jo|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,pr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ct.lanes|=o,jo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sf(t){var e=Zn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);pr(o,e.memoizedState)||(In=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Dw(){}function Mw(t,e){var n=ct,r=Zn(),i=e(),o=!pr(r.memoizedState,i);if(o&&(r.memoizedState=i,In=!0),r=r.queue,hg(Vw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Hl(9,jw.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(X(349));Lo&30||Lw(n,e,i)}return i}function Lw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jw(t,e,n,r){e.value=n,e.getSnapshot=r,Fw(e)&&Uw(t)}function Vw(t,e,n){return n(function(){Fw(e)&&Uw(t)})}function Fw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function Uw(t){var e=ii(t,1);e!==null&&hr(e,t,1,-1)}function x_(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=DC.bind(null,ct,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $w(){return Zn().memoizedState}function xc(t,e,n,r){var i=Tr();ct.flags|=t,i.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function Gd(t,e,n,r){var i=Zn();r=r===void 0?null:r;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,r!==null&&ug(r,s.deps)){i.memoizedState=Hl(e,n,o,r);return}}ct.flags|=t,i.memoizedState=Hl(1|e,n,o,r)}function k_(t,e){return xc(8390656,8,t,e)}function hg(t,e){return Gd(2048,8,t,e)}function Bw(t,e){return Gd(4,2,t,e)}function zw(t,e){return Gd(4,4,t,e)}function Hw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qw(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4,4,Hw.bind(null,e,t),n)}function fg(){}function Ww(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gw(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ug(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kw(t,e,n){return Lo&21?(pr(n,e)||(n=ZE(),ct.lanes|=n,jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function OC(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=wf.transition;wf.transition={};try{t(!1),e()}finally{He=n,wf.transition=r}}function Qw(){return Zn().memoizedState}function NC(t,e,n){var r=qi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xw(t))Yw(e,n);else if(n=kw(t,e,n,r),n!==null){var i=gn();hr(n,t,r,i),Jw(n,e,r)}}function DC(t,e,n){var r=qi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xw(t))Yw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,pr(a,s)){var u=e.interleaved;u===null?(i.next=i,ig(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=kw(t,e,i,r),n!==null&&(i=gn(),hr(n,t,r,i),Jw(n,e,r))}}function Xw(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function Yw(t,e){ml=ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hm(t,n)}}var cd={readContext:Jn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},MC={readContext:Jn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:k_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,Hw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NC.bind(null,ct,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:x_,useDebugValue:fg,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=x_(!1),e=t[0];return t=OC.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ct,i=Tr();if(it){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Ft===null)throw Error(X(349));Lo&30||Lw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,k_(Vw.bind(null,r,o,t),[t]),r.flags|=2048,Hl(9,jw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Ft.identifierPrefix;if(it){var n=Wr,r=qr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LC={readContext:Jn,useCallback:Ww,useContext:Jn,useEffect:hg,useImperativeHandle:qw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:Gw,useReducer:Tf,useRef:$w,useState:function(){return Tf(zl)},useDebugValue:fg,useDeferredValue:function(t){var e=Zn();return Kw(e,Nt.memoizedState,t)},useTransition:function(){var t=Tf(zl)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Dw,useSyncExternalStore:Mw,useId:Qw,unstable_isNewReconciler:!1},jC={readContext:Jn,useCallback:Ww,useContext:Jn,useEffect:hg,useImperativeHandle:qw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:Gw,useReducer:Sf,useRef:$w,useState:function(){return Sf(zl)},useDebugValue:fg,useDeferredValue:function(t){var e=Zn();return Nt===null?e.memoizedState=t:Kw(e,Nt.memoizedState,t)},useTransition:function(){var t=Sf(zl)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Dw,useSyncExternalStore:Mw,useId:Qw,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kd={isMounted:function(t){return(t=t._reactInternals)?Qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=qi(t),o=Yr(r,i);o.payload=e,n!=null&&(o.callback=n),e=zi(t,o,i),e!==null&&(hr(e,t,i,r),Cc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=qi(t),o=Yr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zi(t,o,i),e!==null&&(hr(e,t,i,r),Cc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=qi(t),i=Yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,r),e!==null&&(hr(e,t,r,n),Cc(e,t,r))}};function O_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ll(n,r)||!Ll(i,o):!0}function Zw(t,e,n){var r=!1,i=Zi,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=Pn(e)?Do:un.current,r=e.contextTypes,o=(r=r!=null)?zs(t,i):Zi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function N_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kd.enqueueReplaceState(e,e.state,null)}function xp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},og(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=Pn(e)?Do:un.current,i.context=zs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kd.enqueueReplaceState(i,i.state,null),ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gs(t,e){try{var n="",r=e;do n+=dA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function If(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VC=typeof WeakMap=="function"?WeakMap:Map;function eT(t,e,n){n=Yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hd||(hd=!0,$p=r),kp(t,e)},n}function tT(t,e,n){n=Yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kp(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function D_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JC.bind(null,t,e,n),e.then(t,t))}function M_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yr(-1,1),e.tag=2,zi(n,e,1))),n.lanes|=1),t)}var FC=ci.ReactCurrentOwner,In=!1;function pn(t,e,n,r){e.child=t===null?xw(e,null,n,r):qs(e,t.child,n,r)}function j_(t,e,n,r,i){n=n.render;var o=e.ref;return Ms(e,i),r=cg(t,e,n,r,o,i),n=dg(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(it&&n&&Jm(e),e.flags|=1,pn(t,e,r,i),e.child)}function V_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!wg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nT(t,e,o,r,i)):(t=Dc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(s,r)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Wi(o,r),t.ref=e.ref,t.return=e,e.child=t}function nT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ll(o,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,oi(t,e,i)}return Op(t,e,n,r,i)}function rT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(As,On),On|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(As,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(As,On),On|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Xe(As,On),On|=r;return pn(t,e,i,n),e.child}function iT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Op(t,e,n,r,i){var o=Pn(n)?Do:un.current;return o=zs(e,o),Ms(e,i),n=cg(t,e,n,r,o,i),r=dg(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(it&&r&&Jm(e),e.flags|=1,pn(t,e,n,i),e.child)}function F_(t,e,n,r,i){if(Pn(n)){var o=!0;nd(e)}else o=!1;if(Ms(e,i),e.stateNode===null)kc(t,e),Zw(e,n,r),xp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jn(c):(c=Pn(n)?Do:un.current,c=zs(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&N_(e,s,r,c),Pi=!1;var p=e.memoizedState;s.state=p,ad(e,r,s,i),u=e.memoizedState,a!==r||p!==u||Rn.current||Pi?(typeof d=="function"&&(bp(e,n,d,r),u=e.memoizedState),(a=Pi||O_(e,n,a,r,p,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Ow(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),s.props=c,f=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jn(u):(u=Pn(n)?Do:un.current,u=zs(e,u));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&N_(e,s,r,u),Pi=!1,p=e.memoizedState,s.state=p,ad(e,r,s,i);var R=e.memoizedState;a!==f||p!==R||Rn.current||Pi?(typeof S=="function"&&(bp(e,n,S,r),R=e.memoizedState),(c=Pi||O_(e,n,c,r,p,R,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,R,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,R,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),s.props=r,s.state=R,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Np(t,e,n,r,o,i)}function Np(t,e,n,r,i,o){iT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&I_(e,n,!1),oi(t,e,o);r=e.stateNode,FC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=qs(e,t.child,null,o),e.child=qs(e,null,a,o)):pn(t,e,a,o),e.memoizedState=r.state,i&&I_(e,n,!0),e.child}function oT(t){var e=t.stateNode;e.pendingContext?S_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(t,e.context,!1),sg(t,e.containerInfo)}function U_(t,e,n,r,i){return Hs(),eg(i),e.flags|=256,pn(t,e,n,r),e.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function sT(t,e,n){var r=e.pendingProps,i=ut.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(ut,i&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Yd(s,r,0,null),t=Co(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Mp(n),e.memoizedState=Dp,t):pg(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Wi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Wi(a,o):(o=Co(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Mp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Dp,r}return o=t.child,t=o.sibling,r=Wi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pg(t,e){return e=Yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rc(t,e,n,r){return r!==null&&eg(r),qs(e,t.child,null,n),t=pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=If(Error(X(422))),rc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Yd({mode:"visible",children:r.children},i,0,null),o=Co(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&qs(e,t.child,null,s),e.child.memoizedState=Mp(s),e.memoizedState=Dp,o);if(!(e.mode&1))return rc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(X(419)),r=If(o,r,void 0),rc(t,e,s,r)}if(a=(s&t.childLanes)!==0,In||a){if(r=Ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ii(t,i),hr(r,t,i,-1))}return Eg(),r=If(Error(X(421))),rc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dn=Bi(i.nextSibling),Vn=e,it=!0,cr=null,t!==null&&(Wn[Gn++]=qr,Wn[Gn++]=Wr,Wn[Gn++]=Mo,qr=t.id,Wr=t.overflow,Mo=e),e=pg(e,r.children),e.flags|=4096,e)}function $_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cp(t.return,e,n)}function Rf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$_(t,n,e);else if(t.tag===19)$_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rf(e,!0,n,null,o);break;case"together":Rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $C(t,e,n){switch(e.tag){case 3:oT(e),Hs();break;case 5:Nw(e);break;case 1:Pn(e.type)&&nd(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(od,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?sT(t,e,n):(Xe(ut,ut.current&1),t=oi(t,e,n),t!==null?t.sibling:null);Xe(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,rT(t,e,n)}return oi(t,e,n)}var lT,Lp,uT,cT;lT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lp=function(){};uT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,So(Ar.current);var o=null;switch(n){case"input":i=ip(t,i),r=ip(t,r),o=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),o=[];break;case"textarea":i=ap(t,i),r=ap(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ed)}up(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ze("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};cT=function(t,e,n,r){n!==r&&(e.flags|=4)};function za(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BC(t,e,n){var r=e.pendingProps;switch(Zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Pn(e.type)&&td(),nn(e),null;case 3:return r=e.stateNode,Ws(),et(Rn),et(un),lg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Hp(cr),cr=null))),Lp(t,e),nn(e),null;case 5:ag(e);var i=So($l.current);if(n=e.type,t!==null&&e.stateNode!=null)uT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return nn(e),null}if(t=So(Ar.current),tc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sr]=e,r[Fl]=o,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<nl.length;i++)Ze(nl[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Xy(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":Jy(r,o),Ze("invalid",r)}up(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ec(r.textContent,a,t),i=["children",""+a]):bl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Wu(r),Yy(r,o,!0);break;case"textarea":Wu(r),Zy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Sr]=e,t[Fl]=r,lT(t,e,!1,!1),e.stateNode=t;e:{switch(s=cp(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<nl.length;i++)Ze(nl[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":Xy(t,r),i=ip(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":Jy(t,r),i=ap(t,r),Ze("invalid",t);break;default:i=r}up(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?$E(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&FE(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xl(t,u):typeof u=="number"&&xl(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ze("scroll",t):u!=null&&Vm(t,o,u,s))}switch(n){case"input":Wu(t),Yy(t,r,!1);break;case"textarea":Wu(t),Zy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ks(t,!!r.multiple,o,!1):r.defaultValue!=null&&ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)cT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=So($l.current),So(Ar.current),tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(o=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return nn(e),null;case 13:if(et(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&Dn!==null&&e.mode&1&&!(e.flags&128))Cw(),Hs(),e.flags|=98560,o=!1;else if(o=tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(X(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Sr]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),o=!1}else cr!==null&&(Hp(cr),cr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Dt===0&&(Dt=3):Eg())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return Ws(),Lp(t,e),t===null&&jl(e.stateNode.containerInfo),nn(e),null;case 10:return rg(e.type._context),nn(e),null;case 17:return Pn(e.type)&&td(),nn(e),null;case 19:if(et(ut),o=e.memoizedState,o===null)return nn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)za(o,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ld(t),s!==null){for(e.flags|=128,za(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ut,ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&St()>Ks&&(e.flags|=128,r=!0,za(o,!1),e.lanes=4194304)}else{if(!r)if(t=ld(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),za(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!it)return nn(e),null}else 2*St()-o.renderingStartTime>Ks&&n!==1073741824&&(e.flags|=128,r=!0,za(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,n=ut.current,Xe(ut,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return _g(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function zC(t,e){switch(Zm(e),e.tag){case 1:return Pn(e.type)&&td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ws(),et(Rn),et(un),lg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ag(e),null;case 13:if(et(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ut),null;case 4:return Ws(),null;case 10:return rg(e.type._context),null;case 22:case 23:return _g(),null;case 24:return null;default:return null}}var ic=!1,an=!1,HC=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function jp(t,e,n){try{n()}catch(r){vt(t,e,r)}}var B_=!1;function qC(t,e){if(Ep=Yc,t=mw(),Ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(S=f.firstChild)!==null;)p=f,f=S;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++d===r&&(u=s),(S=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:t,selectionRange:n},Yc=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var C=R.memoizedProps,k=R.memoizedState,I=e.stateNode,E=I.getSnapshotBeforeUpdate(e.elementType===e.type?C:sr(e.type,C),k);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(x){vt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return R=B_,B_=!1,R}function gl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&jp(e,n,o)}i=i.next}while(i!==r)}}function Qd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dT(t){var e=t.alternate;e!==null&&(t.alternate=null,dT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[Fl],delete e[Ip],delete e[AC],delete e[CC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hT(t){return t.tag===5||t.tag===3||t.tag===4}function z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ed));else if(r!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}function Up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}var qt=null,lr=!1;function wi(t,e,n){for(n=n.child;n!==null;)fT(t,e,n),n=n.sibling}function fT(t,e,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:an||Ps(n,e);case 6:var r=qt,i=lr;qt=null,wi(t,e,n),qt=r,lr=i,qt!==null&&(lr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(lr?(t=qt,n=n.stateNode,t.nodeType===8?yf(t.parentNode,n):t.nodeType===1&&yf(t,n),Dl(t)):yf(qt,n.stateNode));break;case 4:r=qt,i=lr,qt=n.stateNode.containerInfo,lr=!0,wi(t,e,n),qt=r,lr=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&jp(n,e,s),i=i.next}while(i!==r)}wi(t,e,n);break;case 1:if(!an&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,wi(t,e,n),an=r):wi(t,e,n);break;default:wi(t,e,n)}}function H_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HC),e.forEach(function(r){var i=eb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,lr=!1;break e;case 3:qt=a.stateNode.containerInfo,lr=!0;break e;case 4:qt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(qt===null)throw Error(X(160));fT(o,s,i),qt=null,lr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){vt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pT(e,t),e=e.sibling}function pT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),wr(t),r&4){try{gl(3,t,t.return),Qd(3,t)}catch(C){vt(t,t.return,C)}try{gl(5,t,t.return)}catch(C){vt(t,t.return,C)}}break;case 1:or(e,t),wr(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(or(e,t),wr(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(C){vt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&LE(i,o),cp(a,s);var c=cp(a,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?$E(i,f):d==="dangerouslySetInnerHTML"?FE(i,f):d==="children"?xl(i,f):Vm(i,d,f,c)}switch(a){case"input":op(i,o);break;case"textarea":jE(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?ks(i,!!o.multiple,S,!1):p!==!!o.multiple&&(o.defaultValue!=null?ks(i,!!o.multiple,o.defaultValue,!0):ks(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fl]=o}catch(C){vt(t,t.return,C)}}break;case 6:if(or(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){vt(t,t.return,C)}}break;case 3:if(or(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(C){vt(t,t.return,C)}break;case 4:or(e,t),wr(t);break;case 13:or(e,t),wr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vg=St())),r&4&&H_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(an=(c=an)||d,or(e,t),an=c):or(e,t),wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(f=le=d;le!==null;){switch(p=le,S=p.child,p.tag){case 0:case 11:case 14:case 15:gl(4,p,p.return);break;case 1:Ps(p,p.return);var R=p.stateNode;if(typeof R.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(C){vt(r,n,C)}}break;case 5:Ps(p,p.return);break;case 22:if(p.memoizedState!==null){W_(f);continue}}S!==null?(S.return=p,le=S):W_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=UE("display",s))}catch(C){vt(t,t.return,C)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(C){vt(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),wr(t),r&4&&H_(t);break;case 21:break;default:or(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hT(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var o=z_(t);Up(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=z_(t);Fp(t,a,s);break;default:throw Error(X(161))}}catch(u){vt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WC(t,e,n){le=t,mT(t)}function mT(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ic;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||an;a=ic;var c=an;if(ic=s,(an=u)&&!c)for(le=i;le!==null;)s=le,u=s.child,s.tag===22&&s.memoizedState!==null?G_(i):u!==null?(u.return=s,le=u):G_(i);for(;o!==null;)le=o,mT(o),o=o.sibling;le=i,ic=a,an=c}q_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):q_(t)}}function q_(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||Qd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&b_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Dl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}an||e.flags&512&&Vp(e)}catch(p){vt(e,e.return,p)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function W_(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function G_(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qd(4,e)}catch(u){vt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){vt(e,i,u)}}var o=e.return;try{Vp(e)}catch(u){vt(e,o,u)}break;case 5:var s=e.return;try{Vp(e)}catch(u){vt(e,s,u)}}}catch(u){vt(e,e.return,u)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var GC=Math.ceil,dd=ci.ReactCurrentDispatcher,mg=ci.ReactCurrentOwner,Yn=ci.ReactCurrentBatchConfig,Ue=0,Ft=null,bt=null,Kt=0,On=0,As=oo(0),Dt=0,ql=null,jo=0,Xd=0,gg=0,vl=null,wn=null,vg=0,Ks=1/0,zr=null,hd=!1,$p=null,Hi=null,oc=!1,Mi=null,fd=0,yl=0,Bp=null,Oc=-1,Nc=0;function gn(){return Ue&6?St():Oc!==-1?Oc:Oc=St()}function qi(t){return t.mode&1?Ue&2&&Kt!==0?Kt&-Kt:xC.transition!==null?(Nc===0&&(Nc=ZE()),Nc):(t=He,t!==0||(t=window.event,t=t===void 0?16:sw(t.type)),t):1}function hr(t,e,n,r){if(50<yl)throw yl=0,Bp=null,Error(X(185));cu(t,n,r),(!(Ue&2)||t!==Ft)&&(t===Ft&&(!(Ue&2)&&(Xd|=n),Dt===4&&Ci(t,Kt)),An(t,r),n===1&&Ue===0&&!(e.mode&1)&&(Ks=St()+500,Wd&&so()))}function An(t,e){var n=t.callbackNode;xA(t,e);var r=Xc(t,t===Ft?Kt:0);if(r===0)n!==null&&n_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n_(n),e===1)t.tag===0?bC(K_.bind(null,t)):Rw(K_.bind(null,t)),RC(function(){!(Ue&6)&&so()}),n=null;else{switch(ew(r)){case 1:n=zm;break;case 4:n=YE;break;case 16:n=Qc;break;case 536870912:n=JE;break;default:n=Qc}n=ST(n,gT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gT(t,e){if(Oc=-1,Nc=0,Ue&6)throw Error(X(327));var n=t.callbackNode;if(Ls()&&t.callbackNode!==n)return null;var r=Xc(t,t===Ft?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pd(t,r);else{e=r;var i=Ue;Ue|=2;var o=yT();(Ft!==t||Kt!==e)&&(zr=null,Ks=St()+500,Ao(t,e));do try{XC();break}catch(a){vT(t,a)}while(!0);ng(),dd.current=o,Ue=i,bt!==null?e=0:(Ft=null,Kt=0,e=Dt)}if(e!==0){if(e===2&&(i=mp(t),i!==0&&(r=i,e=zp(t,i))),e===1)throw n=ql,Ao(t,0),Ci(t,r),An(t,St()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!KC(i)&&(e=pd(t,r),e===2&&(o=mp(t),o!==0&&(r=o,e=zp(t,o))),e===1))throw n=ql,Ao(t,0),Ci(t,r),An(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:yo(t,wn,zr);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=vg+500-St(),10<e)){if(Xc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sp(yo.bind(null,t,wn,zr),e);break}yo(t,wn,zr);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GC(r/1960))-r,10<r){t.timeoutHandle=Sp(yo.bind(null,t,wn,zr),r);break}yo(t,wn,zr);break;case 5:yo(t,wn,zr);break;default:throw Error(X(329))}}}return An(t,St()),t.callbackNode===n?gT.bind(null,t):null}function zp(t,e){var n=vl;return t.current.memoizedState.isDehydrated&&(Ao(t,e).flags|=256),t=pd(t,e),t!==2&&(e=wn,wn=n,e!==null&&Hp(e)),t}function Hp(t){wn===null?wn=t:wn.push.apply(wn,t)}function KC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!pr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~gg,e&=~Xd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function K_(t){if(Ue&6)throw Error(X(327));Ls();var e=Xc(t,0);if(!(e&1))return An(t,St()),null;var n=pd(t,e);if(t.tag!==0&&n===2){var r=mp(t);r!==0&&(e=r,n=zp(t,r))}if(n===1)throw n=ql,Ao(t,0),Ci(t,e),An(t,St()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yo(t,wn,zr),An(t,St()),null}function yg(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(Ks=St()+500,Wd&&so())}}function Vo(t){Mi!==null&&Mi.tag===0&&!(Ue&6)&&Ls();var e=Ue;Ue|=1;var n=Yn.transition,r=He;try{if(Yn.transition=null,He=1,t)return t()}finally{He=r,Yn.transition=n,Ue=e,!(Ue&6)&&so()}}function _g(){On=As.current,et(As)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IC(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(Zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:Ws(),et(Rn),et(un),lg();break;case 5:ag(r);break;case 4:Ws();break;case 13:et(ut);break;case 19:et(ut);break;case 10:rg(r.type._context);break;case 22:case 23:_g()}n=n.return}if(Ft=t,bt=t=Wi(t.current,null),Kt=On=e,Dt=0,ql=null,gg=Xd=jo=0,wn=vl=null,To!==null){for(e=0;e<To.length;e++)if(n=To[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}To=null}return t}function vT(t,e){do{var n=bt;try{if(ng(),bc.current=cd,ud){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ud=!1}if(Lo=0,Vt=Nt=ct=null,ml=!1,Bl=0,mg.current=null,n===null||n.return===null){Dt=1,ql=e,bt=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Kt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=M_(s);if(S!==null){S.flags&=-257,L_(S,s,a,o,e),S.mode&1&&D_(o,c,e),e=S,u=c;var R=e.updateQueue;if(R===null){var C=new Set;C.add(u),e.updateQueue=C}else R.add(u);break e}else{if(!(e&1)){D_(o,c,e),Eg();break e}u=Error(X(426))}}else if(it&&a.mode&1){var k=M_(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),L_(k,s,a,o,e),eg(Gs(u,a));break e}}o=u=Gs(u,a),Dt!==4&&(Dt=2),vl===null?vl=[o]:vl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=eT(o,u,e);C_(o,I);break e;case 1:a=u;var E=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hi===null||!Hi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=tT(o,a,e);C_(o,x);break e}}o=o.return}while(o!==null)}ET(n)}catch(V){e=V,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function yT(){var t=dd.current;return dd.current=cd,t===null?cd:t}function Eg(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(jo&268435455)&&!(Xd&268435455)||Ci(Ft,Kt)}function pd(t,e){var n=Ue;Ue|=2;var r=yT();(Ft!==t||Kt!==e)&&(zr=null,Ao(t,e));do try{QC();break}catch(i){vT(t,i)}while(!0);if(ng(),Ue=n,dd.current=r,bt!==null)throw Error(X(261));return Ft=null,Kt=0,Dt}function QC(){for(;bt!==null;)_T(bt)}function XC(){for(;bt!==null&&!wA();)_T(bt)}function _T(t){var e=TT(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?ET(t):bt=e,mg.current=null}function ET(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zC(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,bt=null;return}}else if(n=BC(n,e,On),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Dt===0&&(Dt=5)}function yo(t,e,n){var r=He,i=Yn.transition;try{Yn.transition=null,He=1,YC(t,e,n,r)}finally{Yn.transition=i,He=r}return null}function YC(t,e,n,r){do Ls();while(Mi!==null);if(Ue&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kA(t,o),t===Ft&&(bt=Ft=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,ST(Qc,function(){return Ls(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Yn.transition,Yn.transition=null;var s=He;He=1;var a=Ue;Ue|=4,mg.current=null,qC(t,n),pT(n,t),vC(wp),Yc=!!Ep,wp=Ep=null,t.current=n,WC(n),TA(),Ue=a,He=s,Yn.transition=o}else t.current=n;if(oc&&(oc=!1,Mi=t,fd=i),o=t.pendingLanes,o===0&&(Hi=null),RA(n.stateNode),An(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hd)throw hd=!1,t=$p,$p=null,t;return fd&1&&t.tag!==0&&Ls(),o=t.pendingLanes,o&1?t===Bp?yl++:(yl=0,Bp=t):yl=0,so(),null}function Ls(){if(Mi!==null){var t=ew(fd),e=Yn.transition,n=He;try{if(Yn.transition=null,He=16>t?16:t,Mi===null)var r=!1;else{if(t=Mi,Mi=null,fd=0,Ue&6)throw Error(X(331));var i=Ue;for(Ue|=4,le=t.current;le!==null;){var o=le,s=o.child;if(le.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(le=c;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:gl(8,d,o)}var f=d.child;if(f!==null)f.return=d,le=f;else for(;le!==null;){d=le;var p=d.sibling,S=d.return;if(dT(d),d===c){le=null;break}if(p!==null){p.return=S,le=p;break}le=S}}}var R=o.alternate;if(R!==null){var C=R.child;if(C!==null){R.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,le=s;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gl(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,le=I;break e}le=o.return}}var E=t.current;for(le=E;le!==null;){s=le;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,le=_;else e:for(s=E;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qd(9,a)}}catch(V){vt(a,a.return,V)}if(a===s){le=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,le=x;break e}le=a.return}}if(Ue=i,so(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot($d,t)}catch{}r=!0}return r}finally{He=n,Yn.transition=e}}return!1}function Q_(t,e,n){e=Gs(n,e),e=eT(t,e,1),t=zi(t,e,1),e=gn(),t!==null&&(cu(t,1,e),An(t,e))}function vt(t,e,n){if(t.tag===3)Q_(t,t,n);else for(;e!==null;){if(e.tag===3){Q_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=Gs(n,t),t=tT(e,t,1),e=zi(e,t,1),t=gn(),e!==null&&(cu(e,1,t),An(e,t));break}}e=e.return}}function JC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Kt&n)===n&&(Dt===4||Dt===3&&(Kt&130023424)===Kt&&500>St()-vg?Ao(t,0):gg|=n),An(t,e)}function wT(t,e){e===0&&(t.mode&1?(e=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):e=1);var n=gn();t=ii(t,e),t!==null&&(cu(t,e,n),An(t,n))}function ZC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wT(t,n)}function eb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),wT(t,n)}var TT;TT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,$C(t,e,n);In=!!(t.flags&131072)}else In=!1,it&&e.flags&1048576&&Pw(e,id,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kc(t,e),t=e.pendingProps;var i=zs(e,un.current);Ms(e,n),i=cg(null,e,r,t,i,n);var o=dg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(o=!0,nd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,og(e),i.updater=Kd,e.stateNode=i,i._reactInternals=e,xp(e,r,t,n),e=Np(null,e,r,!0,o,n)):(e.tag=0,it&&o&&Jm(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nb(r),t=sr(r,t),i){case 0:e=Op(null,e,r,t,n);break e;case 1:e=F_(null,e,r,t,n);break e;case 11:e=j_(null,e,r,t,n);break e;case 14:e=V_(null,e,r,sr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Op(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),F_(t,e,r,i,n);case 3:e:{if(oT(e),t===null)throw Error(X(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Ow(t,e),ad(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Gs(Error(X(423)),e),e=U_(t,e,r,n,i);break e}else if(r!==i){i=Gs(Error(X(424)),e),e=U_(t,e,r,n,i);break e}else for(Dn=Bi(e.stateNode.containerInfo.firstChild),Vn=e,it=!0,cr=null,n=xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),r===i){e=oi(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return Nw(e),t===null&&Ap(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Tp(r,i)?s=null:o!==null&&Tp(r,o)&&(e.flags|=32),iT(t,e),pn(t,e,s,n),e.child;case 6:return t===null&&Ap(e),null;case 13:return sT(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),j_(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Xe(od,r._currentValue),r._currentValue=s,o!==null)if(pr(o.value,s)){if(o.children===i.children&&!Rn.current){e=oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Yr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Cp(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(X(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Cp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=Jn(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),V_(t,e,r,i,n);case 15:return nT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),kc(t,e),e.tag=1,Pn(r)?(t=!0,nd(e)):t=!1,Ms(e,n),Zw(e,r,i),xp(e,r,i,n),Np(null,e,r,!0,t,n);case 19:return aT(t,e,n);case 22:return rT(t,e,n)}throw Error(X(156,e.tag))};function ST(t,e){return XE(t,e)}function tb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new tb(t,e,n,r)}function wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nb(t){if(typeof t=="function")return wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Um)return 11;if(t===$m)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")wg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case vs:return Co(n.children,i,o,e);case Fm:s=8,i|=8;break;case ep:return t=Xn(12,n,e,i|2),t.elementType=ep,t.lanes=o,t;case tp:return t=Xn(13,n,e,i),t.elementType=tp,t.lanes=o,t;case np:return t=Xn(19,n,e,i),t.elementType=np,t.lanes=o,t;case NE:return Yd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kE:s=10;break e;case OE:s=9;break e;case Um:s=11;break e;case $m:s=14;break e;case Ri:s=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Xn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Co(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Yd(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=NE,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function Af(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tg(t,e,n,r,i,o,s,a,u){return t=new rb(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},og(o),t}function ib(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IT(t){if(!t)return Zi;t=t._reactInternals;e:{if(Qo(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Pn(n))return Iw(t,n,e)}return e}function RT(t,e,n,r,i,o,s,a,u){return t=Tg(n,r,!0,t,i,o,s,a,u),t.context=IT(null),n=t.current,r=gn(),i=qi(n),o=Yr(r,i),o.callback=e??null,zi(n,o,i),t.current.lanes=i,cu(t,i,r),An(t,r),t}function Jd(t,e,n,r){var i=e.current,o=gn(),s=qi(i);return n=IT(n),e.context===null?e.context=n:e.pendingContext=n,e=Yr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zi(i,e,s),t!==null&&(hr(t,i,s,o),Cc(t,i,s)),s}function md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sg(t,e){X_(t,e),(t=t.alternate)&&X_(t,e)}function ob(){return null}var PT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ig(t){this._internalRoot=t}Zd.prototype.render=Ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Jd(t,e,null,null)};Zd.prototype.unmount=Ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vo(function(){Jd(null,t,null,null)}),e[ri]=null}};function Zd(t){this._internalRoot=t}Zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=rw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&ow(t)}};function Rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y_(){}function sb(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=md(s);o.call(c)}}var s=RT(e,r,t,0,null,!1,!1,"",Y_);return t._reactRootContainer=s,t[ri]=s.current,jl(t.nodeType===8?t.parentNode:t),Vo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=md(u);a.call(c)}}var u=Tg(t,0,!1,null,null,!1,!1,"",Y_);return t._reactRootContainer=u,t[ri]=u.current,jl(t.nodeType===8?t.parentNode:t),Vo(function(){Jd(e,u,n,r)}),u}function th(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=md(s);a.call(u)}}Jd(e,s,t,i)}else s=sb(n,e,t,i,r);return md(s)}tw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tl(e.pendingLanes);n!==0&&(Hm(e,n|1),An(e,St()),!(Ue&6)&&(Ks=St()+500,so()))}break;case 13:Vo(function(){var r=ii(t,1);if(r!==null){var i=gn();hr(r,t,1,i)}}),Sg(t,1)}};qm=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=gn();hr(e,t,134217728,n)}Sg(t,134217728)}};nw=function(t){if(t.tag===13){var e=qi(t),n=ii(t,e);if(n!==null){var r=gn();hr(n,t,e,r)}Sg(t,e)}};rw=function(){return He};iw=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};hp=function(t,e,n){switch(e){case"input":if(op(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qd(r);if(!i)throw Error(X(90));ME(r),op(r,i)}}}break;case"textarea":jE(t,n);break;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}};HE=yg;qE=Vo;var ab={usingClientEntryPoint:!1,Events:[hu,ws,qd,BE,zE,yg]},Ha={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lb={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||ob,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{$d=sc.inject(lb),Pr=sc}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(e))throw Error(X(200));return ib(t,e,null,n)};$n.createRoot=function(t,e){if(!Rg(t))throw Error(X(299));var n=!1,r="",i=PT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tg(t,1,!1,null,null,n,!1,r,i),t[ri]=e.current,jl(t.nodeType===8?t.parentNode:t),new Ig(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=KE(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return Vo(t)};$n.hydrate=function(t,e,n){if(!eh(e))throw Error(X(200));return th(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Rg(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=PT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=RT(e,null,t,1,n??null,i,!1,o,s),t[ri]=e.current,jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zd(e)};$n.render=function(t,e,n){if(!eh(e))throw Error(X(200));return th(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!eh(t))throw Error(X(40));return t._reactRootContainer?(Vo(function(){th(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};$n.unstable_batchedUpdates=yg;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eh(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return th(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function AT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AT)}catch(t){console.error(t)}}AT(),AE.exports=$n;var pu=AE.exports;const ub=km(pu),cb=mE({__proto__:null,default:ub},[pu]);var J_=pu;Jf.createRoot=J_.createRoot,Jf.hydrateRoot=J_.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lt.apply(this,arguments)}var At;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(At||(At={}));const Z_="popstate";function db(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Wl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fo(i)}return fb(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hb(){return Math.random().toString(36).substr(2,8)}function e0(t,e){return{usr:t.state,key:t.key,idx:e}}function Wl(t,e,n,r){return n===void 0&&(n=null),lt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ao(e):e,{state:n,key:e&&e.key||r||hb()})}function Fo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=At.Pop,u=null,c=d();c==null&&(c=0,s.replaceState(lt({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){a=At.Pop;let k=d(),I=k==null?null:k-c;c=k,u&&u({action:a,location:C.location,delta:I})}function p(k,I){a=At.Push;let E=Wl(C.location,k,I);c=d()+1;let _=e0(E,c),x=C.createHref(E);try{s.pushState(_,"",x)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(x)}o&&u&&u({action:a,location:C.location,delta:1})}function S(k,I){a=At.Replace;let E=Wl(C.location,k,I);c=d();let _=e0(E,c),x=C.createHref(E);s.replaceState(_,"",x),o&&u&&u({action:a,location:C.location,delta:0})}function R(k){let I=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof k=="string"?k:Fo(k);return E=E.replace(/ $/,"%20"),xe(I,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,I)}let C={get action(){return a},get location(){return t(i,s)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Z_,f),u=k,()=>{i.removeEventListener(Z_,f),u=null}},createHref(k){return e(i,k)},createURL:R,encodeLocation(k){let I=R(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:p,replace:S,go(k){return s.go(k)}};return C}var rt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rt||(rt={}));const pb=new Set(["lazy","caseSensitive","path","id","index","children"]);function mb(t){return t.index===!0}function qp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(xe(i.index!==!0||!i.children,"Cannot specify children on an index route"),xe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),mb(i)){let u=lt({},i,e(i),{id:a});return r[a]=u,u}else{let u=lt({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=qp(i.children,e,s,r)),u}})}function Cs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ao(e):e,i=ha(r.pathname||"/",n);if(i==null)return null;let o=CT(t);vb(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let u=bb(i);s=Pb(o[a],u)}return s}function gb(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function CT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(xe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Jr([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),CT(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Ib(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of bT(o.path))i(o,s,u)}),e}function bT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=bT(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function vb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Rb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yb=/^:[\w-]+$/,_b=3,Eb=2,wb=1,Tb=10,Sb=-2,t0=t=>t==="*";function Ib(t,e){let n=t.split("/"),r=n.length;return n.some(t0)&&(r+=Sb),e&&(r+=Eb),n.filter(i=>!t0(i)).reduce((i,o)=>i+(yb.test(o)?_b:o===""?wb:Tb),r)}function Rb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Pb(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],u=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=Ab({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;o.push({params:r,pathname:Jr([i,d.pathname]),pathnameBase:Ob(Jr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Jr([i,d.pathnameBase]))}return o}function Ab(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Cb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:S}=d;if(p==="*"){let C=a[f]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const R=a[f];return S&&!R?c[p]=void 0:c[p]=(R||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Cb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ha(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ao(t):t;return{pathname:n?n.startsWith("/")?n:kb(n,e):e,search:Nb(r),hash:Db(i)}}function kb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nh(t,e){let n=xT(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ao(t):(i=lt({},t),xe(!i.pathname||!i.pathname.includes("?"),Cf("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Cf("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Cf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=xb(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Jr=t=>t.join("/").replace(/\/\/+/g,"/"),Ob=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Db=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Pg{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ag(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kT=["post","put","patch","delete"],Mb=new Set(kT),Lb=["get",...kT],jb=new Set(Lb),Vb=new Set([301,302,303,307,308]),Fb=new Set([307,308]),bf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ub={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$b=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),OT="remix-router-transitions";function Bb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;xe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=j=>({hasErrorBoundary:N(j)})}else i=$b;let o={},s=qp(t.routes,i,void 0,o),a,u=t.basename||"/",c=t.unstable_dataStrategy||Wb,d=lt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,S=null,R=null,C=null,k=t.hydrationData!=null,I=Cs(s,t.history.location,u),E=null;if(I==null){let N=Hn(404,{pathname:t.history.location.pathname}),{matches:j,route:W}=d0(s);I=j,E={[W.id]:N}}let _,x=I.some(N=>N.route.lazy),V=I.some(N=>N.route.loader);if(x)_=!1;else if(!V)_=!0;else if(d.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,j=t.hydrationData?t.hydrationData.errors:null,W=Y=>Y.route.loader?typeof Y.route.loader=="function"&&Y.route.loader.hydrate===!0?!1:N&&N[Y.route.id]!==void 0||j&&j[Y.route.id]!==void 0:!0;if(j){let Y=I.findIndex(se=>j[se.route.id]!==void 0);_=I.slice(0,Y+1).every(W)}else _=I.every(W)}else _=t.hydrationData!=null;let q,v={historyAction:t.history.action,location:t.history.location,matches:I,initialized:_,navigation:bf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},y=At.Pop,w=!1,P,b=!1,O=new Map,A=null,J=!1,te=!1,Se=[],F=[],L=new Map,Z=0,re=-1,ne=new Map,ae=new Set,ce=new Map,Ce=new Map,be=new Set,_e=new Map,Be=new Map,En=!1;function U(){if(f=t.history.listen(N=>{let{action:j,location:W,delta:Y}=N;if(En){En=!1;return}Qs(Be.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=Er({currentLocation:v.location,nextLocation:W,historyAction:j});if(se&&Y!=null){En=!0,t.history.go(Y*-1),hi(se,{state:"blocked",location:W,proceed(){hi(se,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),t.history.go(Y)},reset(){let he=new Map(v.blockers);he.set(se,qa),B({blockers:he})}});return}return Ie(j,W)}),n){ix(e,O);let N=()=>ox(e,O);e.addEventListener("pagehide",N),A=()=>e.removeEventListener("pagehide",N)}return v.initialized||Ie(At.Pop,v.location,{initialHydration:!0}),q}function $(){f&&f(),A&&A(),p.clear(),P&&P.abort(),v.fetchers.forEach((N,j)=>ke(j)),v.blockers.forEach((N,j)=>kt(j))}function z(N){return p.add(N),()=>p.delete(N)}function B(N,j){j===void 0&&(j={}),v=lt({},v,N);let W=[],Y=[];d.v7_fetcherPersist&&v.fetchers.forEach((se,he)=>{se.state==="idle"&&(be.has(he)?Y.push(he):W.push(he))}),[...p].forEach(se=>se(v,{deletedFetchers:Y,unstable_viewTransitionOpts:j.viewTransitionOpts,unstable_flushSync:j.flushSync===!0})),d.v7_fetcherPersist&&(W.forEach(se=>v.fetchers.delete(se)),Y.forEach(se=>ke(se)))}function K(N,j,W){var Y,se;let{flushSync:he}=W===void 0?{}:W,pe=v.actionData!=null&&v.navigation.formMethod!=null&&ur(v.navigation.formMethod)&&v.navigation.state==="loading"&&((Y=N.state)==null?void 0:Y._isRedirect)!==!0,oe;j.actionData?Object.keys(j.actionData).length>0?oe=j.actionData:oe=null:pe?oe=v.actionData:oe=null;let Ee=j.loaderData?u0(v.loaderData,j.loaderData,j.matches||[],j.errors):v.loaderData,we=v.blockers;we.size>0&&(we=new Map(we),we.forEach((ve,Ke)=>we.set(Ke,qa)));let Ot=w===!0||v.navigation.formMethod!=null&&ur(v.navigation.formMethod)&&((se=N.state)==null?void 0:se._isRedirect)!==!0;a&&(s=a,a=void 0),J||y===At.Pop||(y===At.Push?t.history.push(N,N.state):y===At.Replace&&t.history.replace(N,N.state));let nt;if(y===At.Pop){let ve=O.get(v.location.pathname);ve&&ve.has(N.pathname)?nt={currentLocation:v.location,nextLocation:N}:O.has(N.pathname)&&(nt={currentLocation:N,nextLocation:v.location})}else if(b){let ve=O.get(v.location.pathname);ve?ve.add(N.pathname):(ve=new Set([N.pathname]),O.set(v.location.pathname,ve)),nt={currentLocation:v.location,nextLocation:N}}B(lt({},j,{actionData:oe,loaderData:Ee,historyAction:y,location:N,initialized:!0,navigation:bf,revalidation:"idle",restoreScrollPosition:pi(N,j.matches||v.matches),preventScrollReset:Ot,blockers:we}),{viewTransitionOpts:nt,flushSync:he===!0}),y=At.Pop,w=!1,b=!1,J=!1,te=!1,Se=[],F=[]}async function ge(N,j){if(typeof N=="number"){t.history.go(N);return}let W=Wp(v.location,v.matches,u,d.v7_prependBasename,N,d.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:Y,submission:se,error:he}=n0(d.v7_normalizeFormMethod,!1,W,j),pe=v.location,oe=Wl(v.location,Y,j&&j.state);oe=lt({},oe,t.history.encodeLocation(oe));let Ee=j&&j.replace!=null?j.replace:void 0,we=At.Push;Ee===!0?we=At.Replace:Ee===!1||se!=null&&ur(se.formMethod)&&se.formAction===v.location.pathname+v.location.search&&(we=At.Replace);let Ot=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,nt=(j&&j.unstable_flushSync)===!0,ve=Er({currentLocation:pe,nextLocation:oe,historyAction:we});if(ve){hi(ve,{state:"blocked",location:oe,proceed(){hi(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),ge(N,j)},reset(){let Ke=new Map(v.blockers);Ke.set(ve,qa),B({blockers:Ke})}});return}return await Ie(we,oe,{submission:se,pendingError:he,preventScrollReset:Ot,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition,flushSync:nt})}function de(){if(Ut(),B({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Ie(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Ie(y||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function Ie(N,j,W){P&&P.abort(),P=null,y=N,J=(W&&W.startUninterruptedRevalidation)===!0,rs(v.location,v.matches),w=(W&&W.preventScrollReset)===!0,b=(W&&W.enableViewTransition)===!0;let Y=a||s,se=W&&W.overrideNavigation,he=Cs(Y,j,u),pe=(W&&W.flushSync)===!0;if(!he){let ve=Hn(404,{pathname:j.pathname}),{matches:Ke,route:at}=d0(Y);fi(),K(j,{matches:Ke,loaderData:{},errors:{[at.id]:ve}},{flushSync:pe});return}if(v.initialized&&!te&&Jb(v.location,j)&&!(W&&W.submission&&ur(W.submission.formMethod))){K(j,{matches:he},{flushSync:pe});return}P=new AbortController;let oe=ls(t.history,j,P.signal,W&&W.submission),Ee;if(W&&W.pendingError)Ee=[_l(he).route.id,{type:rt.error,error:W.pendingError}];else if(W&&W.submission&&ur(W.submission.formMethod)){let ve=await ft(oe,j,W.submission,he,{replace:W.replace,flushSync:pe});if(ve.shortCircuited)return;Ee=ve.pendingActionResult,se=xf(j,W.submission),pe=!1,oe=ls(t.history,oe.url,oe.signal)}let{shortCircuited:we,loaderData:Ot,errors:nt}=await pt(oe,j,he,se,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,pe,Ee);we||(P=null,K(j,lt({matches:he},c0(Ee),{loaderData:Ot,errors:nt})))}async function ft(N,j,W,Y,se){se===void 0&&(se={}),Ut();let he=nx(j,W);B({navigation:he},{flushSync:se.flushSync===!0});let pe,oe=Kp(Y,j);if(!oe.route.action&&!oe.route.lazy)pe={type:rt.error,error:Hn(405,{method:N.method,pathname:j.pathname,routeId:oe.route.id})};else if(pe=(await wt("action",N,[oe],Y))[0],N.signal.aborted)return{shortCircuited:!0};if(Ro(pe)){let Ee;return se&&se.replace!=null?Ee=se.replace:Ee=s0(pe.response.headers.get("Location"),new URL(N.url),u)===v.location.pathname+v.location.search,await It(N,pe,{submission:W,replace:Ee}),{shortCircuited:!0}}if(Io(pe))throw Hn(400,{type:"defer-action"});if(Kn(pe)){let Ee=_l(Y,oe.route.id);return(se&&se.replace)!==!0&&(y=At.Push),{pendingActionResult:[Ee.route.id,pe]}}return{pendingActionResult:[oe.route.id,pe]}}async function pt(N,j,W,Y,se,he,pe,oe,Ee,we){let Ot=Y||xf(j,se),nt=se||he||p0(Ot),ve=a||s,[Ke,at]=r0(t.history,v,W,nt,j,d.v7_partialHydration&&oe===!0,d.unstable_skipActionErrorRevalidation,te,Se,F,be,ce,ae,ve,u,we);if(fi(Oe=>!(W&&W.some(Bt=>Bt.route.id===Oe))||Ke&&Ke.some(Bt=>Bt.route.id===Oe)),re=++Z,Ke.length===0&&at.length===0){let Oe=nr();return K(j,lt({matches:W,loaderData:{},errors:we&&Kn(we[1])?{[we[0]]:we[1].error}:null},c0(we),Oe?{fetchers:new Map(v.fetchers)}:{}),{flushSync:Ee}),{shortCircuited:!0}}if(!J&&(!d.v7_partialHydration||!oe)){at.forEach(Bt=>{let zt=v.fetchers.get(Bt.key),Rt=Wa(void 0,zt?zt.data:void 0);v.fetchers.set(Bt.key,Rt)});let Oe;we&&!Kn(we[1])?Oe={[we[0]]:we[1].data}:v.actionData&&(Object.keys(v.actionData).length===0?Oe=null:Oe=v.actionData),B(lt({navigation:Ot},Oe!==void 0?{actionData:Oe}:{},at.length>0?{fetchers:new Map(v.fetchers)}:{}),{flushSync:Ee})}at.forEach(Oe=>{L.has(Oe.key)&&st(Oe.key),Oe.controller&&L.set(Oe.key,Oe.controller)});let mi=()=>at.forEach(Oe=>st(Oe.key));P&&P.signal.addEventListener("abort",mi);let{loaderResults:zn,fetcherResults:rr}=await dn(v.matches,W,Ke,at,N);if(N.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",mi),at.forEach(Oe=>L.delete(Oe.key));let hn=h0([...zn,...rr]);if(hn){if(hn.idx>=Ke.length){let Oe=at[hn.idx-Ke.length].key;ae.add(Oe)}return await It(N,hn.result,{replace:pe}),{shortCircuited:!0}}let{loaderData:Vr,errors:bn}=l0(v,W,Ke,zn,we,at,rr,_e);_e.forEach((Oe,Bt)=>{Oe.subscribe(zt=>{(zt||Oe.done)&&_e.delete(Bt)})}),d.v7_partialHydration&&oe&&v.errors&&Object.entries(v.errors).filter(Oe=>{let[Bt]=Oe;return!Ke.some(zt=>zt.route.id===Bt)}).forEach(Oe=>{let[Bt,zt]=Oe;bn=Object.assign(bn||{},{[Bt]:zt})});let gi=nr(),vi=_r(re),po=gi||vi||at.length>0;return lt({loaderData:Vr,errors:bn},po?{fetchers:new Map(v.fetchers)}:{})}function me(N,j,W,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(N)&&st(N);let se=(Y&&Y.unstable_flushSync)===!0,he=a||s,pe=Wp(v.location,v.matches,u,d.v7_prependBasename,W,d.v7_relativeSplatPath,j,Y==null?void 0:Y.relative),oe=Cs(he,pe,u);if(!oe){ot(N,j,Hn(404,{pathname:pe}),{flushSync:se});return}let{path:Ee,submission:we,error:Ot}=n0(d.v7_normalizeFormMethod,!0,pe,Y);if(Ot){ot(N,j,Ot,{flushSync:se});return}let nt=Kp(oe,Ee);if(w=(Y&&Y.preventScrollReset)===!0,we&&ur(we.formMethod)){Le(N,j,Ee,nt,oe,se,we);return}ce.set(N,{routeId:j,path:Ee}),Lt(N,j,Ee,nt,oe,se,we)}async function Le(N,j,W,Y,se,he,pe){if(Ut(),ce.delete(N),!Y.route.action&&!Y.route.lazy){let Rt=Hn(405,{method:pe.formMethod,pathname:W,routeId:j});ot(N,j,Rt,{flushSync:he});return}let oe=v.fetchers.get(N);Fe(N,rx(pe,oe),{flushSync:he});let Ee=new AbortController,we=ls(t.history,W,Ee.signal,pe);L.set(N,Ee);let Ot=Z,ve=(await wt("action",we,[Y],se))[0];if(we.signal.aborted){L.get(N)===Ee&&L.delete(N);return}if(d.v7_fetcherPersist&&be.has(N)){if(Ro(ve)||Kn(ve)){Fe(N,Ii(void 0));return}}else{if(Ro(ve))if(L.delete(N),re>Ot){Fe(N,Ii(void 0));return}else return ae.add(N),Fe(N,Wa(pe)),It(we,ve,{fetcherSubmission:pe});if(Kn(ve)){ot(N,j,ve.error);return}}if(Io(ve))throw Hn(400,{type:"defer-action"});let Ke=v.navigation.location||v.location,at=ls(t.history,Ke,Ee.signal),mi=a||s,zn=v.navigation.state!=="idle"?Cs(mi,v.navigation.location,u):v.matches;xe(zn,"Didn't find any matches after fetcher action");let rr=++Z;ne.set(N,rr);let hn=Wa(pe,ve.data);v.fetchers.set(N,hn);let[Vr,bn]=r0(t.history,v,zn,pe,Ke,!1,d.unstable_skipActionErrorRevalidation,te,Se,F,be,ce,ae,mi,u,[Y.route.id,ve]);bn.filter(Rt=>Rt.key!==N).forEach(Rt=>{let Fr=Rt.key,yi=v.fetchers.get(Fr),Ur=Wa(void 0,yi?yi.data:void 0);v.fetchers.set(Fr,Ur),L.has(Fr)&&st(Fr),Rt.controller&&L.set(Fr,Rt.controller)}),B({fetchers:new Map(v.fetchers)});let gi=()=>bn.forEach(Rt=>st(Rt.key));Ee.signal.addEventListener("abort",gi);let{loaderResults:vi,fetcherResults:po}=await dn(v.matches,zn,Vr,bn,at);if(Ee.signal.aborted)return;Ee.signal.removeEventListener("abort",gi),ne.delete(N),L.delete(N),bn.forEach(Rt=>L.delete(Rt.key));let Oe=h0([...vi,...po]);if(Oe){if(Oe.idx>=Vr.length){let Rt=bn[Oe.idx-Vr.length].key;ae.add(Rt)}return It(at,Oe.result)}let{loaderData:Bt,errors:zt}=l0(v,v.matches,Vr,vi,void 0,bn,po,_e);if(v.fetchers.has(N)){let Rt=Ii(ve.data);v.fetchers.set(N,Rt)}_r(rr),v.navigation.state==="loading"&&rr>re?(xe(y,"Expected pending action"),P&&P.abort(),K(v.navigation.location,{matches:zn,loaderData:Bt,errors:zt,fetchers:new Map(v.fetchers)})):(B({errors:zt,loaderData:u0(v.loaderData,Bt,zn,zt),fetchers:new Map(v.fetchers)}),te=!1)}async function Lt(N,j,W,Y,se,he,pe){let oe=v.fetchers.get(N);Fe(N,Wa(pe,oe?oe.data:void 0),{flushSync:he});let Ee=new AbortController,we=ls(t.history,W,Ee.signal);L.set(N,Ee);let Ot=Z,ve=(await wt("loader",we,[Y],se))[0];if(Io(ve)&&(ve=await LT(ve,we.signal,!0)||ve),L.get(N)===Ee&&L.delete(N),!we.signal.aborted){if(be.has(N)){Fe(N,Ii(void 0));return}if(Ro(ve))if(re>Ot){Fe(N,Ii(void 0));return}else{ae.add(N),await It(we,ve);return}if(Kn(ve)){ot(N,j,ve.error);return}xe(!Io(ve),"Unhandled fetcher deferred data"),Fe(N,Ii(ve.data))}}async function It(N,j,W){let{submission:Y,fetcherSubmission:se,replace:he}=W===void 0?{}:W;j.response.headers.has("X-Remix-Revalidate")&&(te=!0);let pe=j.response.headers.get("Location");xe(pe,"Expected a Location header on the redirect Response"),pe=s0(pe,new URL(N.url),u);let oe=Wl(v.location,pe,{_isRedirect:!0});if(n){let Ke=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(Cg.test(pe)){const at=t.history.createURL(pe);Ke=at.origin!==e.location.origin||ha(at.pathname,u)==null}if(Ke){he?e.location.replace(pe):e.location.assign(pe);return}}P=null;let Ee=he===!0?At.Replace:At.Push,{formMethod:we,formAction:Ot,formEncType:nt}=v.navigation;!Y&&!se&&we&&Ot&&nt&&(Y=p0(v.navigation));let ve=Y||se;if(Fb.has(j.response.status)&&ve&&ur(ve.formMethod))await Ie(Ee,oe,{submission:lt({},ve,{formAction:pe}),preventScrollReset:w});else{let Ke=xf(oe,Y);await Ie(Ee,oe,{overrideNavigation:Ke,fetcherSubmission:se,preventScrollReset:w})}}async function wt(N,j,W,Y){try{let se=await Gb(c,N,j,W,Y,o,i);return await Promise.all(se.map((he,pe)=>{if(Zb(he)){let oe=he.result;return{type:rt.redirect,response:Xb(oe,j,W[pe].route.id,Y,u,d.v7_relativeSplatPath)}}return Qb(he)}))}catch(se){return W.map(()=>({type:rt.error,error:se}))}}async function dn(N,j,W,Y,se){let[he,...pe]=await Promise.all([W.length?wt("loader",se,W,j):[],...Y.map(oe=>{if(oe.matches&&oe.match&&oe.controller){let Ee=ls(t.history,oe.path,oe.controller.signal);return wt("loader",Ee,[oe.match],oe.matches).then(we=>we[0])}else return Promise.resolve({type:rt.error,error:Hn(404,{pathname:oe.path})})})]);return await Promise.all([f0(N,W,he,he.map(()=>se.signal),!1,v.loaderData),f0(N,Y.map(oe=>oe.match),pe,Y.map(oe=>oe.controller?oe.controller.signal:null),!0)]),{loaderResults:he,fetcherResults:pe}}function Ut(){te=!0,Se.push(...fi()),ce.forEach((N,j)=>{L.has(j)&&(F.push(j),st(j))})}function Fe(N,j,W){W===void 0&&(W={}),v.fetchers.set(N,j),B({fetchers:new Map(v.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function ot(N,j,W,Y){Y===void 0&&(Y={});let se=_l(v.matches,j);ke(N),B({errors:{[se.route.id]:W},fetchers:new Map(v.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Tt(N){return d.v7_fetcherPersist&&(Ce.set(N,(Ce.get(N)||0)+1),be.has(N)&&be.delete(N)),v.fetchers.get(N)||Ub}function ke(N){let j=v.fetchers.get(N);L.has(N)&&!(j&&j.state==="loading"&&ne.has(N))&&st(N),ce.delete(N),ne.delete(N),ae.delete(N),be.delete(N),v.fetchers.delete(N)}function qe(N){if(d.v7_fetcherPersist){let j=(Ce.get(N)||0)-1;j<=0?(Ce.delete(N),be.add(N)):Ce.set(N,j)}else ke(N);B({fetchers:new Map(v.fetchers)})}function st(N){let j=L.get(N);xe(j,"Expected fetch controller: "+N),j.abort(),L.delete(N)}function Jt(N){for(let j of N){let W=Tt(j),Y=Ii(W.data);v.fetchers.set(j,Y)}}function nr(){let N=[],j=!1;for(let W of ae){let Y=v.fetchers.get(W);xe(Y,"Expected fetcher: "+W),Y.state==="loading"&&(ae.delete(W),N.push(W),j=!0)}return Jt(N),j}function _r(N){let j=[];for(let[W,Y]of ne)if(Y<N){let se=v.fetchers.get(W);xe(se,"Expected fetcher: "+W),se.state==="loading"&&(st(W),ne.delete(W),j.push(W))}return Jt(j),j.length>0}function $t(N,j){let W=v.blockers.get(N)||qa;return Be.get(N)!==j&&Be.set(N,j),W}function kt(N){v.blockers.delete(N),Be.delete(N)}function hi(N,j){let W=v.blockers.get(N)||qa;xe(W.state==="unblocked"&&j.state==="blocked"||W.state==="blocked"&&j.state==="blocked"||W.state==="blocked"&&j.state==="proceeding"||W.state==="blocked"&&j.state==="unblocked"||W.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+W.state+" -> "+j.state);let Y=new Map(v.blockers);Y.set(N,j),B({blockers:Y})}function Er(N){let{currentLocation:j,nextLocation:W,historyAction:Y}=N;if(Be.size===0)return;Be.size>1&&Qs(!1,"A router only supports one blocker at a time");let se=Array.from(Be.entries()),[he,pe]=se[se.length-1],oe=v.blockers.get(he);if(!(oe&&oe.state==="proceeding")&&pe({currentLocation:j,nextLocation:W,historyAction:Y}))return he}function fi(N){let j=[];return _e.forEach((W,Y)=>{(!N||N(Y))&&(W.cancel(),j.push(Y),_e.delete(Y))}),j}function Ca(N,j,W){if(S=N,C=j,R=W||null,!k&&v.navigation===bf){k=!0;let Y=pi(v.location,v.matches);Y!=null&&B({restoreScrollPosition:Y})}return()=>{S=null,C=null,R=null}}function Lr(N,j){return R&&R(N,j.map(Y=>gb(Y,v.loaderData)))||N.key}function rs(N,j){if(S&&C){let W=Lr(N,j);S[W]=C()}}function pi(N,j){if(S){let W=Lr(N,j),Y=S[W];if(typeof Y=="number")return Y}return null}function jr(N){o={},a=qp(N,i,void 0,o)}return q={get basename(){return u},get future(){return d},get state(){return v},get routes(){return s},get window(){return e},initialize:U,subscribe:z,enableScrollRestoration:Ca,navigate:ge,fetch:me,revalidate:de,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Tt,deleteFetcher:qe,dispose:$,getBlocker:$t,deleteBlocker:kt,_internalFetchControllers:L,_internalActiveDeferreds:_e,_internalSetRoutes:jr},q}function zb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Wp(t,e,n,r,i,o,s,a){let u,c;if(s){u=[];for(let f of e)if(u.push(f),f.route.id===s){c=f;break}}else u=e,c=e[e.length-1];let d=rh(i||".",nh(u,o),ha(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!bg(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Jr([n,d.pathname])),Fo(d)}function n0(t,e,n,r){if(!r||!zb(r))return{path:n};if(r.formMethod&&!tx(r.formMethod))return{path:n,error:Hn(405,{method:r.formMethod})};let i=()=>({path:n,error:Hn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=DT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ur(s))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((S,R)=>{let[C,k]=R;return""+S+C+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!ur(s))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}xe(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Gp(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Gp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=a0(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=a0(u)}catch{return i()}let d={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ur(d.formMethod))return{path:n,submission:d};let f=ao(n);return e&&f.search&&bg(f.search)&&u.append("index",""),f.search="?"+u,{path:Fo(f),submission:d}}function Hb(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function r0(t,e,n,r,i,o,s,a,u,c,d,f,p,S,R,C){let k=C?Kn(C[1])?C[1].error:C[1].data:void 0,I=t.createURL(e.location),E=t.createURL(i),_=C&&Kn(C[1])?C[0]:void 0,x=_?Hb(n,_):n,V=C?C[1].statusCode:void 0,q=s&&V&&V>=400,v=x.filter((w,P)=>{let{route:b}=w;if(b.lazy)return!0;if(b.loader==null)return!1;if(o)return typeof b.loader!="function"||b.loader.hydrate?!0:e.loaderData[b.id]===void 0&&(!e.errors||e.errors[b.id]===void 0);if(qb(e.loaderData,e.matches[P],w)||u.some(J=>J===w.route.id))return!0;let O=e.matches[P],A=w;return i0(w,lt({currentUrl:I,currentParams:O.params,nextUrl:E,nextParams:A.params},r,{actionResult:k,unstable_actionStatus:V,defaultShouldRevalidate:q?!1:a||I.pathname+I.search===E.pathname+E.search||I.search!==E.search||NT(O,A)}))}),y=[];return f.forEach((w,P)=>{if(o||!n.some(te=>te.route.id===w.routeId)||d.has(P))return;let b=Cs(S,w.path,R);if(!b){y.push({key:P,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(P),A=Kp(b,w.path),J=!1;p.has(P)?J=!1:c.includes(P)?J=!0:O&&O.state!=="idle"&&O.data===void 0?J=a:J=i0(A,lt({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:k,unstable_actionStatus:V,defaultShouldRevalidate:q?!1:a})),J&&y.push({key:P,routeId:w.routeId,path:w.path,matches:b,match:A,controller:new AbortController})}),[v,y]}function qb(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function NT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function i0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function o0(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];xe(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";Qs(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!pb.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,lt({},e(i),{lazy:void 0}))}function Wb(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function Gb(t,e,n,r,i,o,s,a){let u=r.reduce((f,p)=>f.add(p.route.id),new Set),c=new Set,d=await t({matches:i.map(f=>{let p=u.has(f.route.id);return lt({},f,{shouldLoad:p,resolve:R=>(c.add(f.route.id),p?Kb(e,n,f,o,s,R,a):Promise.resolve({type:rt.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(f=>xe(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((f,p)=>u.has(i[p].route.id))}async function Kb(t,e,n,r,i,o,s){let a,u,c=d=>{let f,p=new Promise((C,k)=>f=k);u=()=>f(),e.signal.addEventListener("abort",u);let S=C=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:s},...C!==void 0?[C]:[]),R;return o?R=o(C=>S(C)):R=(async()=>{try{return{type:"data",result:await S()}}catch(C){return{type:"error",result:C}}})(),Promise.race([R,p])};try{let d=n.route[t];if(n.route.lazy)if(d){let f,[p]=await Promise.all([c(d).catch(S=>{f=S}),o0(n.route,i,r)]);if(f!==void 0)throw f;a=p}else if(await o0(n.route,i,r),d=n.route[t],d)a=await c(d);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw Hn(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:rt.data,result:void 0};else if(d)a=await c(d);else{let f=new URL(e.url),p=f.pathname+f.search;throw Hn(404,{pathname:p})}xe(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:rt.error,result:d}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function Qb(t){let{result:e,type:n,status:r}=t;if(MT(e)){let s;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(a){return{type:rt.error,error:a}}return n===rt.error?{type:rt.error,error:new Pg(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:rt.data,data:s,statusCode:e.status,headers:e.headers}}if(n===rt.error)return{type:rt.error,error:e,statusCode:Ag(e)?e.status:r};if(ex(e)){var i,o;return{type:rt.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}return{type:rt.data,data:e,statusCode:r}}function Xb(t,e,n,r,i,o){let s=t.headers.get("Location");if(xe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cg.test(s)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=Wp(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function s0(t,e,n){if(Cg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ha(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function ls(t,e,n,r){let i=t.createURL(DT(e)).toString(),o={signal:n};if(r&&ur(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Gp(r.formData):o.body=r.formData}return new Request(i,o)}function Gp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function a0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Yb(t,e,n,r,i,o){let s={},a=null,u,c=!1,d={},f=r&&Kn(r[1])?r[1].error:void 0;return n.forEach((p,S)=>{let R=e[S].route.id;if(xe(!Ro(p),"Cannot handle redirect results in processLoaderData"),Kn(p)){let C=p.error;f!==void 0&&(C=f,f=void 0),a=a||{};{let k=_l(t,R);a[k.route.id]==null&&(a[k.route.id]=C)}s[R]=void 0,c||(c=!0,u=Ag(p.error)?p.error.status:500),p.headers&&(d[R]=p.headers)}else Io(p)?(i.set(R,p.deferredData),s[R]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(u=p.statusCode),p.headers&&(d[R]=p.headers)):(s[R]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(u=p.statusCode),p.headers&&(d[R]=p.headers))}),f!==void 0&&r&&(a={[r[0]]:f},s[r[0]]=void 0),{loaderData:s,errors:a,statusCode:u||200,loaderHeaders:d}}function l0(t,e,n,r,i,o,s,a){let{loaderData:u,errors:c}=Yb(e,n,r,i,a);for(let d=0;d<o.length;d++){let{key:f,match:p,controller:S}=o[d];xe(s!==void 0&&s[d]!==void 0,"Did not find corresponding fetcher result");let R=s[d];if(!(S&&S.signal.aborted))if(Kn(R)){let C=_l(t.matches,p==null?void 0:p.route.id);c&&c[C.route.id]||(c=lt({},c,{[C.route.id]:R.error})),t.fetchers.delete(f)}else if(Ro(R))xe(!1,"Unhandled fetcher revalidation redirect");else if(Io(R))xe(!1,"Unhandled fetcher deferred data");else{let C=Ii(R.data);t.fetchers.set(f,C)}}return{loaderData:u,errors:c}}function u0(t,e,n,r){let i=lt({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function c0(t){return t?Kn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function _l(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function d0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Pg(t||500,s,new Error(a),!0)}function h0(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ro(n))return{result:n,idx:e}}}function DT(t){let e=typeof t=="string"?ao(t):t;return Fo(lt({},e,{hash:""}))}function Jb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Zb(t){return MT(t.result)&&Vb.has(t.result.status)}function Io(t){return t.type===rt.deferred}function Kn(t){return t.type===rt.error}function Ro(t){return(t&&t.type)===rt.redirect}function ex(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function MT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function tx(t){return jb.has(t.toLowerCase())}function ur(t){return Mb.has(t.toLowerCase())}async function f0(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],u=e[s];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),d=c!=null&&!NT(c,u)&&(o&&o[u.route.id])!==void 0;if(Io(a)&&(i||d)){let f=r[s];xe(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await LT(a,f,i).then(p=>{p&&(n[s]=p||n[s])})}}}async function LT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:rt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:rt.error,error:i}}return{type:rt.data,data:t.deferredData.data}}}function bg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Kp(t,e){let n=typeof e=="string"?ao(e).search:e.search;if(t[t.length-1].route.index&&bg(n||""))return t[t.length-1];let r=xT(t);return r[r.length-1]}function p0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function xf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nx(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wa(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rx(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ii(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ix(t,e){try{let n=t.sessionStorage.getItem(OT);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function ox(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(OT,JSON.stringify(n))}catch(r){Qs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}const ih=M.createContext(null),jT=M.createContext(null),lo=M.createContext(null),xg=M.createContext(null),di=M.createContext({outlet:null,matches:[],isDataRoute:!1}),VT=M.createContext(null);function sx(t,e){let{relative:n}=e===void 0?{}:e;fa()||xe(!1);let{basename:r,navigator:i}=M.useContext(lo),{hash:o,pathname:s,search:a}=UT(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Jr([r,s])),i.createHref({pathname:u,search:a,hash:o})}function fa(){return M.useContext(xg)!=null}function mu(){return fa()||xe(!1),M.useContext(xg).location}function FT(t){M.useContext(lo).static||M.useLayoutEffect(t)}function kg(){let{isDataRoute:t}=M.useContext(di);return t?yx():ax()}function ax(){fa()||xe(!1);let t=M.useContext(ih),{basename:e,future:n,navigator:r}=M.useContext(lo),{matches:i}=M.useContext(di),{pathname:o}=mu(),s=JSON.stringify(nh(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return FT(()=>{a.current=!0}),M.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=rh(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Jr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,o,t])}function oh(){let{matches:t}=M.useContext(di),e=t[t.length-1];return e?e.params:{}}function UT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(lo),{matches:i}=M.useContext(di),{pathname:o}=mu(),s=JSON.stringify(nh(i,r.v7_relativeSplatPath));return M.useMemo(()=>rh(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function lx(t,e,n,r){fa()||xe(!1);let{navigator:i}=M.useContext(lo),{matches:o}=M.useContext(di),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=mu(),d;d=c;let f=d.pathname||"/",p=f;if(u!=="/"){let C=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Cs(t,{pathname:p});return fx(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Jr([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Jr([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r)}function ux(){let t=vx(),e=Ag(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const cx=M.createElement(ux,null);class dx extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(di.Provider,{value:this.props.routeContext},M.createElement(VT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hx(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(ih);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(di.Provider,{value:e},r)}function fx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||xe(!1),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:S}=n,R=f.route.loader&&p[f.route.id]===void 0&&(!S||S[f.route.id]===void 0);if(f.route.lazy||R){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let S,R=!1,C=null,k=null;n&&(S=a&&f.route.id?a[f.route.id]:void 0,C=f.route.errorElement||cx,u&&(c<0&&p===0?(_x("route-fallback"),R=!0,k=null):c===p&&(R=!0,k=f.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,p+1)),E=()=>{let _;return S?_=C:R?_=k:f.route.Component?_=M.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,M.createElement(hx,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(dx,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:E(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):E()},null)}var $T=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($T||{}),vd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vd||{});function px(t){let e=M.useContext(ih);return e||xe(!1),e}function mx(t){let e=M.useContext(jT);return e||xe(!1),e}function gx(t){let e=M.useContext(di);return e||xe(!1),e}function BT(t){let e=gx(),n=e.matches[e.matches.length-1];return n.route.id||xe(!1),n.route.id}function vx(){var t;let e=M.useContext(VT),n=mx(vd.UseRouteError),r=BT(vd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yx(){let{router:t}=px($T.UseNavigateStable),e=BT(vd.UseNavigateStable),n=M.useRef(!1);return FT(()=>{n.current=!0}),M.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gd({fromRouteId:e},o)))},[t,e])}const m0={};function _x(t,e,n){m0[t]||(m0[t]=!0)}function Ex(t){let{to:e,replace:n,state:r,relative:i}=t;fa()||xe(!1);let{future:o,static:s}=M.useContext(lo),{matches:a}=M.useContext(di),{pathname:u}=mu(),c=kg(),d=rh(e,nh(a,o.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return M.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function wx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=At.Pop,navigator:o,static:s=!1,future:a}=t;fa()&&xe(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:o,static:s,future:gd({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=ao(r));let{pathname:d="/",search:f="",hash:p="",state:S=null,key:R="default"}=r,C=M.useMemo(()=>{let k=ha(d,u);return k==null?null:{location:{pathname:k,search:f,hash:p,state:S,key:R},navigationType:i}},[u,d,f,p,S,R,i]);return C==null?null:M.createElement(lo.Provider,{value:c},M.createElement(xg.Provider,{children:n,value:C}))}new Promise(()=>{});function Tx(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}function Sx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ix(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rx(t,e){return t.button===0&&(!e||e==="_self")&&!Ix(t)}const Px=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ax="6";try{window.__reactRouterVersion=Ax}catch{}function Cx(t,e){return Bb({basename:void 0,future:Gl({},void 0,{v7_prependBasename:!0}),history:db({window:void 0}),hydrationData:bx(),routes:t,mapRouteProperties:Tx,unstable_dataStrategy:void 0,window:void 0}).initialize()}function bx(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Gl({},e,{errors:xx(e.errors)})),e}function xx(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Pg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const kx=M.createContext({isTransitioning:!1}),Ox=M.createContext(new Map),Nx="startTransition",g0=JP[Nx],Dx="flushSync",v0=cb[Dx];function Mx(t){g0?g0(t):t()}function Ga(t){v0?v0(t):t()}let Lx=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function jx(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=M.useState(n.state),[s,a]=M.useState(),[u,c]=M.useState({isTransitioning:!1}),[d,f]=M.useState(),[p,S]=M.useState(),[R,C]=M.useState(),k=M.useRef(new Map),{v7_startTransition:I}=r||{},E=M.useCallback(v=>{I?Mx(v):v()},[I]),_=M.useCallback((v,y)=>{let{deletedFetchers:w,unstable_flushSync:P,unstable_viewTransitionOpts:b}=y;w.forEach(A=>k.current.delete(A)),v.fetchers.forEach((A,J)=>{A.data!==void 0&&k.current.set(J,A.data)});let O=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!b||O){P?Ga(()=>o(v)):E(()=>o(v));return}if(P){Ga(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let A=n.window.document.startViewTransition(()=>{Ga(()=>o(v))});A.finished.finally(()=>{Ga(()=>{f(void 0),S(void 0),a(void 0),c({isTransitioning:!1})})}),Ga(()=>S(A));return}p?(d&&d.resolve(),p.skipTransition(),C({state:v,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(a(v),c({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[n.window,p,d,k,E]);M.useLayoutEffect(()=>n.subscribe(_),[n,_]),M.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new Lx)},[u]),M.useEffect(()=>{if(d&&s&&n.window){let v=s,y=d.promise,w=n.window.document.startViewTransition(async()=>{E(()=>o(v)),await y});w.finished.finally(()=>{f(void 0),S(void 0),a(void 0),c({isTransitioning:!1})}),S(w)}},[E,s,d,n.window]),M.useEffect(()=>{d&&s&&i.location.key===s.location.key&&d.resolve()},[d,p,i.location,s]),M.useEffect(()=>{!u.isTransitioning&&R&&(a(R.state),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),C(void 0))},[u.isTransitioning,R]),M.useEffect(()=>{},[]);let x=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,y,w)=>n.navigate(v,{state:y,preventScrollReset:w==null?void 0:w.preventScrollReset}),replace:(v,y,w)=>n.navigate(v,{replace:!0,state:y,preventScrollReset:w==null?void 0:w.preventScrollReset})}),[n]),V=n.basename||"/",q=M.useMemo(()=>({router:n,navigator:x,static:!1,basename:V}),[n,x,V]);return M.createElement(M.Fragment,null,M.createElement(ih.Provider,{value:q},M.createElement(jT.Provider,{value:i},M.createElement(Ox.Provider,{value:k.current},M.createElement(kx.Provider,{value:u},M.createElement(wx,{basename:V,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?M.createElement(Vx,{routes:n.routes,future:n.future,state:i}):e))))),null)}function Vx(t){let{routes:e,future:n,state:r}=t;return lx(e,void 0,r,n)}const Fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:u,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=Sx(e,Px),{basename:S}=M.useContext(lo),R,C=!1;if(typeof c=="string"&&Ux.test(c)&&(R=c,Fx))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),V=ha(x.pathname,S);x.origin===_.origin&&V!=null?c=V+x.search+x.hash:C=!0}catch{}let k=sx(c,{relative:i}),I=$x(c,{replace:s,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:f});function E(_){r&&r(_),_.defaultPrevented||I(_)}return M.createElement("a",Gl({},p,{href:R||k,onClick:C||o?r:E,ref:n,target:u}))});var y0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(y0||(y0={}));var _0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_0||(_0={}));function $x(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,u=kg(),c=mu(),d=UT(t,{relative:s});return M.useCallback(f=>{if(Rx(f,n)){f.preventDefault();let p=r!==void 0?r:Fo(c)===Fo(d);u(t,{replace:p,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,u,d,r,i,n,t,o,s,a])}var E0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},HT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,S=c&63;u||(S=64,s||(p=64)),r.push(n[d],n[f],n[p],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new zx;const p=o<<2|a>>4;if(r.push(p),c!==64){const S=a<<4&240|c>>2;if(r.push(S),f!==64){const R=c<<6&192|f;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(t){const e=zT(t);return HT.encodeByteArray(e,!0)},yd=function(t){return Hx(t).replace(/\./g,"")},qT=function(t){try{return HT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=()=>qx().__FIREBASE_DEFAULTS__,Gx=()=>{if(typeof process>"u"||typeof E0>"u")return;const t=E0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qT(t[1]);return e&&JSON.parse(e)},sh=()=>{try{return Wx()||Gx()||Kx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WT=t=>{var e,n;return(n=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GT=t=>{const e=WT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KT=()=>{var t;return(t=sh())===null||t===void 0?void 0:t.config},QT=t=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yd(JSON.stringify(n)),yd(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function Yx(){var t;const e=(t=sh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e2(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t2(){return!Yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function r2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i2,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?o2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mr(i,a,r)}}function o2(t,e){return t.replace(s2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s2=/\{\$([^}]+)}/g;function a2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(w0(o)&&w0(s)){if(!Kl(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l2(t,e){const n=new u2(t,e);return n.subscribe.bind(n)}class u2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kf),i.error===void 0&&(i.error=kf),i.complete===void 0&&(i.complete=kf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f2(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h2(t){return t===_o?void 0:t}function f2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const m2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},g2=je.INFO,v2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},y2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=g2,this._logHandler=y2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const _2=(t,e)=>e.some(n=>t instanceof n);let T0,S0;function E2(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w2(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YT=new WeakMap,Qp=new WeakMap,JT=new WeakMap,Of=new WeakMap,Ng=new WeakMap;function T2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Gi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&YT.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function S2(t){if(Qp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Qp.set(t,e)}let Xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I2(t){Xp=t(Xp)}function R2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nf(this),e,...n);return JT.set(r,e.sort?e.sort():[e]),Gi(r)}:w2().includes(t)?function(...e){return t.apply(Nf(this),e),Gi(YT.get(this))}:function(...e){return Gi(t.apply(Nf(this),e))}}function P2(t){return typeof t=="function"?R2(t):(t instanceof IDBTransaction&&S2(t),_2(t,E2())?new Proxy(t,Xp):t)}function Gi(t){if(t instanceof IDBRequest)return T2(t);if(Of.has(t))return Of.get(t);const e=P2(t);return e!==t&&(Of.set(t,e),Ng.set(e,t)),e}const Nf=t=>Ng.get(t);function A2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Gi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Gi(s.result),u.oldVersion,u.newVersion,Gi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const C2=["get","getKey","getAll","getAllKeys","count"],b2=["put","add","delete","clear"],Df=new Map;function I0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C2.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Df.set(e,o),o}I2(t=>({...t,get:(e,n,r)=>I0(e,n)||t.get(e,n,r),has:(e,n)=>!!I0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function k2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yp="@firebase/app",R0="0.10.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Og("@firebase/app"),O2="@firebase/app-compat",N2="@firebase/analytics-compat",D2="@firebase/analytics",M2="@firebase/app-check-compat",L2="@firebase/app-check",j2="@firebase/auth",V2="@firebase/auth-compat",F2="@firebase/database",U2="@firebase/database-compat",$2="@firebase/functions",B2="@firebase/functions-compat",z2="@firebase/installations",H2="@firebase/installations-compat",q2="@firebase/messaging",W2="@firebase/messaging-compat",G2="@firebase/performance",K2="@firebase/performance-compat",Q2="@firebase/remote-config",X2="@firebase/remote-config-compat",Y2="@firebase/storage",J2="@firebase/storage-compat",Z2="@firebase/firestore",ek="@firebase/vertexai-preview",tk="@firebase/firestore-compat",nk="firebase",rk="10.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",ik={[Yp]:"fire-core",[O2]:"fire-core-compat",[D2]:"fire-analytics",[N2]:"fire-analytics-compat",[L2]:"fire-app-check",[M2]:"fire-app-check-compat",[j2]:"fire-auth",[V2]:"fire-auth-compat",[F2]:"fire-rtdb",[U2]:"fire-rtdb-compat",[$2]:"fire-fn",[B2]:"fire-fn-compat",[z2]:"fire-iid",[H2]:"fire-iid-compat",[q2]:"fire-fcm",[W2]:"fire-fcm-compat",[G2]:"fire-perf",[K2]:"fire-perf-compat",[Q2]:"fire-rc",[X2]:"fire-rc-compat",[Y2]:"fire-gcs",[J2]:"fire-gcs-compat",[Z2]:"fire-fst",[tk]:"fire-fst-compat",[ek]:"fire-vertex","fire-js":"fire-js",[nk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,ok=new Map,Zp=new Map;function P0(t,e){try{t.container.addComponent(e)}catch(n){Uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(Zp.has(e))return Uo.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of _d.values())P0(n,t);for(const n of ok.values())P0(n,t);return!0}function ah(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new gu("app","Firebase",sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=rk;function ZT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=KT()),!n)throw Ki.create("no-options");const o=_d.get(i);if(o){if(Kl(n,o.options)&&Kl(r,o.config))return o;throw Ki.create("duplicate-app",{appName:i})}const s=new p2(i);for(const u of Zp.values())s.addComponent(u);const a=new ak(n,r,s);return _d.set(i,a),a}function Dg(t=Jp){const e=_d.get(t);if(!e&&t===Jp&&KT())return ZT();if(!e)throw Ki.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let i=(r=ik[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Uo.warn(a.join(" "));return}$o(new eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="firebase-heartbeat-database",uk=1,Ql="firebase-heartbeat-store";let Mf=null;function eS(){return Mf||(Mf=A2(lk,uk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Mf}async function ck(t){try{const n=(await eS()).transaction(Ql),r=await n.objectStore(Ql).get(tS(t));return await n.done,r}catch(e){if(e instanceof Mr)Uo.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Uo.warn(n.message)}}}async function A0(t,e){try{const r=(await eS()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,tS(t)),await r.done}catch(n){if(n instanceof Mr)Uo.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Uo.warn(r.message)}}}function tS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1024,hk=30*24*60*60*1e3;class fk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=C0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=hk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=C0(),{heartbeatsToSend:r,unsentEntries:i}=pk(this._heartbeatsCache.heartbeats),o=yd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function C0(){return new Date().toISOString().substring(0,10)}function pk(t,e=dk){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),b0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?r2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ck(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function b0(t){return yd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){$o(new eo("platform-logger",e=>new x2(e),"PRIVATE")),$o(new eo("heartbeat",e=>new fk(e),"PRIVATE")),Cr(Yp,R0,t),Cr(Yp,R0,"esm2017"),Cr("fire-js","")}gk("");var vk="firebase",yk="10.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(vk,yk,"app");function Mg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _k=nS,rS=new gu("auth","Firebase",nS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Og("@firebase/auth");function Ek(t,...e){Ed.logLevel<=je.WARN&&Ed.warn(`Auth (${Xo}): ${t}`,...e)}function Mc(t,...e){Ed.logLevel<=je.ERROR&&Ed.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw Lg(t,...e)}function br(t,...e){return Lg(t,...e)}function iS(t,e,n){const r=Object.assign(Object.assign({},_k()),{[e]:n});return new gu("auth","Firebase",r).create(e,{appName:t.name})}function Qi(t){return iS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rS.create(t,...e)}function ye(t,e,...n){if(!t)throw Lg(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mc(e),new Error(e)}function si(t,e){t||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wk(){return x0()==="http:"||x0()==="https:"}function x0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wk()||Jx()||"connection"in navigator)?navigator.onLine:!0}function Sk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=Xx()||Zx()}get(){return Tk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new yu(3e4,6e4);function Yo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uo(t,e,n,r,i={}){return sS(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=vu(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),oS.fetch()(aS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function sS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ik),e);try{const i=new Ak(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ac(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ac(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ac(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iS(t,d,c);mr(t,d)}}catch(i){if(i instanceof Mr)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function lh(t,e,n,r,i={}){const o=await uo(t,e,n,r,i);return"mfaPendingCredential"in o&&mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function aS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jg(t.config,i):`${t.config.apiScheme}://${i}`}function Pk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ak{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),Rk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=br(t,e,r);return i.customData._tokenResponse=n,i}function k0(t){return t!==void 0&&t.enterprise!==void 0}class Ck{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Pk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function bk(t,e){return uo(t,"GET","/v2/recaptchaConfig",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e){return uo(t,"POST","/v1/accounts:delete",e)}async function lS(t,e){return uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kk(t,e=!1){const n=yt(t),r=await n.getIdToken(e),i=Vg(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wl(Lf(i.auth_time)),issuedAtTime:wl(Lf(i.iat)),expirationTime:wl(Lf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lf(t){return Number(t)*1e3}function Vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const i=qT(n);return i?JSON.parse(i):(Mc("Failed to decode base64 JWT payload"),null)}catch(i){return Mc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function O0(t){const e=Vg(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&Ok(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ok({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xl(t,lS(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uS(o.providerUserInfo):[],a=Mk(t.providerData,s),u=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Dk(t){const e=yt(t);await wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uS(t){return t.map(e=>{var{providerId:n}=e,r=Mg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e){const n=await sS(t,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=aS(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jk(t,e){return uo(t,"POST","/v2/accounts:revokeToken",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=O0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Lk(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new js;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new js,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Mg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kk(this,e)}reload(){return Dk(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await Xl(this,xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:x,isAnonymous:V,providerData:q,stsTokenManager:v}=n;ye(_&&v,e,"internal-error");const y=js.fromJSON(this.name,v);ye(typeof _=="string",e,"internal-error"),Ti(f,e.name),Ti(p,e.name),ye(typeof x=="boolean",e,"internal-error"),ye(typeof V=="boolean",e,"internal-error"),Ti(S,e.name),Ti(R,e.name),Ti(C,e.name),Ti(k,e.name),Ti(I,e.name),Ti(E,e.name);const w=new Qr({uid:_,auth:e,email:p,emailVerified:x,displayName:f,isAnonymous:V,photoURL:R,phoneNumber:S,tenantId:C,stsTokenManager:y,createdAt:I,lastLoginAt:E});return q&&Array.isArray(q)&&(w.providerData=q.map(P=>Object.assign({},P))),k&&(w._redirectEventId=k),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new js;i.updateFromServerResponse(n);const o=new Qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?uS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new js;a.updateFromIdToken(r);const u=new Qr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function Xr(t){si(t instanceof Function,"Expected a class definition");let e=N0.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cS.type="NONE";const D0=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e,n){return`firebase:${t}:${e}:${n}`}class Vs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Lc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Lc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vs(Xr(D0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Xr(D0);const s=Lc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const f=Qr._fromJSON(e,d);c!==o&&(a=f),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Vs(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Vs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mS(e))return"Blackberry";if(gS(e))return"Webos";if(Fg(e))return"Safari";if((e.includes("chrome/")||hS(e))&&!e.includes("edge/"))return"Chrome";if(pS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dS(t=Yt()){return/firefox\//i.test(t)}function Fg(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hS(t=Yt()){return/crios\//i.test(t)}function fS(t=Yt()){return/iemobile/i.test(t)}function pS(t=Yt()){return/android/i.test(t)}function mS(t=Yt()){return/blackberry/i.test(t)}function gS(t=Yt()){return/webos/i.test(t)}function uh(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vk(t=Yt()){var e;return uh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fk(){return e2()&&document.documentMode===10}function vS(t=Yt()){return uh(t)||pS(t)||gS(t)||mS(t)||/windows phone/i.test(t)||fS(t)}function Uk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e=[]){let n;switch(t){case"Browser":n=M0(Yt());break;case"Worker":n=`${M0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e={}){return uo(t,"GET","/v2/passwordPolicy",Yo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=6;class Hk{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zk,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L0(this),this.idTokenSubscription=new L0(this),this.beforeStateQueue=new $k(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lS(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Qi(this));const n=e?yt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bk(this),n=new Hk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Vs.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ek(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pa(t){return yt(t)}class L0{constructor(e){this.auth=e,this.observer=null,this.addObserver=l2(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wk(t){ch=t}function _S(t){return ch.loadJS(t)}function Gk(){return ch.recaptchaEnterpriseScript}function Kk(){return ch.gapiScript}function Qk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Xk="recaptcha-enterprise",Yk="NO_RECAPTCHA";class Jk{constructor(e){this.type=Xk,this.auth=pa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{bk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ck(u);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){const u=window.grecaptcha;k0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Yk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&k0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Gk();u.length!==0&&(u+=a),_S(u).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function j0(t,e,n,r=!1){const i=new Jk(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function V0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await j0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await j0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e){const n=ah(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Kl(o,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function eO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tO(t,e,n){const r=pa(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=ES(e),{host:s,port:a}=nO(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),rO()}function ES(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nO(t){const e=ES(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:F0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:F0(s)}}}function F0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function iO(t,e){return uo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e){return lh(t,"POST","/v1/accounts:signInWithPassword",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}async function aO(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Ug{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(e,n,"signInWithPassword",oO);case"emailLink":return sO(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(e,r,"signUpPassword",iO);case"emailLink":return aO(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e){return lh(t,"POST","/v1/accounts:signInWithIdp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="http://localhost";class Bo extends Ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Mg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Bo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fs(e,n)}buildRequest(){const e={requestUri:lO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cO(t){const e=rl(il(t)).link,n=e?rl(il(e)).deep_link_id:null,r=rl(il(t)).deep_link_id;return(r?rl(il(r)).link:null)||r||n||e||t}class $g{constructor(e){var n,r,i,o,s,a;const u=rl(il(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=uO((i=u.mode)!==null&&i!==void 0?i:null);ye(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=cO(e);try{return new $g(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$g.parseLink(n);return ye(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends wS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends _u{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bo._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends _u{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.GITHUB_SIGN_IN_METHOD="github.com";ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends _u{constructor(){super("twitter.com")}static credential(e,n){return Bo._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Qr._fromIdTokenResponse(e,r,i),s=U0(r);return new Xs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U0(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Td(e,n,r,i)}}function TS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(t,o,e,r):o})}async function dO(t,e,n=!1){const r=await Xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(Qi(r));const i="reauthenticate";try{const o=await Xl(t,TS(r,i,e,t),n);ye(o.idToken,r,"internal-error");const s=Vg(o.idToken);ye(s,r,"internal-error");const{sub:a}=s;return ye(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e,n=!1){if(Gr(t.app))return Promise.reject(Qi(t));const r="signIn",i=await TS(t,r,e),o=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function fO(t,e){return SS(pa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t){const e=pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function mO(t,e,n){return Gr(t.app)?Promise.reject(Qi(t)):fO(yt(t),ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pO(t),r})}function gO(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function vO(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function yO(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){const t=Yt();return Fg(t)||uh(t)}const EO=1e3,wO=10;class RS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_O()&&Uk(),this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Fk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RS.type="LOCAL";const TO=RS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PS.type="SESSION";const AS=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),u=await SO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const c=Bg("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function RO(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function PO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CO(){return CS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebaseLocalStorageDb",bO=1,Id="firebaseLocalStorage",xS="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([Id],e?"readwrite":"readonly").objectStore(Id)}function xO(){const t=indexedDB.deleteDatabase(bS);return new Eu(t).toPromise()}function nm(){const t=indexedDB.open(bS,bO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Id,{keyPath:xS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Id)?e(r):(r.close(),await xO(),e(await nm()))})})}async function $0(t,e,n){const r=hh(t,!0).put({[xS]:e,value:n});return new Eu(r).toPromise()}async function kO(t,e){const n=hh(t,!1).get(e),r=await new Eu(n).toPromise();return r===void 0?null:r.value}function B0(t,e){const n=hh(t,!0).delete(e);return new Eu(n).toPromise()}const OO=800,NO=3;class kS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(CO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PO(),!this.activeServiceWorker)return;this.sender=new IO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await $0(e,Sd,"1"),await B0(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=hh(i,!1).getAll();return new Eu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kS.type="LOCAL";const DO=kS;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e){return e?Xr(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LO(t){return SS(t.auth,new zg(t),t.bypassAuthState)}function jO(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),hO(n,new zg(t),t.bypassAuthState)}async function VO(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),dO(n,new zg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return VO;case"reauthViaPopup":case"reauthViaRedirect":return jO;default:mr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new yu(2e3,1e4);class bs extends OS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FO.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="pendingRedirect",jc=new Map;class $O extends OS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await BO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BO(t,e){const n=qO(e),r=HO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zO(t,e){jc.set(t._key(),e)}function HO(t){return Xr(t._redirectPersistence)}function qO(t){return Lc(UO,t.config.apiKey,t.name)}async function WO(t,e,n=!1){if(Gr(t.app))return Promise.reject(Qi(t));const r=pa(t),i=MO(r,e),s=await new $O(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=10*60*1e3;class KO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GO&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e={}){return uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JO=/^https?/;async function ZO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XO(t);for(const n of e)try{if(eN(n))return}catch{}mr(t,"unauthorized-domain")}function eN(t){const e=em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!JO.test(n))return!1;if(YO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new yu(3e4,6e4);function H0(){const t=xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nN(t){return new Promise((e,n)=>{var r,i,o;function s(){H0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H0(),n(br(t,"network-request-failed"))},timeout:tN.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xr().gapi)===null||o===void 0)&&o.load)s();else{const a=Qk("iframefcb");return xr()[a]=()=>{gapi.load?s():n(br(t,"network-request-failed"))},_S(`${Kk()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function rN(t){return Vc=Vc||nN(t),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new yu(5e3,15e3),oN="__/auth/iframe",sN="emulator/auth/iframe",aN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uN(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jg(e,sN):`https://${t.config.authDomain}/${oN}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=lN.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${vu(r).slice(1)}`}async function cN(t){const e=await rN(t),n=xr().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:uN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=br(t,"network-request-failed"),a=xr().setTimeout(()=>{o(s)},iN.get());function u(){xr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hN=500,fN=600,pN="_blank",mN="http://localhost";class q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gN(t,e,n,r=hN,i=fN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},dN),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Yt().toLowerCase();n&&(a=hS(c)?pN:n),dS(c)&&(e=e||mN,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[S,R])=>`${p}${S}=${R},`,"");if(Vk(c)&&a!=="_self")return vN(e||"",a),new q0(null);const f=window.open(e||"",a,d);ye(f,t,"popup-blocked");try{f.focus()}catch{}return new q0(f)}function vN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="__/auth/handler",_N="emulator/auth/handler",EN=encodeURIComponent("fac");async function W0(t,e,n,r,i,o){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof wS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",a2(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof _u){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${EN}=${encodeURIComponent(u)}`:"";return`${wN(t)}?${vu(a).slice(1)}${c}`}function wN({config:t}){return t.emulator?jg(t,_N):`https://${t.authDomain}/${yN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="webStorageSupport";class TN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=WO,this._overrideRedirectResult=zO}async _openPopup(e,n,r,i){var o;si((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await W0(e,n,r,em(),i);return gN(e,s,Bg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await W0(e,n,r,em(),i);return RO(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cN(e),r=new KO(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jf,{type:jf},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[jf];s!==void 0&&n(!!s),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vS()||Fg()||uh()}}const SN=TN;var G0="@firebase/auth",K0="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PN(t){$o(new eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(t)},c=new qk(r,i,o,u);return eO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new eo("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(r=>new IN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(G0,K0,RN(t)),Cr(G0,K0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=5*60,CN=QT("authIdTokenMaxAge")||AN;let Q0=null;const bN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CN)return;const i=n==null?void 0:n.token;Q0!==i&&(Q0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xN(t=Dg()){const e=ah(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zk(t,{popupRedirectResolver:SN,persistence:[DO,TO,AS]}),r=QT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=bN(o.toString());vO(n,s,()=>s(n.currentUser)),gO(n,a=>s(a))}}const i=WT("auth");return i&&tO(n,`http://${i}`),n}function kN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Wk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=br("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PN("Browser");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,DS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function w(){}w.prototype=y.prototype,v.D=y.prototype,v.prototype=new w,v.prototype.constructor=v,v.C=function(P,b,O){for(var A=Array(arguments.length-2),J=2;J<arguments.length;J++)A[J-2]=arguments[J];return y.prototype[b].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,y,w){w||(w=0);var P=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)P[b]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(b=0;16>b;++b)P[b]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=v.g[0],w=v.g[1],b=v.g[2];var O=v.g[3],A=y+(O^w&(b^O))+P[0]+3614090360&4294967295;y=w+(A<<7&4294967295|A>>>25),A=O+(b^y&(w^b))+P[1]+3905402710&4294967295,O=y+(A<<12&4294967295|A>>>20),A=b+(w^O&(y^w))+P[2]+606105819&4294967295,b=O+(A<<17&4294967295|A>>>15),A=w+(y^b&(O^y))+P[3]+3250441966&4294967295,w=b+(A<<22&4294967295|A>>>10),A=y+(O^w&(b^O))+P[4]+4118548399&4294967295,y=w+(A<<7&4294967295|A>>>25),A=O+(b^y&(w^b))+P[5]+1200080426&4294967295,O=y+(A<<12&4294967295|A>>>20),A=b+(w^O&(y^w))+P[6]+2821735955&4294967295,b=O+(A<<17&4294967295|A>>>15),A=w+(y^b&(O^y))+P[7]+4249261313&4294967295,w=b+(A<<22&4294967295|A>>>10),A=y+(O^w&(b^O))+P[8]+1770035416&4294967295,y=w+(A<<7&4294967295|A>>>25),A=O+(b^y&(w^b))+P[9]+2336552879&4294967295,O=y+(A<<12&4294967295|A>>>20),A=b+(w^O&(y^w))+P[10]+4294925233&4294967295,b=O+(A<<17&4294967295|A>>>15),A=w+(y^b&(O^y))+P[11]+2304563134&4294967295,w=b+(A<<22&4294967295|A>>>10),A=y+(O^w&(b^O))+P[12]+1804603682&4294967295,y=w+(A<<7&4294967295|A>>>25),A=O+(b^y&(w^b))+P[13]+4254626195&4294967295,O=y+(A<<12&4294967295|A>>>20),A=b+(w^O&(y^w))+P[14]+2792965006&4294967295,b=O+(A<<17&4294967295|A>>>15),A=w+(y^b&(O^y))+P[15]+1236535329&4294967295,w=b+(A<<22&4294967295|A>>>10),A=y+(b^O&(w^b))+P[1]+4129170786&4294967295,y=w+(A<<5&4294967295|A>>>27),A=O+(w^b&(y^w))+P[6]+3225465664&4294967295,O=y+(A<<9&4294967295|A>>>23),A=b+(y^w&(O^y))+P[11]+643717713&4294967295,b=O+(A<<14&4294967295|A>>>18),A=w+(O^y&(b^O))+P[0]+3921069994&4294967295,w=b+(A<<20&4294967295|A>>>12),A=y+(b^O&(w^b))+P[5]+3593408605&4294967295,y=w+(A<<5&4294967295|A>>>27),A=O+(w^b&(y^w))+P[10]+38016083&4294967295,O=y+(A<<9&4294967295|A>>>23),A=b+(y^w&(O^y))+P[15]+3634488961&4294967295,b=O+(A<<14&4294967295|A>>>18),A=w+(O^y&(b^O))+P[4]+3889429448&4294967295,w=b+(A<<20&4294967295|A>>>12),A=y+(b^O&(w^b))+P[9]+568446438&4294967295,y=w+(A<<5&4294967295|A>>>27),A=O+(w^b&(y^w))+P[14]+3275163606&4294967295,O=y+(A<<9&4294967295|A>>>23),A=b+(y^w&(O^y))+P[3]+4107603335&4294967295,b=O+(A<<14&4294967295|A>>>18),A=w+(O^y&(b^O))+P[8]+1163531501&4294967295,w=b+(A<<20&4294967295|A>>>12),A=y+(b^O&(w^b))+P[13]+2850285829&4294967295,y=w+(A<<5&4294967295|A>>>27),A=O+(w^b&(y^w))+P[2]+4243563512&4294967295,O=y+(A<<9&4294967295|A>>>23),A=b+(y^w&(O^y))+P[7]+1735328473&4294967295,b=O+(A<<14&4294967295|A>>>18),A=w+(O^y&(b^O))+P[12]+2368359562&4294967295,w=b+(A<<20&4294967295|A>>>12),A=y+(w^b^O)+P[5]+4294588738&4294967295,y=w+(A<<4&4294967295|A>>>28),A=O+(y^w^b)+P[8]+2272392833&4294967295,O=y+(A<<11&4294967295|A>>>21),A=b+(O^y^w)+P[11]+1839030562&4294967295,b=O+(A<<16&4294967295|A>>>16),A=w+(b^O^y)+P[14]+4259657740&4294967295,w=b+(A<<23&4294967295|A>>>9),A=y+(w^b^O)+P[1]+2763975236&4294967295,y=w+(A<<4&4294967295|A>>>28),A=O+(y^w^b)+P[4]+1272893353&4294967295,O=y+(A<<11&4294967295|A>>>21),A=b+(O^y^w)+P[7]+4139469664&4294967295,b=O+(A<<16&4294967295|A>>>16),A=w+(b^O^y)+P[10]+3200236656&4294967295,w=b+(A<<23&4294967295|A>>>9),A=y+(w^b^O)+P[13]+681279174&4294967295,y=w+(A<<4&4294967295|A>>>28),A=O+(y^w^b)+P[0]+3936430074&4294967295,O=y+(A<<11&4294967295|A>>>21),A=b+(O^y^w)+P[3]+3572445317&4294967295,b=O+(A<<16&4294967295|A>>>16),A=w+(b^O^y)+P[6]+76029189&4294967295,w=b+(A<<23&4294967295|A>>>9),A=y+(w^b^O)+P[9]+3654602809&4294967295,y=w+(A<<4&4294967295|A>>>28),A=O+(y^w^b)+P[12]+3873151461&4294967295,O=y+(A<<11&4294967295|A>>>21),A=b+(O^y^w)+P[15]+530742520&4294967295,b=O+(A<<16&4294967295|A>>>16),A=w+(b^O^y)+P[2]+3299628645&4294967295,w=b+(A<<23&4294967295|A>>>9),A=y+(b^(w|~O))+P[0]+4096336452&4294967295,y=w+(A<<6&4294967295|A>>>26),A=O+(w^(y|~b))+P[7]+1126891415&4294967295,O=y+(A<<10&4294967295|A>>>22),A=b+(y^(O|~w))+P[14]+2878612391&4294967295,b=O+(A<<15&4294967295|A>>>17),A=w+(O^(b|~y))+P[5]+4237533241&4294967295,w=b+(A<<21&4294967295|A>>>11),A=y+(b^(w|~O))+P[12]+1700485571&4294967295,y=w+(A<<6&4294967295|A>>>26),A=O+(w^(y|~b))+P[3]+2399980690&4294967295,O=y+(A<<10&4294967295|A>>>22),A=b+(y^(O|~w))+P[10]+4293915773&4294967295,b=O+(A<<15&4294967295|A>>>17),A=w+(O^(b|~y))+P[1]+2240044497&4294967295,w=b+(A<<21&4294967295|A>>>11),A=y+(b^(w|~O))+P[8]+1873313359&4294967295,y=w+(A<<6&4294967295|A>>>26),A=O+(w^(y|~b))+P[15]+4264355552&4294967295,O=y+(A<<10&4294967295|A>>>22),A=b+(y^(O|~w))+P[6]+2734768916&4294967295,b=O+(A<<15&4294967295|A>>>17),A=w+(O^(b|~y))+P[13]+1309151649&4294967295,w=b+(A<<21&4294967295|A>>>11),A=y+(b^(w|~O))+P[4]+4149444226&4294967295,y=w+(A<<6&4294967295|A>>>26),A=O+(w^(y|~b))+P[11]+3174756917&4294967295,O=y+(A<<10&4294967295|A>>>22),A=b+(y^(O|~w))+P[2]+718787259&4294967295,b=O+(A<<15&4294967295|A>>>17),A=w+(O^(b|~y))+P[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(b+(A<<21&4294967295|A>>>11))&4294967295,v.g[2]=v.g[2]+b&4294967295,v.g[3]=v.g[3]+O&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var w=y-this.blockSize,P=this.B,b=this.h,O=0;O<y;){if(b==0)for(;O<=w;)i(this,v,O),O+=this.blockSize;if(typeof v=="string"){for(;O<y;)if(P[b++]=v.charCodeAt(O++),b==this.blockSize){i(this,P),b=0;break}}else for(;O<y;)if(P[b++]=v[O++],b==this.blockSize){i(this,P),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var w=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=w&255,w/=256;for(this.u(v),v=Array(16),y=w=0;4>y;++y)for(var P=0;32>P;P+=8)v[w++]=this.g[y]>>>P&255;return v};function o(v,y){var w=a;return Object.prototype.hasOwnProperty.call(w,v)?w[v]:w[v]=y(v)}function s(v,y){this.h=y;for(var w=[],P=!0,b=v.length-1;0<=b;b--){var O=v[b]|0;P&&O==y||(w[b]=O,P=!1)}this.g=w}var a={};function u(v){return-128<=v&&128>v?o(v,function(y){return new s([y|0],0>y?-1:0)}):new s([v|0],0>v?-1:0)}function c(v){if(isNaN(v)||!isFinite(v))return f;if(0>v)return k(c(-v));for(var y=[],w=1,P=0;v>=w;P++)y[P]=v/w|0,w*=4294967296;return new s(y,0)}function d(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return k(d(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(y,8)),P=f,b=0;b<v.length;b+=8){var O=Math.min(8,v.length-b),A=parseInt(v.substring(b,b+O),y);8>O?(O=c(Math.pow(y,O)),P=P.j(O).add(c(A))):(P=P.j(w),P=P.add(c(A)))}return P}var f=u(0),p=u(1),S=u(16777216);t=s.prototype,t.m=function(){if(C(this))return-k(this).m();for(var v=0,y=1,w=0;w<this.g.length;w++){var P=this.i(w);v+=(0<=P?P:4294967296+P)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(R(this))return"0";if(C(this))return"-"+k(this).toString(v);for(var y=c(Math.pow(v,6)),w=this,P="";;){var b=x(w,y).g;w=I(w,b.j(y));var O=((0<w.g.length?w.g[0]:w.h)>>>0).toString(v);if(w=b,R(w))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function R(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function C(v){return v.h==-1}t.l=function(v){return v=I(this,v),C(v)?-1:R(v)?0:1};function k(v){for(var y=v.g.length,w=[],P=0;P<y;P++)w[P]=~v.g[P];return new s(w,~v.h).add(p)}t.abs=function(){return C(this)?k(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],P=0,b=0;b<=y;b++){var O=P+(this.i(b)&65535)+(v.i(b)&65535),A=(O>>>16)+(this.i(b)>>>16)+(v.i(b)>>>16);P=A>>>16,O&=65535,A&=65535,w[b]=A<<16|O}return new s(w,w[w.length-1]&-2147483648?-1:0)};function I(v,y){return v.add(k(y))}t.j=function(v){if(R(this)||R(v))return f;if(C(this))return C(v)?k(this).j(k(v)):k(k(this).j(v));if(C(v))return k(this.j(k(v)));if(0>this.l(S)&&0>v.l(S))return c(this.m()*v.m());for(var y=this.g.length+v.g.length,w=[],P=0;P<2*y;P++)w[P]=0;for(P=0;P<this.g.length;P++)for(var b=0;b<v.g.length;b++){var O=this.i(P)>>>16,A=this.i(P)&65535,J=v.i(b)>>>16,te=v.i(b)&65535;w[2*P+2*b]+=A*te,E(w,2*P+2*b),w[2*P+2*b+1]+=O*te,E(w,2*P+2*b+1),w[2*P+2*b+1]+=A*J,E(w,2*P+2*b+1),w[2*P+2*b+2]+=O*J,E(w,2*P+2*b+2)}for(P=0;P<y;P++)w[P]=w[2*P+1]<<16|w[2*P];for(P=y;P<2*y;P++)w[P]=0;return new s(w,0)};function E(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function _(v,y){this.g=v,this.h=y}function x(v,y){if(R(y))throw Error("division by zero");if(R(v))return new _(f,f);if(C(v))return y=x(k(v),y),new _(k(y.g),k(y.h));if(C(y))return y=x(v,k(y)),new _(k(y.g),y.h);if(30<v.g.length){if(C(v)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var w=p,P=y;0>=P.l(v);)w=V(w),P=V(P);var b=q(w,1),O=q(P,1);for(P=q(P,2),w=q(w,2);!R(P);){var A=O.add(P);0>=A.l(v)&&(b=b.add(w),O=A),P=q(P,1),w=q(w,1)}return y=I(v,b.j(y)),new _(b,y)}for(b=f;0<=v.l(y);){for(w=Math.max(1,Math.floor(v.m()/y.m())),P=Math.ceil(Math.log(w)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(w),A=O.j(y);C(A)||0<A.l(v);)w-=P,O=c(w),A=O.j(y);R(O)&&(O=p),b=b.add(O),v=I(v,A)}return new _(b,v)}t.A=function(v){return x(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],P=0;P<y;P++)w[P]=this.i(P)&v.i(P);return new s(w,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],P=0;P<y;P++)w[P]=this.i(P)|v.i(P);return new s(w,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],P=0;P<y;P++)w[P]=this.i(P)^v.i(P);return new s(w,this.h^v.h)};function V(v){for(var y=v.g.length+1,w=[],P=0;P<y;P++)w[P]=v.i(P)<<1|v.i(P-1)>>>31;return new s(w,v.h)}function q(v,y){var w=y>>5;y%=32;for(var P=v.g.length-w,b=[],O=0;O<P;O++)b[O]=0<y?v.i(O+w)>>>y|v.i(O+w+1)<<32-y:v.i(O+w);return new s(b,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,bo=s}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MS,LS,ol,jS,Fc,rm,VS,FS,US;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var D=l[T];if(!(D in m))break e;m=m[D]}l=l[l.length-1],T=m[l],h=h(T),h!=T&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var m=0,T=!1,D={next:function(){if(!T&&m<l.length){var H=m++;return{value:h(H,l[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,T),l.apply(h,D)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function S(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function R(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(T,D,H){for(var ee=Array(arguments.length-2),We=2;We<arguments.length;We++)ee[We-2]=arguments[We];return h.prototype[D].apply(T,ee)}}function C(l){const h=l.length;if(0<h){const m=Array(h);for(let T=0;T<h;T++)m[T]=l[T];return m}return[]}function k(l,h){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(u(T)){const D=l.length||0,H=T.length||0;l.length=D+H;for(let ee=0;ee<H;ee++)l[D+ee]=T[ee]}else l.push(T)}}class I{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(l){return/^[\s\xa0]*$/.test(l)}function _(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function x(l){return x[" "](l),l}x[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function q(l,h,m){for(const T in l)h.call(m,l[T],T,l)}function v(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function y(l){const h={};for(const m in l)h[m]=l[m];return h}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let m,T;for(let D=1;D<arguments.length;D++){T=arguments[D];for(m in T)l[m]=T[m];for(let H=0;H<w.length;H++)m=w[H],Object.prototype.hasOwnProperty.call(T,m)&&(l[m]=T[m])}}function b(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function A(){var l=Z;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class J{constructor(){this.h=this.g=null}add(h,m){const T=te.get();T.set(h,m),this.h?this.h.next=T:this.g=T,this.h=T}}var te=new I(()=>new Se,l=>l.reset());class Se{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let F,L=!1,Z=new J,re=()=>{const l=a.Promise.resolve(void 0);F=()=>{l.then(ne)}};var ne=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(m){O(m)}var h=te;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}L=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function be(l,h){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(V){e:{try{x(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:_e[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&be.aa.h.call(this)}}R(be,ce);var _e={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),En=0;function U(l,h,m,T,D){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!T,this.ha=D,this.key=++En,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function z(l){this.src=l,this.g={},this.h=0}z.prototype.add=function(l,h,m,T,D){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var ee=K(l,h,T,D);return-1<ee?(h=l[ee],m||(h.fa=!1)):(h=new U(h,this.src,H,!!T,D),h.fa=m,l.push(h)),h};function B(l,h){var m=h.type;if(m in l.g){var T=l.g[m],D=Array.prototype.indexOf.call(T,h,void 0),H;(H=0<=D)&&Array.prototype.splice.call(T,D,1),H&&($(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function K(l,h,m,T){for(var D=0;D<l.length;++D){var H=l[D];if(!H.da&&H.listener==h&&H.capture==!!m&&H.ha==T)return D}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),de={};function Ie(l,h,m,T,D){if(Array.isArray(h)){for(var H=0;H<h.length;H++)Ie(l,h[H],m,T,D);return null}return m=Ut(m),l&&l[Be]?l.K(h,m,c(T)?!!T.capture:!!T,D):ft(l,h,m,!1,T,D)}function ft(l,h,m,T,D,H){if(!h)throw Error("Invalid event type");var ee=c(D)?!!D.capture:!!D,We=wt(l);if(We||(l[ge]=We=new z(l)),m=We.add(h,m,T,ee,H),m.proxy)return m;if(T=pt(),m.proxy=T,T.src=l,T.listener=m,l.addEventListener)Ce||(D=ee),D===void 0&&(D=!1),l.addEventListener(h.toString(),T,D);else if(l.attachEvent)l.attachEvent(Lt(h.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function pt(){function l(m){return h.call(l.src,l.listener,m)}const h=It;return l}function me(l,h,m,T,D){if(Array.isArray(h))for(var H=0;H<h.length;H++)me(l,h[H],m,T,D);else T=c(T)?!!T.capture:!!T,m=Ut(m),l&&l[Be]?(l=l.i,h=String(h).toString(),h in l.g&&(H=l.g[h],m=K(H,m,T,D),-1<m&&($(H[m]),Array.prototype.splice.call(H,m,1),H.length==0&&(delete l.g[h],l.h--)))):l&&(l=wt(l))&&(h=l.g[h.toString()],l=-1,h&&(l=K(h,m,T,D)),(m=-1<l?h[l]:null)&&Le(m))}function Le(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Be])B(h.i,l);else{var m=l.type,T=l.proxy;h.removeEventListener?h.removeEventListener(m,T,l.capture):h.detachEvent?h.detachEvent(Lt(m),T):h.addListener&&h.removeListener&&h.removeListener(T),(m=wt(h))?(B(m,l),m.h==0&&(m.src=null,h[ge]=null)):$(l)}}}function Lt(l){return l in de?de[l]:de[l]="on"+l}function It(l,h){if(l.da)l=!0;else{h=new be(h,this);var m=l.listener,T=l.ha||l.src;l.fa&&Le(l),l=m.call(T,h)}return l}function wt(l){return l=l[ge],l instanceof z?l:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(l){return typeof l=="function"?l:(l[dn]||(l[dn]=function(h){return l.handleEvent(h)}),l[dn])}function Fe(){ae.call(this),this.i=new z(this),this.M=this,this.F=null}R(Fe,ae),Fe.prototype[Be]=!0,Fe.prototype.removeEventListener=function(l,h,m,T){me(this,l,h,m,T)};function ot(l,h){var m,T=l.F;if(T)for(m=[];T;T=T.F)m.push(T);if(l=l.M,T=h.type||h,typeof h=="string")h=new ce(h,l);else if(h instanceof ce)h.target=h.target||l;else{var D=h;h=new ce(T,l),P(h,D)}if(D=!0,m)for(var H=m.length-1;0<=H;H--){var ee=h.g=m[H];D=Tt(ee,T,!0,h)&&D}if(ee=h.g=l,D=Tt(ee,T,!0,h)&&D,D=Tt(ee,T,!1,h)&&D,m)for(H=0;H<m.length;H++)ee=h.g=m[H],D=Tt(ee,T,!1,h)&&D}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],T=0;T<m.length;T++)$(m[T]);delete l.g[h],l.h--}}this.F=null},Fe.prototype.K=function(l,h,m,T){return this.i.add(String(l),h,!1,m,T)},Fe.prototype.L=function(l,h,m,T){return this.i.add(String(l),h,!0,m,T)};function Tt(l,h,m,T){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,H=0;H<h.length;++H){var ee=h[H];if(ee&&!ee.da&&ee.capture==m){var We=ee.listener,Ht=ee.ha||ee.src;ee.fa&&B(l.i,ee),D=We.call(Ht,T)!==!1&&D}}return D&&!T.defaultPrevented}function ke(l,h,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function qe(l){l.g=ke(()=>{l.g=null,l.i&&(l.i=!1,qe(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class st extends ae{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:qe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(l){ae.call(this),this.h=l,this.g={}}R(Jt,ae);var nr=[];function _r(l){q(l.g,function(h,m){this.g.hasOwnProperty(m)&&Le(h)},l),l.g={}}Jt.prototype.N=function(){Jt.aa.N.call(this),_r(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=a.JSON.stringify,kt=a.JSON.parse,hi=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Er(){}Er.prototype.h=null;function fi(l){return l.h||(l.h=l.i())}function Ca(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rs(){ce.call(this,"d")}R(rs,ce);function pi(){ce.call(this,"c")}R(pi,ce);var jr={},N=null;function j(){return N=N||new Fe}jr.La="serverreachability";function W(l){ce.call(this,jr.La,l)}R(W,ce);function Y(l){const h=j();ot(h,new W(h))}jr.STAT_EVENT="statevent";function se(l,h){ce.call(this,jr.STAT_EVENT,l),this.stat=h}R(se,ce);function he(l){const h=j();ot(h,new se(h,l))}jr.Ma="timingevent";function pe(l,h){ce.call(this,jr.Ma,l),this.size=h}R(pe,ce);function oe(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function we(l,h,m,T,D,H){l.info(function(){if(l.g)if(H)for(var ee="",We=H.split("&"),Ht=0;Ht<We.length;Ht++){var $e=We[Ht].split("=");if(1<$e.length){var Zt=$e[0];$e=$e[1];var en=Zt.split("_");ee=2<=en.length&&en[1]=="type"?ee+(Zt+"="+$e+"&"):ee+(Zt+"=redacted&")}}else ee=null;else ee=H;return"XMLHTTP REQ ("+T+") [attempt "+D+"]: "+h+`
`+m+`
`+ee})}function Ot(l,h,m,T,D,H,ee){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+D+"]: "+h+`
`+m+`
`+H+" "+ee})}function nt(l,h,m,T){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ke(l,m)+(T?" "+T:"")})}function ve(l,h){l.info(function(){return"TIMEOUT: "+h})}Ee.prototype.info=function(){};function Ke(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var T=m[l];if(!(2>T.length)){var D=T[1];if(Array.isArray(D)&&!(1>D.length)){var H=D[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ee=1;ee<D.length;ee++)D[ee]=""}}}}return $t(m)}catch{return h}}var at={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function rr(){}R(rr,Er),rr.prototype.g=function(){return new XMLHttpRequest},rr.prototype.i=function(){return{}},zn=new rr;function hn(l,h,m,T){this.j=l,this.i=h,this.l=m,this.R=T||1,this.U=new Jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}var bn={},gi={};function vi(l,h,m){l.L=1,l.v=Lu($r(h)),l.m=m,l.P=!0,po(l,null)}function po(l,h){l.F=Date.now(),zt(l),l.A=$r(l.v);var m=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),Ty(m.i,"t",T),l.C=0,m=l.j.J,l.h=new Vr,l.g=Uy(l.j,m?h:null,!l.m),0<l.O&&(l.M=new st(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,T=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(nr[0]=D.toString()),D=nr);for(var H=0;H<D.length;H++){var ee=Ie(m,D[H],T||h.handleEvent,!1,h.h||h);if(!ee)break;h.g[ee.key]=ee}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Y(),we(l.i,l.u,l.A,l.l,l.R,l.m)}hn.prototype.ca=function(l){l=l.target;const h=this.M;h&&Br(l)==3?h.j():this.Y(l)},hn.prototype.Y=function(l){try{if(l==this.g)e:{const en=Br(this.g);var h=this.g.Ba();const ss=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||by(this.g)))){this.J||en!=4||h==7||(h==8||0>=ss?Y(3):Y(2)),Fr(this);var m=this.g.Z();this.X=m;t:if(Oe(this)){var T=by(this.g);l="";var D=T.length,H=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),yi(this);var ee="";break t}this.h.i=new a.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,l+=this.h.i.decode(T[h],{stream:!(H&&h==D-1)});T.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=m==200,Ot(this.i,this.u,this.A,this.l,this.R,en,m),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ht=this.g;if((We=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(We)){var $e=We;break t}}$e=null}if(m=$e)nt(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gh(this,m);else{this.o=!1,this.s=3,he(12),Ur(this),yi(this);break e}}if(this.P){m=!0;let ir;for(;!this.J&&this.C<ee.length;)if(ir=Bt(this,ee),ir==gi){en==4&&(this.s=4,he(14),m=!1),nt(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==bn){this.s=4,he(15),nt(this.i,this.l,ee,"[Invalid Chunk]"),m=!1;break}else nt(this.i,this.l,ir,null),Gh(this,ir);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ee.length!=0||this.h.h||(this.s=1,he(16),m=!1),this.o=this.o&&m,!m)nt(this.i,this.l,ee,"[Invalid Chunked Response]"),Ur(this),yi(this);else if(0<ee.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Zh(Zt),Zt.M=!0,he(11))}}else nt(this.i,this.l,ee,null),Gh(this,ee);en==4&&Ur(this),this.o&&!this.J&&(en==4?Ly(this.j,this):(this.o=!1,zt(this)))}else NP(this.g),m==400&&0<ee.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Ur(this),yi(this)}}}catch{}finally{}};function Oe(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Bt(l,h){var m=l.C,T=h.indexOf(`
`,m);return T==-1?gi:(m=Number(h.substring(m,T)),isNaN(m)?bn:(T+=1,T+m>h.length?gi:(h=h.slice(T,T+m),l.C=T+m,h)))}hn.prototype.cancel=function(){this.J=!0,Ur(this)};function zt(l){l.S=Date.now()+l.I,Rt(l,l.I)}function Rt(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=oe(p(l.ba,l),h)}function Fr(l){l.B&&(a.clearTimeout(l.B),l.B=null)}hn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ve(this.i,this.A),this.L!=2&&(Y(),he(17)),Ur(this),this.s=2,yi(this)):Rt(this,this.S-l)};function yi(l){l.j.G==0||l.J||Ly(l.j,l)}function Ur(l){Fr(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,_r(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Gh(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||Kh(m.h,l))){if(!l.K&&Kh(m.h,l)&&m.G==3){try{var T=m.Da.g.parse(h)}catch{T=null}if(Array.isArray(T)&&T.length==3){var D=T;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)$u(m),Fu(m);else break e;Jh(m),he(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=oe(p(m.Za,m),6e3));if(1>=fy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else go(m,11)}else if((l.K||m.g==l)&&$u(m),!E(h))for(D=m.Da.g.parse(h),h=0;h<D.length;h++){let $e=D[h];if(m.T=$e[0],$e=$e[1],m.G==2)if($e[0]=="c"){m.K=$e[1],m.ia=$e[2];const Zt=$e[3];Zt!=null&&(m.la=Zt,m.j.info("VER="+m.la));const en=$e[4];en!=null&&(m.Aa=en,m.j.info("SVER="+m.Aa));const ss=$e[5];ss!=null&&typeof ss=="number"&&0<ss&&(T=1.5*ss,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const ir=l.g;if(ir){const zu=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zu){var H=T.h;H.g||zu.indexOf("spdy")==-1&&zu.indexOf("quic")==-1&&zu.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Qh(H,H.h),H.h=null))}if(T.D){const ef=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(T.ya=ef,Je(T.I,T.D,ef))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var ee=l;if(T.qa=Fy(T,T.J?T.ia:null,T.W),ee.K){py(T.h,ee);var We=ee,Ht=T.L;Ht&&(We.I=Ht),We.B&&(Fr(We),zt(We)),T.g=ee}else Dy(T);0<m.i.length&&Uu(m)}else $e[0]!="stop"&&$e[0]!="close"||go(m,7);else m.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?go(m,7):Yh(m):$e[0]!="noop"&&m.l&&m.l.ta($e),m.v=0)}}Y(4)}catch{}}var vP=class{constructor(l,h){this.g=l,this.map=h}};function dy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function fy(l){return l.h?1:l.g?l.g.size:0}function Kh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Qh(l,h){l.g?l.g.add(h):l.h=h}function py(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}dy.prototype.cancel=function(){if(this.i=my(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function my(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return C(l.i)}function yP(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,T=0;T<m;T++)h.push(l[T]);return h}h=[],m=0;for(T in l)h[m++]=l[T];return h}function _P(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const T in l)h[m++]=T;return h}}}function gy(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=_P(l),T=yP(l),D=T.length,H=0;H<D;H++)h.call(void 0,T[H],m&&m[H],l)}var vy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EP(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var T=l[m].indexOf("="),D=null;if(0<=T){var H=l[m].substring(0,T);D=l[m].substring(T+1)}else H=l[m];h(H,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function mo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof mo){this.h=l.h,Du(this,l.j),this.o=l.o,this.g=l.g,Mu(this,l.s),this.l=l.l;var h=l.i,m=new ka;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),yy(this,m),this.m=l.m}else l&&(h=String(l).match(vy))?(this.h=!1,Du(this,h[1]||"",!0),this.o=ba(h[2]||""),this.g=ba(h[3]||"",!0),Mu(this,h[4]),this.l=ba(h[5]||"",!0),yy(this,h[6]||"",!0),this.m=ba(h[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}mo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(xa(h,_y,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(xa(h,_y,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(xa(m,m.charAt(0)=="/"?SP:TP,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",xa(m,RP)),l.join("")};function $r(l){return new mo(l)}function Du(l,h,m){l.j=m?ba(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Mu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function yy(l,h,m){h instanceof ka?(l.i=h,PP(l.i,l.h)):(m||(h=xa(h,IP)),l.i=new ka(h,l.h))}function Je(l,h,m){l.i.set(h,m)}function Lu(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ba(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function xa(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,wP),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var _y=/[#\/\?@]/g,TP=/[#\?:]/g,SP=/[#\?]/g,IP=/[#\?@]/g,RP=/#/g;function ka(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function _i(l){l.g||(l.g=new Map,l.h=0,l.i&&EP(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=ka.prototype,t.add=function(l,h){_i(this),this.i=null,l=is(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Ey(l,h){_i(l),h=is(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function wy(l,h){return _i(l),h=is(l,h),l.g.has(h)}t.forEach=function(l,h){_i(this),this.g.forEach(function(m,T){m.forEach(function(D){l.call(h,D,T,this)},this)},this)},t.na=function(){_i(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let T=0;T<h.length;T++){const D=l[T];for(let H=0;H<D.length;H++)m.push(h[T])}return m},t.V=function(l){_i(this);let h=[];if(typeof l=="string")wy(this,l)&&(h=h.concat(this.g.get(is(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return _i(this),this.i=null,l=is(this,l),wy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Ty(l,h,m){Ey(l,h),0<m.length&&(l.i=null,l.g.set(is(l,h),C(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var T=h[m];const H=encodeURIComponent(String(T)),ee=this.V(T);for(T=0;T<ee.length;T++){var D=H;ee[T]!==""&&(D+="="+encodeURIComponent(String(ee[T]))),l.push(D)}}return this.i=l.join("&")};function is(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function PP(l,h){h&&!l.j&&(_i(l),l.i=null,l.g.forEach(function(m,T){var D=T.toLowerCase();T!=D&&(Ey(this,T),Ty(this,D,m))},l)),l.j=h}function AP(l,h){const m=new Ee;if(a.Image){const T=new Image;T.onload=S(Ei,m,"TestLoadImage: loaded",!0,h,T),T.onerror=S(Ei,m,"TestLoadImage: error",!1,h,T),T.onabort=S(Ei,m,"TestLoadImage: abort",!1,h,T),T.ontimeout=S(Ei,m,"TestLoadImage: timeout",!1,h,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else h(!1)}function CP(l,h){const m=new Ee,T=new AbortController,D=setTimeout(()=>{T.abort(),Ei(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:T.signal}).then(H=>{clearTimeout(D),H.ok?Ei(m,"TestPingServer: ok",!0,h):Ei(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Ei(m,"TestPingServer: error",!1,h)})}function Ei(l,h,m,T,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),T(m)}catch{}}function bP(){this.g=new hi}function xP(l,h,m){const T=m||"";try{gy(l,function(D,H){let ee=D;c(D)&&(ee=$t(D)),h.push(T+H+"="+encodeURIComponent(ee))})}catch(D){throw h.push(T+"type="+encodeURIComponent("_badmap")),D}}function Oa(l){this.l=l.Ub||null,this.j=l.eb||!1}R(Oa,Er),Oa.prototype.g=function(){return new ju(this.l,this.j)},Oa.prototype.i=function(l){return function(){return l}}({});function ju(l,h){Fe.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ju,Fe),t=ju.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Da(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Da(this)),this.g&&(this.readyState=3,Da(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Na(this):Da(this),this.readyState==3&&Sy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Na(this))},t.Qa=function(l){this.g&&(this.response=l,Na(this))},t.ga=function(){this.g&&Na(this)};function Na(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Da(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Da(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Iy(l){let h="";return q(l,function(m,T){h+=T,h+=":",h+=m,h+=`\r
`}),h}function Xh(l,h,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=Iy(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Je(l,h,m))}function mt(l){Fe.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(mt,Fe);var kP=/^https?$/i,OP=["POST","PUT"];t=mt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?fi(this.o):fi(zn),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(H){Ry(this,H);return}if(l=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var D in T)m.set(D,T[D]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())m.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(H=>H.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OP,h,void 0))||T||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of m)this.g.setRequestHeader(H,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cy(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Ry(this,H)}};function Ry(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Py(l),Vu(l)}function Py(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Vu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ay(this):this.bb())},t.bb=function(){Ay(this)};function Ay(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Br(l)!=4||l.Z()!=2)){if(l.u&&Br(l)==4)ke(l.Ea,0,l);else if(ot(l,"readystatechange"),Br(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var T;if(T=ee===0){var D=String(l.D).match(vy)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),T=!kP.test(D?D.toLowerCase():"")}m=T}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var H=2<Br(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",Py(l)}}finally{Vu(l)}}}}function Vu(l,h){if(l.g){Cy(l);const m=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ot(l,"ready");try{m.onreadystatechange=T}catch{}}}function Cy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Br(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),kt(h)}};function by(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function NP(l){const h={};l=(l.g&&2<=Br(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(E(l[T]))continue;var m=b(l[T]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const H=h[D]||[];h[D]=H,H.push(m)}v(h,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function xy(l){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,l),this.cb=Ma("retryDelaySeedMs",1e4,l),this.Wa=Ma("forwardChannelMaxRetries",2,l),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new dy(l&&l.concurrentRequestLimit),this.Da=new bP,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xy.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,T){he(0),this.W=l,this.H=h||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=Fy(this,null,this.W),Uu(this)};function Yh(l){if(ky(l),l.G==3){var h=l.U++,m=$r(l.I);if(Je(m,"SID",l.K),Je(m,"RID",h),Je(m,"TYPE","terminate"),La(l,m),h=new hn(l,l.j,h),h.L=2,h.v=Lu($r(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=Uy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),zt(h)}Vy(l)}function Fu(l){l.g&&(Zh(l),l.g.cancel(),l.g=null)}function ky(l){Fu(l),l.u&&(a.clearTimeout(l.u),l.u=null),$u(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Uu(l){if(!hy(l.h)&&!l.s){l.s=!0;var h=l.Ga;F||re(),L||(F(),L=!0),Z.add(h,l),l.B=0}}function DP(l,h){return fy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=oe(p(l.Ga,l,h),jy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new hn(this,this.j,l);let H=this.o;if(this.S&&(H?(H=y(H),P(H,this.S)):H=this.S),this.m!==null||this.O||(D.H=H,H=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(h+=T,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Ny(this,D,h),m=$r(this.I),Je(m,"RID",l),Je(m,"CVER",22),this.D&&Je(m,"X-HTTP-Session-Id",this.D),La(this,m),H&&(this.O?h="headers="+encodeURIComponent(String(Iy(H)))+"&"+h:this.m&&Xh(m,this.m,H)),Qh(this.h,D),this.Ua&&Je(m,"TYPE","init"),this.P?(Je(m,"$req",h),Je(m,"SID","null"),D.T=!0,vi(D,m,null)):vi(D,m,h),this.G=2}}else this.G==3&&(l?Oy(this,l):this.i.length==0||hy(this.h)||Oy(this))};function Oy(l,h){var m;h?m=h.l:m=l.U++;const T=$r(l.I);Je(T,"SID",l.K),Je(T,"RID",m),Je(T,"AID",l.T),La(l,T),l.m&&l.o&&Xh(T,l.m,l.o),m=new hn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Ny(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Qh(l.h,m),vi(m,T,h)}function La(l,h){l.H&&q(l.H,function(m,T){Je(h,T,m)}),l.l&&gy({},function(m,T){Je(h,T,m)})}function Ny(l,h,m){m=Math.min(l.i.length,m);var T=l.l?p(l.l.Na,l.l,l):null;e:{var D=l.i;let H=-1;for(;;){const ee=["count="+m];H==-1?0<m?(H=D[0].g,ee.push("ofs="+H)):H=0:ee.push("ofs="+H);let We=!0;for(let Ht=0;Ht<m;Ht++){let $e=D[Ht].g;const Zt=D[Ht].map;if($e-=H,0>$e)H=Math.max(0,D[Ht].g-100),We=!1;else try{xP(Zt,ee,"req"+$e+"_")}catch{T&&T(Zt)}}if(We){T=ee.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,T}function Dy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;F||re(),L||(F(),L=!0),Z.add(h,l),l.v=0}}function Jh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=oe(p(l.Fa,l),jy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,My(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=oe(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),Fu(this),My(this))};function Zh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function My(l){l.g=new hn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=$r(l.qa);Je(h,"RID","rpc"),Je(h,"SID",l.K),Je(h,"AID",l.T),Je(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(h,"TO",l.ja),Je(h,"TYPE","xmlhttp"),La(l,h),l.m&&l.o&&Xh(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Lu($r(h)),m.m=null,m.P=!0,po(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Fu(this),Jh(this),he(19))};function $u(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ly(l,h){var m=null;if(l.g==h){$u(l),Zh(l),l.g=null;var T=2}else if(Kh(l.h,h))m=h.D,py(l.h,h),T=1;else return;if(l.G!=0){if(h.o)if(T==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var D=l.B;T=j(),ot(T,new pe(T,m)),Uu(l)}else Dy(l);else if(D=h.s,D==3||D==0&&0<h.X||!(T==1&&DP(l,h)||T==2&&Jh(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),D){case 1:go(l,5);break;case 4:go(l,10);break;case 3:go(l,6);break;default:go(l,2)}}}function jy(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function go(l,h){if(l.j.info("Error code "+h),h==2){var m=p(l.fb,l),T=l.Xa;const D=!T;T=new mo(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Du(T,"https"),Lu(T),D?AP(T.toString(),m):CP(T.toString(),m)}else he(2);l.G=0,l.l&&l.l.sa(h),Vy(l),ky(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Vy(l){if(l.G=0,l.ka=[],l.l){const h=my(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function Fy(l,h,m){var T=m instanceof mo?$r(m):new mo(m);if(T.g!="")h&&(T.g=h+"."+T.g),Mu(T,T.s);else{var D=a.location;T=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var H=new mo(null);T&&Du(H,T),h&&(H.g=h),D&&Mu(H,D),m&&(H.l=m),T=H}return m=l.D,h=l.ya,m&&h&&Je(T,m,h),Je(T,"VER",l.la),La(l,T),T}function Uy(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new mt(new Oa({eb:m})):new mt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $y(){}t=$y.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bu(){}Bu.prototype.g=function(l,h){return new xn(l,h)};function xn(l,h){Fe.call(this),this.g=new xy(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!E(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new os(this)}R(xn,Fe),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Yh(this.g)},xn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=$t(l),l=m);h.i.push(new vP(h.Ya++,l)),h.G==3&&Uu(h)},xn.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,xn.aa.N.call(this)};function By(l){rs.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}R(By,rs);function zy(){pi.call(this),this.status=1}R(zy,pi);function os(l){this.g=l}R(os,$y),os.prototype.ua=function(){ot(this.g,"a")},os.prototype.ta=function(l){ot(this.g,new By(l))},os.prototype.sa=function(l){ot(this.g,new zy)},os.prototype.ra=function(){ot(this.g,"b")},Bu.prototype.createWebChannel=Bu.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,US=function(){return new Bu},FS=function(){return j()},VS=jr,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,Fc=at,mi.COMPLETE="complete",jS=mi,Ca.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,ol=Ca,LS=Oa,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,MS=mt}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Og("@firebase/firestore");function Ka(){return zo.logLevel}function ue(t,...e){if(zo.logLevel<=je.DEBUG){const n=e.map(Hg);zo.debug(`Firestore (${ga}): ${t}`,...n)}}function ai(t,...e){if(zo.logLevel<=je.ERROR){const n=e.map(Hg);zo.error(`Firestore (${ga}): ${t}`,...n)}}function Ys(t,...e){if(zo.logLevel<=je.WARN){const n=e.map(Hg);zo.warn(`Firestore (${ga}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function Ye(t,e){t||Te()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ON{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class NN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DN{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new $S(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new sn(e)}}class MN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new jN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Mt(0,0))}static max(){return new Pe(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends Jl{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const UN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Jl{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return UN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Qe.fromString(e))}static fromName(e){return new fe(Qe.fromString(e).popFirst(5))}static empty(){return new fe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Qe(e.slice()))}}function $N(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new to(i,fe.empty(),e)}function BN(t){return new to(t.readTime,t.key,-1)}class to{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new to(Pe.min(),fe.empty(),-1)}static max(){return new to(Pe.max(),fe.empty(),-1)}}function zN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==HN)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function WN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qg.oe=-1;function fh(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function GN(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=o??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(e){return new Z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class Z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Qt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HS("Invalid base64 string: "+o):o}}(e);return new cn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const KN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=KN.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ho(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wg(t){const e=t.mapValue.fields.__previous_value__;return ph(e)?Wg(e):e}function Zl(t){const e=no(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ph(t)?4:XN(t)?9007199254740991:10:Te()}function Dr(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=no(i.timestampValue),a=no(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ho(i.bytesValue).isEqual(Ho(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ct(i.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ct(i.integerValue)===Ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ct(i.doubleValue),a=Ct(o.doubleValue);return s===a?Rd(s)===Rd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Js(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(J0(s)!==J0(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Dr(s[u],a[u])))return!1;return!0}(t,e);default:return Te()}}function tu(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Zs(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ct(o.integerValue||o.doubleValue),u=Ct(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(Zl(t),Zl(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ho(o),u=Ho(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ze(a[c],u[c]);if(d!==0)return d}return ze(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ze(Ct(o.latitude),Ct(s.latitude));return a!==0?a:ze(Ct(o.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=Zs(a[c],u[c]);if(d)return d}return ze(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===cc.mapValue&&s===cc.mapValue)return 0;if(o===cc.mapValue)return 1;if(s===cc.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=ze(u[f],d[f]);if(p!==0)return p;const S=Zs(a[u[f]],c[d[f]]);if(S!==0)return S}return ze(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Te()}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=no(t),r=no(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function ea(t){return im(t)}function im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=no(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=im(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${im(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function Pd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function om(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function Tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Tl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Sn(Tl(this.value))}}function qS(t){const e=[];return Jo(t.fields,(n,r)=>{const i=new Gt([n]);if(Uc(r)){const o=qS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ln(e,0,Pe.min(),Pe.min(),Pe.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,Pe.min(),Pe.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Pe.min(),Pe.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.position=e,this.inclusive=n}}function r1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(s.referenceValue),n.key):r=Zs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function i1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function YN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{}class xt extends WS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZN(e,n,r):n==="array-contains"?new nD(e,r):n==="in"?new rD(e,r):n==="not-in"?new iD(e,r):n==="array-contains-any"?new oD(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eD(e,r):new tD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zs(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends WS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gr(e,n)}matches(e){return GS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GS(t){return t.op==="and"}function KS(t){return JN(t)&&GS(t)}function JN(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function sm(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(KS(t))return t.filters.map(e=>sm(e)).join(",");{const e=t.filters.map(n=>sm(n)).join(",");return`${t.op}(${e})`}}function QS(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&QS(s,i.filters[a]),!0):!1}(t,e):void Te()}function XS(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(XS).join(" ,")+"}"}(t):"Filter"}class ZN extends xt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class eD extends xt{constructor(e,n){super(e,"in",n),this.keys=YS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tD extends xt{constructor(e,n){super(e,"not-in",n),this.keys=YS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class nD extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&tu(n.arrayValue,this.value)}}class rD extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class iD extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}}class oD extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function o1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sD(t,e,n,r,i,o,s)}function Kg(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ue=n}return e.ue}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i1(t.startAt,e.startAt)&&i1(t.endAt,e.endAt)}function am(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aD(t,e,n,r,i,o,s,a){return new va(t,e,n,r,i,o,s,a)}function Xg(t){return new va(t)}function s1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yg(t){return t.collectionGroup!==null}function Us(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qt(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ad(o,r))}),n.has(Gt.keyField().canonicalString())||e.ce.push(new Ad(Gt.keyField(),r))}return e.ce}function kr(t){const e=Ae(t);return e.le||(e.le=lD(e,Us(t))),e.le}function lD(t,e){if(t.limitType==="F")return o1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ad(i.field,o)});const n=t.endAt?new ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ta(t.startAt.position,t.startAt.inclusive):null;return o1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lm(t,e){const n=t.filters.concat([e]);return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cd(t,e,n){return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return Qg(kr(t),kr(e))&&t.limitType===e.limitType}function JS(t){return`${Kg(kr(t))}|lt:${t.limitType}`}function hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XS(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Us(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=r1(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Us(r),i)||r.endAt&&!function(s,a,u){const c=r1(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Us(r),i))}(t,e)}function uD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZS(t){return(e,n)=>{let r=!1;for(const i of Us(t)){const o=cD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cD(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Zs(u,c):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new ht(fe.comparator);function li(){return dD}const eI=new ht(fe.comparator);function sl(...t){let e=eI;for(const n of t)e=e.insert(n.key,n);return e}function tI(t){let e=eI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Po(){return Sl()}function nI(){return Sl()}function Sl(){return new ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const hD=new ht(fe.comparator),fD=new Qt(fe.comparator);function Me(...t){let e=fD;for(const n of t)e=e.add(n);return e}const pD=new Qt(ze);function mD(){return pD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function iI(t){return{integerValue:""+t}}function gD(t,e){return GN(e)?iI(e):rI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function vD(t,e,n){return t instanceof bd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ph(o)&&(o=Wg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof na?sI(t,e):t instanceof nu?aI(t,e):function(i,o){const s=oI(i,o),a=a1(s)+a1(i.Pe);return om(s)&&om(i.Pe)?iI(a):rI(i.serializer,a)}(t,e)}function yD(t,e,n){return t instanceof na?sI(t,e):t instanceof nu?aI(t,e):n}function oI(t,e){return t instanceof xd?function(r){return om(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bd extends vh{}class na extends vh{constructor(e){super(),this.elements=e}}function sI(t,e){const n=lI(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class nu extends vh{constructor(e){super(),this.elements=e}}function aI(t,e){let n=lI(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class xd extends vh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function a1(t){return Ct(t.integerValue||t.doubleValue)}function lI(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.field=e,this.transform=n}}function ED(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof na&&i instanceof na||r instanceof nu&&i instanceof nu?Js(r.elements,i.elements,Dr):r instanceof xd&&i instanceof xd?Dr(r.Pe,i.Pe):r instanceof bd&&i instanceof bd}(t.transform,e.transform)}class wD{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function uI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dI(t.key,Or.none()):new Su(t.key,t.data,Or.none());{const n=t.data,r=Sn.empty();let i=new Qt(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new co(t.key,r,new Mn(i.toArray()),Or.none())}}function TD(t,e,n){t instanceof Su?function(i,o,s){const a=i.value.clone(),u=u1(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,o,s){if(!$c(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=u1(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(cI(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n,r){return t instanceof Su?function(o,s,a,u){if(!$c(o.precondition,s))return a;const c=o.value.clone(),d=c1(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(o,s,a,u){if(!$c(o.precondition,s))return a;const c=c1(o.fieldTransforms,u,s),d=s.data;return d.setAll(cI(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return $c(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function SD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=oI(r.transform,i||null);o!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,o))}return n||null}function l1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Js(r,i,(o,s)=>ED(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends yh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function cI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function u1(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,yD(s,a,n[i]))}return r}function c1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,vD(o,s,e))}return r}class dI extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ID extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&TD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nI();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=uI(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,r)=>l1(n,r))&&Js(this.baseMutations,e.baseMutations,(n,r)=>l1(n,r))}}class Jg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return hD}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Jg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ve;function CD(t){switch(t){default:return Te();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function hI(t){if(t===void 0)return ai("GRPC error has no .code"),G.UNKNOWN;switch(t){case Pt.OK:return G.OK;case Pt.CANCELLED:return G.CANCELLED;case Pt.UNKNOWN:return G.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return G.INTERNAL;case Pt.UNAVAILABLE:return G.UNAVAILABLE;case Pt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Pt.NOT_FOUND:return G.NOT_FOUND;case Pt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Pt.ABORTED:return G.ABORTED;case Pt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Pt.DATA_LOSS:return G.DATA_LOSS;default:return Te()}}(Ve=Pt||(Pt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new bo([4294967295,4294967295],0);function d1(t){const e=bD().encode(t),n=new DS;return n.update(e),new Uint8Array(n.digest())}function h1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bo([n,r],0),new bo([i,o],0)]}class Zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=bo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(bo.fromNumber(r)));return i.compare(xD)===1&&(i=new bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=d1(e),[r,i]=h1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Zg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=d1(e),[r,i]=h1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _h(Pe.min(),i,new ht(ze),li(),Me())}}class Iu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class fI{constructor(e,n){this.targetId=e,this.me=n}}class pI{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class f1{constructor(){this.fe=0,this.ge=m1(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Me(),n=Me(),r=Me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Iu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=m1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kD{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=p1(),this.Qe=new ht(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(am(o))if(r===0){const s=new fe(o.path);this.Ue(n,s,ln.newNoDocument(s,Pe.min()))}else Ye(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ho(r).toUint8Array()}catch(u){if(u instanceof HS)return Ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Zg(s,i,o)}catch(u){return Ys(u instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&am(a.target)){const u=new fe(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ln.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new _h(e,n,this.Qe,this.ke,r);return this.ke=li(),this.qe=p1(),this.Qe=new ht(ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new f1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qt(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new f1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function p1(){return new ht(fe.comparator)}function m1(){return new ht(fe.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},ND={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DD={and:"AND",or:"OR"};class MD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function um(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LD(t,e){return kd(t,e.toTimestamp())}function Nr(t){return Ye(!!t),Pe.fromTimestamp(function(n){const r=no(n);return new Mt(r.seconds,r.nanos)}(t))}function ev(t,e){return cm(t,e).canonicalString()}function cm(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gI(t){const e=Qe.fromString(t);return Ye(wI(e)),e}function dm(t,e){return ev(t.databaseId,e.path)}function Vf(t,e){const n=gI(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(yI(n))}function vI(t,e){return ev(t.databaseId,e)}function jD(t){const e=gI(t);return e.length===4?Qe.emptyPath():yI(e)}function hm(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yI(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g1(t,e,n){return{name:dm(t,e),fields:n.value.mapValue.fields}}function VD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Ye(d===void 0||typeof d=="string"),cn.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),cn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?G.UNKNOWN:hI(c.code);return new ie(d,c.message||"")}(s);n=new pI(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vf(t,r.document.name),o=Nr(r.document.updateTime),s=r.document.createTime?Nr(r.document.createTime):Pe.min(),a=new Sn({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Bc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vf(t,r.document),o=r.readTime?Nr(r.readTime):Pe.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Bc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vf(t,r.document),o=r.removedTargetIds||[];n=new Bc([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new AD(i,o),a=r.targetId;n=new fI(a,s)}}return n}function FD(t,e){let n;if(e instanceof Su)n={update:g1(t,e.key,e.value)};else if(e instanceof dI)n={delete:dm(t,e.key)};else if(e instanceof co)n={update:g1(t,e.key,e.data),updateMask:KD(e.fieldMask)};else{if(!(e instanceof ID))return Te();n={verify:dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof bd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof na)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xd)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function UD(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Nr(i.updateTime):Nr(o);return s.isEqual(Pe.min())&&(s=Nr(o)),new wD(s,i.transformResults||[])}(n,e))):[]}function $D(t,e){return{documents:[vI(t,e.path)]}}function BD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vI(t,i);const o=function(c){if(c.length!==0)return EI(gr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:fs(p.field),direction:qD(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=um(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function zD(t){let e=jD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const p=_I(f);return p instanceof gr&&KS(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(R){return new Ad(ps(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,fh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,S=f.values||[];return new ta(S,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,S=f.values||[];return new ta(S,p)}(n.endAt)),aD(e,i,s,o,a,"F",u,c)}function HD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _I(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ps(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ps(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ps(n.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ps(n.unaryFilter.field);return xt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>_I(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function qD(t){return OD[t]}function WD(t){return ND[t]}function GD(t){return DD[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ps(t){return Gt.fromServerFormat(t.fieldPath)}function EI(t){return t instanceof xt?function(n){if(n.op==="=="){if(n1(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NAN"}};if(t1(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n1(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NAN"}};if(t1(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(n.field),op:WD(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(i=>EI(i));return r.length===1?r[0]:{compositeFilter:{op:GD(n.op),filters:r}}}(t):Te()}function KD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r,i,o=Pe.min(),s=Pe.min(),a=cn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.ct=e}}function XD(t){const e=zD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._n=new JD}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(to.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(to.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class JD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ra(0)}static Ln(){return new ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Il(r.mutation,i,Mn.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=li();const s=Sl(),a=function(){return Sl()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof co)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),Il(d.mutation,c,d.mutation.getFieldMask(),Mt.now())):s.set(c.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new eM(d,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sl();let i=new ht((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Mn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||Me()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=nI();d.forEach(p=>{if(!o.has(p)){const S=uI(n.get(p),r.get(p));S!==null&&f.set(p,S),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(Po());let a=-1,u=o;return s.next(c=>Q.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,Me())).next(d=>({batchId:a,changes:tI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=sl();return this.indexManager.getCollectionParents(e,o).next(a=>Q.forEach(a,u=>{const c=function(f,p){return new va(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,ln.newInvalidDocument(d)))});let a=sl();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&Il(d.mutation,c,Mn.empty(),Mt.now()),gh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:XD(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.overlays=new ht(fe.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Po(),o=n.length+1,s=new fe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ht((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Po(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Po(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PD(n,r));let o=this.hr.get(n);o===void 0&&(o=Me(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Pr=new Qt(jt.Ir),this.Tr=new Qt(jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new fe(new Qe([])),r=new jt(n,e),i=new jt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new fe(new Qe([])),r=new jt(n,e),i=new jt(n,e+1);let o=Me();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return fe.comparator(e.key,n.key)||ze(e.pr,n.pr)}static Er(e,n){return ze(e.pr,n.pr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qt(jt.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new jt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qt(ze);return n.forEach(i=>{const o=new jt(i,0),s=new jt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),Q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const s=new jt(new fe(o),0);let a=new Qt(ze);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),Q.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Q.forEach(n.mutations,i=>{const o=new jt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new jt(n,0),i=this.wr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.vr=e,this.docs=function(){return new ht(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=li();const s=n.path,a=new fe(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||zN(BN(d),r)<=0||(i.has(d.key)||gh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Fr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sM(this)}getSize(e){return Q.resolve(this.size)}}class sM extends ZD{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.persistence=e,this.Mr=new ya(n=>Kg(n),Qg),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tv,this.targetCount=0,this.Lr=ra.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.Br={},this.overlays={},this.kr=new qg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new aM(this),this.indexManager=new YD,this.remoteDocumentCache=function(i){return new oM(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new QD(n),this.$r=new nM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new iM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new uM(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return Q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class uM extends qN{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.zr=new tv,this.jr=null}static Hr(e){return new nv(e)}get Jr(){if(this.jr)return this.jr;throw Te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,r=>{const i=fe.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Pe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Me(),i=Me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return t2()?8:WN(Yt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new cM;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ka()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(Ka()<=je.DEBUG&&ue("QueryEngine","Query:",hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ka()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):Q.resolve())}ji(e,n){if(s1(n))return Q.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cd(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Me(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,Cd(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return s1(n)||i.isEqual(Pe.min())?Q.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?Q.resolve(null):(Ka()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hs(n)),this.es(e,s,n,$N(i,-1)).next(a=>a))})}Zi(e,n){let r=new Qt(ZS(e));return n.forEach((i,o)=>{gh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ka()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",hs(n)),this.zi.getDocumentsMatchingQuery(e,n,to.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ht(ze),this.rs=new ya(o=>Kg(o),Qg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function fM(t,e,n,r){return new hM(t,e,n,r)}async function TI(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Me();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}function pM(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let S=Q.resolve();return p.forEach(R=>{S=S.next(()=>d.getEntry(u,R)).next(C=>{const k=c.docVersions.get(R);Ye(k!==null),C.version.compareTo(k)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),d.addEntry(C)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SI(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function mM(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,f)));let S=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):d.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(d.resumeToken,r)),i=i.insert(f,S),function(C,k,I){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,S,d)&&a.push(n.Qr.updateTargetData(o,S))});let u=li(),c=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(gM(o,s,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(Pe.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}function gM(t,e,n){let r=Me(),i=Me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=li();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Pe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}function vM(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yM(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Li(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function fm(t,e,n){const r=Ae(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Tu(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function v1(t,e,n){const r=Ae(t);let i=Pe.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const f=Ae(u),p=f.rs.get(d);return p!==void 0?Q.resolve(f.ns.get(p)):f.Qr.getTargetData(c,d)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Pe.min(),n?o:Me())).next(a=>(_M(r,uD(e),a),{documents:a,hs:o})))}function _M(t,e,n){let r=t.ss.get(e)||Pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class y1{constructor(){this.activeTargetIds=mD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EM{constructor(){this.no=new y1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new y1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Ff(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class IM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=Ff(),u=this.vo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(n,u,c,i).then(d=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ys("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=TM[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=Ff();return new Promise((s,a)=>{const u=new MS;u.setWithCredentials(!0),u.listenOnce(jS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fc.NO_ERROR:const d=u.getResponseJson();ue(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Fc.TIMEOUT:ue(rn,`RPC '${e}' ${o} timed out`),a(new ie(G.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const f=u.getStatus();if(ue(rn,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const R=function(k){const I=k.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(I)>=0?I:G.UNKNOWN}(S.status);a(new ie(R,S.message))}else a(new ie(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(G.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(rn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ue(rn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Ff(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=US(),a=FS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new LS({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");ue(rn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=s.createWebChannel(d,u);let p=!1,S=!1;const R=new SM({lo:k=>{S?ue(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(ue(rn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ue(rn,`RPC '${e}' stream ${i} sending:`,k),f.send(k))},ho:()=>f.close()}),C=(k,I,E)=>{k.listen(I,_=>{try{E(_)}catch(x){setTimeout(()=>{throw x},0)}})};return C(f,ol.EventType.OPEN,()=>{S||(ue(rn,`RPC '${e}' stream ${i} transport opened.`),R.mo())}),C(f,ol.EventType.CLOSE,()=>{S||(S=!0,ue(rn,`RPC '${e}' stream ${i} transport closed`),R.po())}),C(f,ol.EventType.ERROR,k=>{S||(S=!0,Ys(rn,`RPC '${e}' stream ${i} transport errored:`,k),R.po(new ie(G.UNAVAILABLE,"The operation could not be completed")))}),C(f,ol.EventType.MESSAGE,k=>{var I;if(!S){const E=k.data[0];Ye(!!E);const _=E,x=_.error||((I=_[0])===null||I===void 0?void 0:I.error);if(x){ue(rn,`RPC '${e}' stream ${i} received error:`,x);const V=x.status;let q=function(w){const P=Pt[w];if(P!==void 0)return hI(P)}(V),v=x.message;q===void 0&&(q=G.INTERNAL,v="Unknown error status: "+V+" with message "+x.message),S=!0,R.po(new ie(q,v)),f.close()}else ue(rn,`RPC '${e}' stream ${i} received:`,E),R.yo(E)}}),C(a,VS.STAT_EVENT,k=>{k.stat===rm.PROXY?ue(rn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===rm.NOPROXY&&ue(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.fo()},0),R}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return new MD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new II(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ie(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RM extends RI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=VD(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Pe.min():s.readTime?Nr(s.readTime):Pe.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=hm(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=am(u)?{documents:$D(o,u)}:{query:BD(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=mI(o,s.resumeToken);const c=um(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Pe.min())>0){a.readTime=kd(o,s.snapshotVersion.toTimestamp());const c=um(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=HD(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=hm(this.serializer),n.removeTarget=e,this.i_(n)}}class PM extends RI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=UD(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.A_(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=hm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FD(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,cm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(G.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,cm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(G.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class CM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ai(n),this.y_=!1):ue("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{Zo(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ae(u);c.M_.add(4),await Ru(c),c.N_.set("Unknown"),c.M_.delete(4),await wh(c)}(this))})}),this.N_=new CM(r,i)}}async function wh(t){if(Zo(t))for(const e of t.x_)await e(!0)}async function Ru(t){for(const e of t.x_)await e(!1)}function PI(t,e){const n=Ae(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),av(n)?sv(n):_a(n).Xo()&&ov(n,e))}function iv(t,e){const n=Ae(t),r=_a(n);n.F_.delete(e),r.Xo()&&AI(n,e),n.F_.size===0&&(r.Xo()?r.n_():Zo(n)&&n.N_.set("Unknown"))}function ov(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).P_(e)}function AI(t,e){t.L_.xe(e),_a(t).I_(e)}function sv(t){t.L_=new kD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.N_.w_()}function av(t){return Zo(t)&&!_a(t).Zo()&&t.F_.size>0}function Zo(t){return Ae(t).M_.size===0}function CI(t){t.L_=void 0}async function xM(t){t.N_.set("Online")}async function kM(t){t.F_.forEach((e,n)=>{ov(t,e)})}async function OM(t,e){CI(t),av(t)?(t.N_.D_(e),sv(t)):t.N_.set("Unknown")}async function NM(t,e,n){if(t.N_.set("Online"),e instanceof pI&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Od(t,r)}else if(e instanceof Bc?t.L_.Ke(e):e instanceof fI?t.L_.He(e):t.L_.We(e),!n.isEqual(Pe.min()))try{const r=await SI(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.F_.get(c);d&&o.F_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.F_.get(u);if(!d)return;o.F_.set(u,d.withResumeToken(cn.EMPTY_BYTE_STRING,d.snapshotVersion)),AI(o,u);const f=new Li(d.target,u,c,d.sequenceNumber);ov(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Od(t,r)}}async function Od(t,e,n){if(!Tu(e))throw e;t.M_.add(1),await Ru(t),t.N_.set("Offline"),n||(n=()=>SI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await wh(t)})}function bI(t,e){return e().catch(n=>Od(t,n,e))}async function Th(t){const e=Ae(t),n=ro(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;DM(e);)try{const i=await vM(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,MM(e,i)}catch(i){await Od(e,i)}xI(e)&&kI(e)}function DM(t){return Zo(t)&&t.v_.length<10}function MM(t,e){t.v_.push(e);const n=ro(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function xI(t){return Zo(t)&&!ro(t).Zo()&&t.v_.length>0}function kI(t){ro(t).start()}async function LM(t){ro(t).V_()}async function jM(t){const e=ro(t);for(const n of t.v_)e.d_(n.mutations)}async function VM(t,e,n){const r=t.v_.shift(),i=Jg.from(r,e,n);await bI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Th(t)}async function FM(t,e){e&&ro(t).E_&&await async function(r,i){if(function(s){return CD(s)&&s!==G.ABORTED}(i.code)){const o=r.v_.shift();ro(r).t_(),await bI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Th(r)}}(t,e),xI(t)&&kI(t)}async function E1(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=Zo(n);n.M_.add(3),await Ru(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await wh(n)}async function UM(t,e){const n=Ae(t);e?(n.M_.delete(2),await wh(n)):e||(n.M_.add(2),await Ru(n),n.N_.set("Unknown"))}function _a(t){return t.B_||(t.B_=function(n,r,i){const o=Ae(n);return o.f_(),new RM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:xM.bind(null,t),To:kM.bind(null,t),Ao:OM.bind(null,t),h_:NM.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),av(t)?sv(t):t.N_.set("Unknown")):(await t.B_.stop(),CI(t))})),t.B_}function ro(t){return t.k_||(t.k_=function(n,r,i){const o=Ae(n);return o.f_(),new PM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:LM.bind(null,t),Ao:FM.bind(null,t),R_:jM.bind(null,t),A_:VM.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Th(t)):(await t.k_.stop(),t.v_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new lv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uv(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Tu(t))return new ie(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new $s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.q_=new ht(fe.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Te():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ia(e,n,$s.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class BM{constructor(){this.queries=new ya(e=>JS(e),mh),this.onlineState="Unknown",this.z_=new Set}}async function OI(t,e){const n=Ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new $M,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=uv(s,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&cv(n)}async function NI(t,e){const n=Ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zM(t,e){const n=Ae(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&cv(n)}function HM(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function cv(t){t.z_.forEach(e=>{e.next()})}var pm,T1;(T1=pm||(pm={})).J_="default",T1.Cache="cache";class DI{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.key=e}}class LI{constructor(e){this.key=e}}class qM{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Me(),this.mutatedKeys=Me(),this.Ia=ZS(e),this.Ta=new $s(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new w1,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),S=gh(this.query,f)?f:null,R=!!p&&this.mutatedKeys.has(p.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;p&&S?p.data.isEqual(S.data)?R!==C&&(r.track({type:3,doc:S}),k=!0):this.Ra(p,S)||(r.track({type:2,doc:S}),k=!0,(u&&this.Ia(S,u)>0||c&&this.Ia(S,c)<0)&&(a=!0)):!p&&S?(r.track({type:0,doc:S}),k=!0):p&&!S&&(r.track({type:1,doc:p}),k=!0,(u||c)&&(a=!0)),k&&(S?(s=s.add(S),o=C?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,f)=>function(S,R){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return C(S)-C(R)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,s.length!==0||c?{snapshot:new ia(this.query,e.Ta,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new w1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Me(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new LI(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new MI(r))}),n}pa(e){this.la=e.hs,this.Pa=Me();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ia.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class WM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GM{constructor(e){this.key=e,this.wa=!1}}class KM{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new ya(a=>JS(a),mh),this.Da=new Map,this.Ca=new Set,this.va=new ht(fe.comparator),this.Fa=new Map,this.Ma=new tv,this.xa={},this.Oa=new Map,this.Na=ra.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function QM(t,e,n=!0){const r=BI(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await jI(r,e,n,!0),i}async function XM(t,e){const n=BI(t);await jI(n,e,!0,!1)}async function jI(t,e,n,r){const i=await yM(t.localStore,kr(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await YM(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&PI(t.remoteStore,i),a}async function YM(t,e,n,r,i){t.Ba=(f,p,S)=>async function(C,k,I,E){let _=k.view.da(I);_.Xi&&(_=await v1(C.localStore,k.query,!1).then(({documents:v})=>k.view.da(v,_)));const x=E&&E.targetChanges.get(k.targetId),V=E&&E.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(_,C.isPrimaryClient,x,V);return I1(C,k.targetId,q.fa),q.snapshot}(t,f,p,S);const o=await v1(t.localStore,e,!0),s=new qM(e,o.hs),a=s.da(o.documents),u=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);I1(t,n,c.fa);const d=new WM(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function JM(t,e,n){const r=Ae(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!mh(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iv(r.remoteStore,i.targetId),mm(r,i.targetId)}).catch(wu)):(mm(r,i.targetId),await fm(r.localStore,i.targetId,!0))}async function ZM(t,e){const n=Ae(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iv(n.remoteStore,r.targetId))}async function eL(t,e,n){const r=aL(t);try{const i=await function(s,a){const u=Ae(s),c=Mt.now(),d=a.reduce((S,R)=>S.add(R.key),Me());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=li(),C=Me();return u.os.getEntries(S,d).next(k=>{R=k,R.forEach((I,E)=>{E.isValidDocument()||(C=C.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,R)).next(k=>{f=k;const I=[];for(const E of a){const _=SD(E,f.get(E.key).overlayedDocument);_!=null&&I.push(new co(E.key,_,qS(_.value.mapValue),Or.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,I,a)}).next(k=>{p=k;const I=k.applyToLocalDocumentSet(f,C);return u.documentOverlayCache.saveOverlays(S,k.batchId,I)})}).then(()=>({batchId:p.batchId,changes:tI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.xa[s.currentUser.toKey()];c||(c=new ht(ze)),c=c.insert(a,u),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Pu(r,i.changes),await Th(r.remoteStore)}catch(i){const o=uv(i,"Failed to persist write");n.reject(o)}}async function VI(t,e){const n=Ae(t);try{const r=await mM(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Ye(s.wa):i.removedDocuments.size>0&&(Ye(s.wa),s.wa=!1))}),await Pu(n,r,e)}catch(r){await wu(r)}}function S1(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=Ae(s);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.U_)p.j_(a)&&(c=!0)}),c&&cv(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tL(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new ht(fe.comparator);s=s.insert(o,ln.newNoDocument(o,Pe.min()));const a=Me().add(o),u=new _h(Pe.min(),new Map,new ht(ze),s,a);await VI(r,u),r.va=r.va.remove(o),r.Fa.delete(e),dv(r)}else await fm(r.localStore,e,!1).then(()=>mm(r,e,n)).catch(wu)}async function nL(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await pM(n.localStore,e);UI(n,r,null),FI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,i)}catch(i){await wu(i)}}async function rL(t,e,n){const r=Ae(t);try{const i=await function(s,a){const u=Ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ye(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);UI(r,e,n),FI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,i)}catch(i){await wu(i)}}function FI(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function UI(t,e,n){const r=Ae(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function mm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||$I(t,r)})}function $I(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(iv(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),dv(t))}function I1(t,e,n){for(const r of n)r instanceof MI?(t.Ma.addReference(r.key,e),iL(t,r)):r instanceof LI?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||$I(t,r.key)):Te()}function iL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.Ca.add(r),dv(t))}function dv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new fe(Qe.fromString(e)),r=t.Na.next();t.Fa.set(r,new GM(n)),t.va=t.va.insert(n,r),PI(t.remoteStore,new Li(kr(Xg(n.path)),r,"TargetPurposeLimboResolution",qg.oe))}}async function Pu(t,e,n){const r=Ae(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c&&!c.fromCache;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=rv.Ki(u.targetId,c);o.push(d)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,c){const d=Ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(c,p=>Q.forEach(p.qi,S=>d.persistence.referenceDelegate.addReference(f,p.targetId,S)).next(()=>Q.forEach(p.Qi,S=>d.persistence.referenceDelegate.removeReference(f,p.targetId,S)))))}catch(f){if(!Tu(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const S=d.ns.get(p),R=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(R);d.ns=d.ns.insert(p,C)}}}(r.localStore,o))}async function oL(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await TI(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(u=>{u.reject(new ie(G.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.us)}}function sL(t,e){const n=Ae(t),r=n.Fa.get(e);if(r&&r.wa)return Me().add(r.key);{let i=Me();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function BI(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tL.bind(null,e),e.Sa.h_=zM.bind(null,e.eventManager),e.Sa.ka=HM.bind(null,e.eventManager),e}function aL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rL.bind(null,e),e}class R1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fM(this.persistence,new dM,e.initialUser,this.serializer)}createPersistence(e){return new lM(nv.Hr,this.serializer)}createSharedClientState(e){return new EM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oL.bind(null,this.syncEngine),await UM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BM}()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),r=function(o){return new IM(o)}(e.databaseInfo);return function(o,s,a,u){return new AM(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new bM(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>S1(this.syncEngine,n,0),function(){return _1.D()?new _1:new wM}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,d){const f=new KM(i,o,s,a,u,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ae(r);ue("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ru(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=BS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $f(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dL(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>E1(e.remoteStore,i)),t._onlineComponents=e}function cL(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await $f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!cL(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await $f(t,new R1)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await $f(t,new R1);return t._offlineComponents}async function HI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await P1(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await P1(t,new lL))),t._onlineComponents}function hL(t){return HI(t).then(e=>e.syncEngine)}async function qI(t){const e=await HI(t),n=e.eventManager;return n.onListen=QM.bind(null,e.syncEngine),n.onUnlisten=JM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZM.bind(null,e.syncEngine),n}function fL(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const d=new zI({next:p=>{s.enqueueAndForget(()=>NI(o,f));const S=p.docs.has(a);!S&&p.fromCache?c.reject(new ie(G.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&p.fromCache&&u&&u.source==="server"?c.reject(new ie(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new DI(Xg(a.path),d,{includeMetadataChanges:!0,ra:!0});return OI(o,f)}(await qI(t),t.asyncQueue,e,n,r)),r.promise}function pL(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const d=new zI({next:p=>{s.enqueueAndForget(()=>NI(o,f)),p.fromCache&&u.source==="server"?c.reject(new ie(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new DI(a,d,{includeMetadataChanges:!0,ra:!0});return OI(o,f)}(await qI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e,n){if(!n)throw new ie(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mL(t,e,n,r){if(e===!0&&r===!0)throw new ie(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!fe.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b1(t){if(fe.isDocumentKey(t))throw new ie(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(t);throw new ie(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ON;switch(r.type){case"firstParty":return new LN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A1.get(n);r&&(ue("ComponentProvider","Removing Datastore"),A1.delete(n),r.terminate())}(this),Promise.resolve()}}function gL(t,e,n,r={}){var i;const o=(t=ui(t,Ih))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=sn.MOCK_USER;else{a=XT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new sn(c)}t._authCredentials=new NN(new $S(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Xi extends ho{constructor(e,n,r){super(e,n,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new fe(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function Rh(t,e,...n){if(t=yt(t),GI("collection","path",e),t instanceof Ih){const r=Qe.fromString(e,...n);return b1(r),new Xi(t,null,r)}{if(!(t instanceof vn||t instanceof Xi))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return b1(r),new Xi(t.firestore,null,r)}}function ei(t,e,...n){if(t=yt(t),arguments.length===1&&(e=BS.newId()),GI("doc","path",e),t instanceof Ih){const r=Qe.fromString(e,...n);return C1(r),new vn(t,null,new fe(r))}{if(!(t instanceof vn||t instanceof Xi))throw new ie(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return C1(r),new vn(t.firestore,t instanceof Xi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new II(this,"async_queue_retry"),this.hu=()=>{const n=Uf();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Uf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Zr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Tu(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=lv.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Te()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Au extends Ih{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||KI(this),this._firestoreClient.terminate()}}function yL(t,e){const n=typeof t=="object"?t:Dg(),r=typeof t=="string"?t:"(default)",i=ah(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=GT("firestore");o&&gL(i,...o)}return i}function hv(t){return t._firestoreClient||KI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KI(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,d){return new QN(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,WI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(cn.fromBase64String(e))}catch(n){throw new ie(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=/^__.*__$/;class EL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class QI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Ch{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ch(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Nd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(XI(this.fu)&&_L.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class wL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Eh(e)}Fu(e,n,r,i=!1){return new Ch({fu:e,methodName:n,vu:r,path:Gt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bh(t){const e=t._freezeSettings(),n=Eh(t._databaseId);return new wL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TL(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);mv("Data must be an object, but it was:",s,r);const a=JI(r,s);let u,c;if(o.merge)u=new Mn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const p=gm(e,f,n);if(!s.contains(p))throw new ie(G.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);eR(d,p)||d.push(p)}u=new Mn(d),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new EL(new Sn(a),u,c)}class xh extends Ah{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}function SL(t,e,n){return new Ch({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pv extends Ah{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=SL(this,e,!0),r=this.Mu.map(o=>Ea(o,n)),i=new na(r);return new _D(e.path,i)}isEqual(e){return e instanceof pv&&Kl(this.Mu,e.Mu)}}function IL(t,e,n,r){const i=t.Fu(1,e,n);mv("Data must be an object, but it was:",i,r);const o=[],s=Sn.empty();Jo(r,(u,c)=>{const d=gv(e,u,n);c=yt(c);const f=i.Su(d);if(c instanceof xh)o.push(d);else{const p=Ea(c,f);p!=null&&(o.push(d),s.set(d,p))}});const a=new Mn(o);return new QI(s,a,i.fieldTransforms)}function RL(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[gm(e,r,n)],u=[i];if(o.length%2!=0)throw new ie(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(gm(e,o[p])),u.push(o[p+1]);const c=[],d=Sn.empty();for(let p=a.length-1;p>=0;--p)if(!eR(c,a[p])){const S=a[p];let R=u[p];R=yt(R);const C=s.Su(S);if(R instanceof xh)c.push(S);else{const k=Ea(R,C);k!=null&&(c.push(S),d.set(S,k))}}const f=new Mn(c);return new QI(d,f,s.fieldTransforms)}function YI(t,e,n,r=!1){return Ea(n,t.Fu(r?4:3,e))}function Ea(t,e){if(ZI(t=yt(t)))return mv("Unsupported field value:",e,t),JI(t,e);if(t instanceof Ah)return function(r,i){if(!XI(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Ea(a,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Mt.fromDate(r);return{timestampValue:kd(i.serializer,o)}}if(r instanceof Mt){const o=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(i.serializer,o)}}if(r instanceof fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:mI(i.serializer,r._byteString)};if(r instanceof vn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ev(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Sh(r)}`)}(t,e)}function JI(t,e){const n={};return zS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(t,(r,i)=>{const o=Ea(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof fv||t instanceof oa||t instanceof vn||t instanceof Ah)}function mv(t,e,n){if(!ZI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sh(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function gm(t,e,n){if((e=yt(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return gv(t,e);throw Nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const PL=new RegExp("[~\\*/\\[\\]]");function gv(t,e,n){if(e.search(PL)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ph(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ie(G.INVALID_ARGUMENT,a+t+u)}function eR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AL extends vv{data(){return super.data()}}function yv(t,e){return typeof e=="string"?gv(t,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class Ev extends _v{}function hc(t,e,...n){let r=[];e instanceof _v&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof wv).length,a=o.filter(u=>u instanceof kh).length;if(s>1||s>0&&a>0)throw new ie(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kh extends Ev{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kh(e,n,r)}_apply(e){const n=this._parse(e);return tR(e._query,n),new ho(e.firestore,e.converter,lm(e._query,n))}_parse(e){const n=bh(e.firestore);return function(o,s,a,u,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ie(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){N1(f,d);const S=[];for(const R of f)S.push(O1(u,o,R));p={arrayValue:{values:S}}}else p=O1(u,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||N1(f,d),p=YI(a,s,f,d==="in"||d==="not-in");return xt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function k1(t,e,n){const r=e,i=yv("where",t);return kh._create(i,r,n)}class wv extends _v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)tR(s,u),s=lm(s,u)}(e._query,n),new ho(e.firestore,e.converter,lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tv extends Ev{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tv(e,n,r)}_apply(e){return new ho(e.firestore,e.converter,Cd(e._query,this._limit,this._limitType))}}function fc(t){return Tv._create("limit",t,"F")}class Oh extends Ev{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Oh(e,n,r)}_apply(e){const n=kL(e,this.type,this._docOrFields,this._inclusive);return new ho(e.firestore,e.converter,function(i,o){return new va(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function bL(...t){return Oh._create("startAt",t,!0)}function xL(...t){return Oh._create("startAfter",t,!1)}function kL(t,e,n,r){if(n[0]=yt(n[0]),n[0]instanceof vv)return function(o,s,a,u,c){if(!u)throw new ie(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of Us(o))if(f.field.isKeyField())d.push(Pd(s,u.key));else{const p=u.data.field(f.field);if(ph(p))throw new ie(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const S=f.field.canonicalString();throw new ie(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}d.push(p)}return new ta(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=bh(t.firestore);return function(s,a,u,c,d,f){const p=s.explicitOrderBy;if(d.length>p.length)throw new ie(G.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let R=0;R<d.length;R++){const C=d[R];if(p[R].field.isKeyField()){if(typeof C!="string")throw new ie(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof C}`);if(!Yg(s)&&C.indexOf("/")!==-1)throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${C}' contains a slash.`);const k=s.path.child(Qe.fromString(C));if(!fe.isDocumentKey(k))throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const I=new fe(k);S.push(Pd(a,I))}else{const k=YI(u,c,C);S.push(k)}}return new ta(S,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function O1(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new ie(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yg(e)&&n.indexOf("/")!==-1)throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!fe.isDocumentKey(r))throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pd(t,new fe(r))}if(n instanceof vn)return Pd(t,n._key);throw new ie(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function N1(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tR(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OL{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new fv(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=no(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Ye(wI(r));const i=new eu(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||ai(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nR extends vv{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zc extends nR{data(e={}){return super.data(e)}}class DL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zc(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:ML(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ML(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){t=ui(t,vn);const e=ui(t.firestore,Au);return fL(hv(e),t._key).then(n=>LL(e,t,n))}class rR extends OL{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Nh(t){t=ui(t,ho);const e=ui(t.firestore,Au),n=hv(e),r=new rR(e);return CL(t._query),pL(n,t._query).then(i=>new DL(e,r,t,i))}function iR(t,e,n){t=ui(t,vn);const r=ui(t.firestore,Au),i=NL(t.converter,e,n);return oR(r,[TL(bh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function vm(t,e,n,...r){t=ui(t,vn);const i=ui(t.firestore,Au),o=bh(i);let s;return s=typeof(e=yt(e))=="string"||e instanceof Ph?RL(o,"updateDoc",t._key,e,n,r):IL(o,"updateDoc",t._key,e),oR(i,[s.toMutation(t._key,Or.exists(!0))])}function oR(t,e){return function(r,i){const o=new Zr;return r.asyncQueue.enqueueAndForget(async()=>eL(await hL(r),i,o)),o.promise}(hv(t),e)}function LL(t,e,n){const r=n.docs.get(e._key),i=new rR(t);return new nR(t,i,e._key,r,new ll(n.hasPendingWrites,n.fromCache),e.converter)}function D1(...t){return new pv("arrayUnion",t)}(function(e,n=!0){(function(i){ga=i})(Xo),$o(new eo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Au(new DN(r.getProvider("auth-internal")),new VN(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Cr(Y0,"4.6.3",e),Cr(Y0,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebasestorage.googleapis.com",aR="storageBucket",jL=2*60*1e3,VL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends Mr{constructor(e,n,r=0){super(Bf(e),`Firebase Storage: ${n} (${Bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Bf(t){return"storage/"+t}function Sv(){const t="An unknown error occurred, please check the error payload for server response.";return new Et(_t.UNKNOWN,t)}function FL(t){return new Et(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function UL(t){return new Et(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $L(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(_t.UNAUTHENTICATED,t)}function BL(){return new Et(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zL(t){return new Et(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function HL(){return new Et(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qL(){return new Et(_t.CANCELED,"User canceled the upload/download.")}function WL(t){return new Et(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function GL(t){return new Et(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KL(){return new Et(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aR+"' property when initializing the app?")}function QL(){return new Et(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XL(){return new Et(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YL(t){return new Et(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ym(t){return new Et(_t.INVALID_ARGUMENT,t)}function lR(){return new Et(_t.APP_DELETED,"The Firebase app was deleted.")}function JL(t){return new Et(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new Et(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qa(t){throw new Et(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw GL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",S=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),R={bucket:1,path:3},C=n===sR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",I=new RegExp(`^https?://${C}/${i}/${k}`,"i"),_=[{regex:a,indices:u,postModify:o},{regex:S,indices:R,postModify:c},{regex:I,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<_.length;x++){const V=_[x],q=V.regex.exec(e);if(q){const v=q[V.indices.bucket];let y=q[V.indices.path];y||(y=""),r=new Ln(v,y),V.postModify(r);break}}if(r==null)throw WL(e);return r}}class ZL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let c=!1;function d(...k){c||(c=!0,e.apply(null,k))}function f(k){i=setTimeout(()=>{i=null,t(S,u())},k)}function p(){o&&clearTimeout(o)}function S(k,...I){if(c){p();return}if(k){p(),d.call(null,k,...I);return}if(u()||s){p(),d.call(null,k,...I);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,f(_)}let R=!1;function C(k){R||(R=!0,p(),!c&&(i!==null?(k||(a=2),clearTimeout(i),f(0)):k||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,C(!0)},n),C}function t4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return t!==void 0}function r4(t){return typeof t=="object"&&!Array.isArray(t)}function Iv(t){return typeof t=="string"||t instanceof String}function M1(t){return Rv()&&t instanceof Blob}function Rv(){return typeof Blob<"u"}function L1(t,e,n,r){if(r<e)throw ym(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ym(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xo||(xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,i,o,s,a,u,c,d,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,R)=>{this.resolve_=S,this.reject_=R,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new pc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===xo.NO_ERROR,u=o.getStatus();if(!a||i4(u,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===xo.ABORT;r(!1,new pc(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new pc(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());n4(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=Sv();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?lR():qL();s(u)}else{const u=HL();s(u)}};this.canceled_?n(!1,new pc(!1,null,!0)):this.backoffId_=e4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function s4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function a4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function c4(t,e,n,r,i,o,s=!0){const a=uR(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return l4(c,e),s4(c,n),a4(c,o),u4(c,r),new o4(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function h4(...t){const e=d4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Rv())return new Blob(t);throw new Et(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function f4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){if(typeof atob>"u")throw YL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zf{constructor(e,n){this.data=e,this.contentType=n||null}}function m4(t,e){switch(t){case Ir.RAW:return new zf(cR(e));case Ir.BASE64:case Ir.BASE64URL:return new zf(dR(t,e));case Ir.DATA_URL:return new zf(v4(e),y4(e))}throw Sv()}function cR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function g4(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(Ir.DATA_URL,"Malformed data URL.")}return cR(e)}function dR(t,e){switch(t){case Ir.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Rl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Rl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=p4(e)}catch(i){throw i.message.includes("polyfill")?i:Rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function v4(t){const e=new hR(t);return e.base64?dR(Ir.BASE64,e.rest):g4(e.rest)}function y4(t){return new hR(t).contentType}function _4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){let r=0,i="";M1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(M1(this.data_)){const r=this.data_,i=f4(r,e,n);return i===null?null:new Ni(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ni(r,!0)}}static getBlob(...e){if(Rv()){const n=e.map(r=>r instanceof Ni?r.data_:r);return new Ni(h4.apply(null,n))}else{const n=e.map(s=>Iv(s)?m4(Ir.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ni(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){let e;try{e=JSON.parse(t)}catch{return null}return r4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function w4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t,e){return e}class fn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||T4}}let mc=null;function S4(t){return!Iv(t)||t.length<2?t:pR(t)}function mR(){if(mc)return mc;const t=[];t.push(new fn("bucket")),t.push(new fn("generation")),t.push(new fn("metageneration")),t.push(new fn("name","fullPath",!0));function e(o,s){return S4(s)}const n=new fn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new fn("size");return i.xform=r,t.push(i),t.push(new fn("timeCreated")),t.push(new fn("updated")),t.push(new fn("md5Hash",null,!0)),t.push(new fn("cacheControl",null,!0)),t.push(new fn("contentDisposition",null,!0)),t.push(new fn("contentEncoding",null,!0)),t.push(new fn("contentLanguage",null,!0)),t.push(new fn("contentType",null,!0)),t.push(new fn("metadata","customMetadata",!0)),mc=t,mc}function I4(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Ln(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function R4(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return I4(r,t),r}function gR(t,e,n){const r=fR(e);return r===null?null:R4(t,r,n)}function P4(t,e,n,r){const i=fR(e);if(i===null||!Iv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=t.bucket,f=t.fullPath,p="/b/"+s(d)+"/o/"+s(f),S=Pv(p,n,r),R=uR({alt:"media",token:c});return S+R})[0]}function A4(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class vR{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){if(!t)throw Sv()}function C4(t,e){function n(r,i){const o=gR(t,i,e);return yR(o!==null),o}return n}function b4(t,e){function n(r,i){const o=gR(t,i,e);return yR(o!==null),P4(o,i,t.host,t._protocol)}return n}function _R(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=BL():i=$L():n.getStatus()===402?i=UL(t.bucket):n.getStatus()===403?i=zL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function x4(t){const e=_R(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=FL(t.path)),o.serverResponse=i.serverResponse,o}return n}function k4(t,e,n){const r=e.fullServerUrl(),i=Pv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new vR(i,o,b4(t,n),s);return a.errorHandler=x4(e),a}function O4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function N4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=O4(null,e)),r}function D4(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let x=0;x<2;x++)_=_+Math.random().toString().slice(2);return _}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const c=N4(e,r,i),d=A4(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+u+"--",S=Ni.getBlob(f,r,p);if(S===null)throw QL();const R={name:c.fullPath},C=Pv(o,t.host,t._protocol),k="POST",I=t.maxUploadRetryTime,E=new vR(C,k,C4(t,n),I);return E.urlParams=R,E.headers=s,E.body=S.uploadData(),E.errorHandler=_R(e),E}class M4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Qa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L4 extends M4{initXhr(){this.xhr_.responseType="text"}}function ER(){return new L4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wo(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pR(this._location.path)}get storage(){return this._service}get parent(){const e=E4(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new Wo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JL(e)}}function j4(t,e,n){t._throwIfRoot("uploadBytes");const r=D4(t.storage,t._location,mR(),new Ni(e,!0),n);return t.storage.makeRequestWithTokens(r,ER).then(i=>({metadata:i,ref:t}))}function V4(t){t._throwIfRoot("getDownloadURL");const e=k4(t.storage,t._location,mR());return t.storage.makeRequestWithTokens(e,ER).then(n=>{if(n===null)throw XL();return n})}function F4(t,e){const n=w4(t._location.path,e),r=new Ln(t._location.bucket,n);return new Wo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){return/^[A-Za-z]+:\/\//.test(t)}function $4(t,e){return new Wo(t,e)}function wR(t,e){if(t instanceof Av){const n=t;if(n._bucket==null)throw KL();const r=new Wo(n,n._bucket);return e!=null?wR(r,e):r}else return e!==void 0?F4(t,e):t}function B4(t,e){if(e&&U4(e)){if(t instanceof Av)return $4(t,e);throw ym("To use ref(service, url), the first argument must be a Storage instance.")}else return wR(t,e)}function j1(t,e){const n=e==null?void 0:e[aR];return n==null?null:Ln.makeFromBucketSpec(n,t)}function z4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:XT(i,t.app.options.projectId))}class Av{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=sR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jL,this._maxUploadRetryTime=VL,this._requests=new Set,i!=null?this._bucket=Ln.makeFromBucketSpec(i,this._host):this._bucket=j1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=j1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new ZL(lR());{const s=c4(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const V1="@firebase/storage",F1="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="storage";function H4(t,e,n){return t=yt(t),j4(t,e,n)}function q4(t){return t=yt(t),V4(t)}function W4(t,e){return t=yt(t),B4(t,e)}function G4(t=Dg(),e){t=yt(t);const r=ah(t,TR).getImmediate({identifier:e}),i=GT("storage");return i&&K4(r,...i),r}function K4(t,e,n,r={}){z4(t,e,n,r)}function Q4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Av(n,r,i,e,Xo)}function X4(){$o(new eo(TR,Q4,"PUBLIC").setMultipleInstances(!0)),Cr(V1,F1,""),Cr(V1,F1,"esm2017")}X4();const Y4={apiKey:"AIzaSyDMSsQycvMh3hf53mbfnMR6wHKwN3vQ4QQ",authDomain:"senbet-7f594.firebaseapp.com",projectId:"senbet-7f594",storageBucket:"senbet-7f594.appspot.com",messagingSenderId:"105789742828",appId:"1:105789742828:web:0a095a832caf59e9fe4fc9",measurementId:"G-JMWFXYHZEY"},Cv=ZT(Y4),J4=G4(Cv),SR=xN(Cv),Fn=yL(Cv);var IR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U1=De.createContext&&De.createContext(IR),Z4=["attr","size","title"];function ej(t,e){if(t==null)return{};var n=tj(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){nj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nj(t,e,n){return e=rj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rj(t){var e=ij(t,"string");return typeof e=="symbol"?e:e+""}function ij(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RR(t){return t&&t.map((e,n)=>De.createElement(e.tag,Md({key:n},e.attr),RR(e.child)))}function er(t){return e=>De.createElement(oj,Dd({attr:Md({},t.attr)},e),RR(t.child))}function oj(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=ej(t,Z4),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),De.createElement("svg",Dd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:Md(Md({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&De.createElement("title",null,o),t.children)};return U1!==void 0?De.createElement(U1.Consumer,null,n=>e(n)):e(IR)}function B1(t){return er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5a2 2 0 0 1-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"},child:[]}]})(t)}function sj(t){return er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m12 5.69 5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3 2 12h3v8h6v-6h2v6h6v-8h3L12 3z"},child:[]}]})(t)}function aj(t){return er({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(t)}function lj(t){return er({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 14c1.381 0 2.631-.56 3.536-1.465.904-.904 1.464-2.154 1.464-3.535s-.56-2.631-1.464-3.535c-.905-.905-2.155-1.465-3.536-1.465s-2.631.56-3.536 1.465c-.904.904-1.464 2.154-1.464 3.535s.56 2.631 1.464 3.535c.905.905 2.155 1.465 3.536 1.465zM20 15c.69 0 1.315-.279 1.768-.731.453-.452.732-1.077.732-1.769 0-.69-.279-1.315-.732-1.768-.453-.453-1.078-.732-1.768-.732-.691 0-1.316.279-1.769.732-.452.453-.731 1.078-.731 1.768 0 .691.279 1.316.731 1.769s1.078.731 1.769.731zM20 15.59c-1.331 0-2.332.406-2.917.968-1.115-.917-2.878-1.558-5.083-1.558-2.266 0-3.995.648-5.092 1.564-.596-.565-1.608-.974-2.908-.974-2.188 0-3.5 1.09-3.5 2.182 0 .545 1.312 1.092 3.5 1.092.604 0 1.146-.051 1.623-.133l-.04.27c0 1 2.406 2 6.417 2 3.762 0 6.417-1 6.417-2l-.02-.255c.463.073.995.118 1.603.118 2.051 0 3.5-.547 3.5-1.092 0-1.092-1.373-2.182-3.5-2.182zM4 15c.69 0 1.315-.279 1.768-.732.453-.453.732-1.078.732-1.768 0-.689-.279-1.314-.732-1.768-.453-.452-1.078-.732-1.768-.732-.691 0-1.316.28-1.769.732-.452.454-.731 1.079-.731 1.768 0 .69.279 1.315.731 1.768.453.453 1.078.732 1.769.732z"},child:[]}]})(t)}function uj(t){return er({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z"},child:[]},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},child:[]}]})(t)}function cj(t){return er({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function dj(t){return er({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function hj(t){return er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(t)}function z1(t){return er({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"},child:[]}]})(t)}function fj(t){return er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"},child:[]}]})(t)}const pj=[{id:1,title:"አባል ጨምር",icon:g.jsx(sj,{}),link:"register"},{id:2,title:"አባላት",icon:g.jsx(aj,{}),link:"members"},{id:3,title:"መታወቂያ",icon:g.jsx(lj,{}),link:"idcard"},{id:4,title:"አቴንዳንስ",icon:g.jsx(uj,{}),link:"attendance"}],sa="/assets/logo-Nos47_v4.jpg",wa=()=>g.jsxs("div",{className:"sidebar",children:[g.jsxs("div",{className:"logoo",children:[g.jsx("img",{src:sa}),g.jsx("h3",{children:"ውሉደ ብርሃን ሰንበት ት/ቤት"})]}),pj.map(t=>g.jsx("ul",{className:"lists",children:g.jsx("li",{children:g.jsxs(El,{to:`/${t.link}`,className:"row",id:window.location.pathname===`/${t.link}`?"active":"",children:[g.jsx("div",{id:"icon",children:t.icon}),g.jsx("div",{id:"tit",children:t.title})]})})},t.id))]});var H1={exports:{}},Go={},PR={exports:{}},mj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gj=mj,vj=gj;function AR(){}function CR(){}CR.resetWarningCache=AR;var yj=function(){function t(r,i,o,s,a,u){if(u!==vj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CR,resetWarningCache:AR};return n.PropTypes=n,n};PR.exports=yj();var bv=PR.exports,_m={exports:{}},vr={},Em={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function o(f,p){return p.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function s(f){var p=f.offsetWidth<=0&&f.offsetHeight<=0;if(p&&!f.innerHTML)return!0;try{var S=window.getComputedStyle(f),R=S.getPropertyValue("display");return p?R!==r&&o(f,S):R===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var p=f,S=f.getRootNode&&f.getRootNode();p&&p!==document.body;){if(S&&p===S&&(p=S.host.parentNode),s(p))return!1;p=p.parentNode}return!0}function u(f,p){var S=f.nodeName.toLowerCase(),R=i.test(S)&&!f.disabled||S==="a"&&f.href||p;return R&&a(f)}function c(f){var p=f.getAttribute("tabindex");p===null&&(p=void 0);var S=isNaN(p);return(S||p>=0)&&u(f,!S)}function d(f){var p=[].slice.call(f.querySelectorAll("*"),0).reduce(function(S,R){return S.concat(R.shadowRoot?d(R.shadowRoot):[R])},[]);return p.filter(c)}t.exports=e.default})(Em,Em.exports);var bR=Em.exports;Object.defineProperty(vr,"__esModule",{value:!0});vr.resetState=Tj;vr.log=Sj;vr.handleBlur=iu;vr.handleFocus=ou;vr.markForFocusLater=Ij;vr.returnFocus=Rj;vr.popWithoutFocus=Pj;vr.setupScopedFocus=Aj;vr.teardownScopedFocus=Cj;var _j=bR,Ej=wj(_j);function wj(t){return t&&t.__esModule?t:{default:t}}var aa=[],xs=null,wm=!1;function Tj(){aa=[]}function Sj(){}function iu(){wm=!0}function ou(){if(wm){if(wm=!1,!xs)return;setTimeout(function(){if(!xs.contains(document.activeElement)){var t=(0,Ej.default)(xs)[0]||xs;t.focus()}},0)}}function Ij(){aa.push(document.activeElement)}function Rj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{aa.length!==0&&(e=aa.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function Pj(){aa.length>0&&aa.pop()}function Aj(t){xs=t,window.addEventListener?(window.addEventListener("blur",iu,!1),document.addEventListener("focus",ou,!0)):(window.attachEvent("onBlur",iu),document.attachEvent("onFocus",ou))}function Cj(){xs=null,window.addEventListener?(window.removeEventListener("blur",iu),document.removeEventListener("focus",ou)):(window.detachEvent("onBlur",iu),document.detachEvent("onFocus",ou))}var Tm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=bR,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,u){var c=(0,r.default)(a);if(!c.length){u.preventDefault();return}var d=void 0,f=u.shiftKey,p=c[0],S=c[c.length-1],R=o();if(a===R){if(!f)return;d=S}if(S===R&&!f&&(d=p),p===R&&f&&(d=S),d){u.preventDefault(),d.focus();return}var C=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),k=C!=null&&C[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(k){var I=c.indexOf(R);if(I>-1&&(I+=f?-1:1),d=c[I],typeof d>"u"){u.preventDefault(),d=f?S:p,d.focus();return}u.preventDefault(),d.focus()}}t.exports=e.default})(Tm,Tm.exports);var bj=Tm.exports,yr={},xj=function(){},kj=xj,fr={},xR={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(xR);var Oj=xR.exports;Object.defineProperty(fr,"__esModule",{value:!0});fr.canUseDOM=fr.SafeNodeList=fr.SafeHTMLCollection=void 0;var Nj=Oj,Dj=Mj(Nj);function Mj(t){return t&&t.__esModule?t:{default:t}}var Dh=Dj.default,Lj=Dh.canUseDOM?window.HTMLElement:{};fr.SafeHTMLCollection=Dh.canUseDOM?window.HTMLCollection:{};fr.SafeNodeList=Dh.canUseDOM?window.NodeList:{};fr.canUseDOM=Dh.canUseDOM;fr.default=Lj;Object.defineProperty(yr,"__esModule",{value:!0});yr.resetState=$j;yr.log=Bj;yr.assertNodeList=kR;yr.setElement=zj;yr.validateElement=xv;yr.hide=Hj;yr.show=qj;yr.documentNotReadyOrSSRTesting=Wj;var jj=kj,Vj=Uj(jj),Fj=fr;function Uj(t){return t&&t.__esModule?t:{default:t}}var qn=null;function $j(){qn&&(qn.removeAttribute?qn.removeAttribute("aria-hidden"):qn.length!=null?qn.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(qn).forEach(function(t){return t.removeAttribute("aria-hidden")})),qn=null}function Bj(){}function kR(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function zj(t){var e=t;if(typeof e=="string"&&Fj.canUseDOM){var n=document.querySelectorAll(e);kR(n,e),e=n}return qn=e||qn,qn}function xv(t){var e=t||qn;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Vj.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Hj(t){var e=!0,n=!1,r=void 0;try{for(var i=xv(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function qj(t){var e=!0,n=!1,r=void 0;try{for(var i=xv(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function Wj(){qn=null}var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.resetState=Gj;Ta.log=Kj;var Pl={},Al={};function q1(t,e){t.classList.remove(e)}function Gj(){var t=document.getElementsByTagName("html")[0];for(var e in Pl)q1(t,Pl[e]);var n=document.body;for(var r in Al)q1(n,Al[r]);Pl={},Al={}}function Kj(){}var Qj=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Xj=function(e,n){return e[n]&&(e[n]-=1),n},Yj=function(e,n,r){r.forEach(function(i){Qj(n,i),e.add(i)})},Jj=function(e,n,r){r.forEach(function(i){Xj(n,i),n[i]===0&&e.remove(i)})};Ta.add=function(e,n){return Yj(e.classList,e.nodeName.toLowerCase()=="html"?Pl:Al,n.split(" "))};Ta.remove=function(e,n){return Jj(e.classList,e.nodeName.toLowerCase()=="html"?Pl:Al,n.split(" "))};var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.log=eV;Sa.resetState=tV;function Zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var OR=function t(){var e=this;Zj(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Ld=new OR;function eV(){console.log("portalOpenInstances ----------"),console.log(Ld.openInstances.length),Ld.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function tV(){Ld=new OR}Sa.default=Ld;var kv={};Object.defineProperty(kv,"__esModule",{value:!0});kv.resetState=oV;kv.log=sV;var nV=Sa,rV=iV(nV);function iV(t){return t&&t.__esModule?t:{default:t}}var on=void 0,ar=void 0,ko=[];function oV(){for(var t=[on,ar],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}on=ar=null,ko=[]}function sV(){console.log("bodyTrap ----------"),console.log(ko.length);for(var t=[on,ar],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function W1(){ko.length!==0&&ko[ko.length-1].focusContent()}function aV(t,e){!on&&!ar&&(on=document.createElement("div"),on.setAttribute("data-react-modal-body-trap",""),on.style.position="absolute",on.style.opacity="0",on.setAttribute("tabindex","0"),on.addEventListener("focus",W1),ar=on.cloneNode(),ar.addEventListener("focus",W1)),ko=e,ko.length>0?(document.body.firstChild!==on&&document.body.insertBefore(on,document.body.firstChild),document.body.lastChild!==ar&&document.body.appendChild(ar)):(on.parentElement&&on.parentElement.removeChild(on),ar.parentElement&&ar.parentElement.removeChild(ar))}rV.default.subscribe(aV);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(J){for(var te=1;te<arguments.length;te++){var Se=arguments[te];for(var F in Se)Object.prototype.hasOwnProperty.call(Se,F)&&(J[F]=Se[F])}return J},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},i=function(){function J(te,Se){for(var F=0;F<Se.length;F++){var L=Se[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(te,L.key,L)}}return function(te,Se,F){return Se&&J(te.prototype,Se),F&&J(te,F),te}}(),o=M,s=bv,a=V(s),u=vr,c=x(u),d=bj,f=V(d),p=yr,S=x(p),R=Ta,C=x(R),k=fr,I=V(k),E=Sa,_=V(E);function x(J){if(J&&J.__esModule)return J;var te={};if(J!=null)for(var Se in J)Object.prototype.hasOwnProperty.call(J,Se)&&(te[Se]=J[Se]);return te.default=J,te}function V(J){return J&&J.__esModule?J:{default:J}}function q(J,te){if(!(J instanceof te))throw new TypeError("Cannot call a class as a function")}function v(J,te){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:J}function y(J,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);J.prototype=Object.create(te&&te.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(J,te):J.__proto__=te)}var w={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},P=function(te){return te.code==="Tab"||te.keyCode===9},b=function(te){return te.code==="Escape"||te.keyCode===27},O=0,A=function(J){y(te,J);function te(Se){q(this,te);var F=v(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,Se));return F.setOverlayRef=function(L){F.overlay=L,F.props.overlayRef&&F.props.overlayRef(L)},F.setContentRef=function(L){F.content=L,F.props.contentRef&&F.props.contentRef(L)},F.afterClose=function(){var L=F.props,Z=L.appElement,re=L.ariaHideApp,ne=L.htmlOpenClassName,ae=L.bodyOpenClassName,ce=L.parentSelector,Ce=ce&&ce().ownerDocument||document;ae&&C.remove(Ce.body,ae),ne&&C.remove(Ce.getElementsByTagName("html")[0],ne),re&&O>0&&(O-=1,O===0&&S.show(Z)),F.props.shouldFocusAfterRender&&(F.props.shouldReturnFocusAfterClose?(c.returnFocus(F.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),F.props.onAfterClose&&F.props.onAfterClose(),_.default.deregister(F)},F.open=function(){F.beforeOpen(),F.state.afterOpen&&F.state.beforeClose?(clearTimeout(F.closeTimer),F.setState({beforeClose:!1})):(F.props.shouldFocusAfterRender&&(c.setupScopedFocus(F.node),c.markForFocusLater()),F.setState({isOpen:!0},function(){F.openAnimationFrame=requestAnimationFrame(function(){F.setState({afterOpen:!0}),F.props.isOpen&&F.props.onAfterOpen&&F.props.onAfterOpen({overlayEl:F.overlay,contentEl:F.content})})}))},F.close=function(){F.props.closeTimeoutMS>0?F.closeWithTimeout():F.closeWithoutTimeout()},F.focusContent=function(){return F.content&&!F.contentHasFocus()&&F.content.focus({preventScroll:!0})},F.closeWithTimeout=function(){var L=Date.now()+F.props.closeTimeoutMS;F.setState({beforeClose:!0,closesAt:L},function(){F.closeTimer=setTimeout(F.closeWithoutTimeout,F.state.closesAt-Date.now())})},F.closeWithoutTimeout=function(){F.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},F.afterClose)},F.handleKeyDown=function(L){P(L)&&(0,f.default)(F.content,L),F.props.shouldCloseOnEsc&&b(L)&&(L.stopPropagation(),F.requestClose(L))},F.handleOverlayOnClick=function(L){F.shouldClose===null&&(F.shouldClose=!0),F.shouldClose&&F.props.shouldCloseOnOverlayClick&&(F.ownerHandlesClose()?F.requestClose(L):F.focusContent()),F.shouldClose=null},F.handleContentOnMouseUp=function(){F.shouldClose=!1},F.handleOverlayOnMouseDown=function(L){!F.props.shouldCloseOnOverlayClick&&L.target==F.overlay&&L.preventDefault()},F.handleContentOnClick=function(){F.shouldClose=!1},F.handleContentOnMouseDown=function(){F.shouldClose=!1},F.requestClose=function(L){return F.ownerHandlesClose()&&F.props.onRequestClose(L)},F.ownerHandlesClose=function(){return F.props.onRequestClose},F.shouldBeClosed=function(){return!F.state.isOpen&&!F.state.beforeClose},F.contentHasFocus=function(){return document.activeElement===F.content||F.content.contains(document.activeElement)},F.buildClassName=function(L,Z){var re=(typeof Z>"u"?"undefined":r(Z))==="object"?Z:{base:w[L],afterOpen:w[L]+"--after-open",beforeClose:w[L]+"--before-close"},ne=re.base;return F.state.afterOpen&&(ne=ne+" "+re.afterOpen),F.state.beforeClose&&(ne=ne+" "+re.beforeClose),typeof Z=="string"&&Z?ne+" "+Z:ne},F.attributesFromObject=function(L,Z){return Object.keys(Z).reduce(function(re,ne){return re[L+"-"+ne]=Z[ne],re},{})},F.state={afterOpen:!1,beforeClose:!1},F.shouldClose=null,F.moveFromContentToOverlay=null,F}return i(te,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(F,L){this.props.isOpen&&!F.isOpen?this.open():!this.props.isOpen&&F.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!L.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var F=this.props,L=F.appElement,Z=F.ariaHideApp,re=F.htmlOpenClassName,ne=F.bodyOpenClassName,ae=F.parentSelector,ce=ae&&ae().ownerDocument||document;ne&&C.add(ce.body,ne),re&&C.add(ce.getElementsByTagName("html")[0],re),Z&&(O+=1,S.hide(L)),_.default.register(this)}},{key:"render",value:function(){var F=this.props,L=F.id,Z=F.className,re=F.overlayClassName,ne=F.defaultStyles,ae=F.children,ce=Z?{}:ne.content,Ce=re?{}:ne.overlay;if(this.shouldBeClosed())return null;var be={ref:this.setOverlayRef,className:this.buildClassName("overlay",re),style:n({},Ce,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},_e=n({id:L,ref:this.setContentRef,style:n({},ce,this.props.style.content),className:this.buildClassName("content",Z),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Be=this.props.contentElement(_e,ae);return this.props.overlayElement(be,Be)}}]),te}(o.Component);A.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},A.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(I.default),a.default.instanceOf(k.SafeHTMLCollection),a.default.instanceOf(k.SafeNodeList),a.default.arrayOf(a.default.instanceOf(I.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=A,t.exports=e.default})(_m,_m.exports);var lV=_m.exports;function NR(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function DR(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function MR(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}NR.__suppressDeprecationWarning=!0;DR.__suppressDeprecationWarning=!0;MR.__suppressDeprecationWarning=!0;function uV(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=NR,e.componentWillReceiveProps=DR),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=MR;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,c,d,p)}}return t}const cV=Object.freeze(Object.defineProperty({__proto__:null,polyfill:uV},Symbol.toStringTag,{value:"Module"})),dV=LP(cV);Object.defineProperty(Go,"__esModule",{value:!0});Go.bodyOpenClassName=Go.portalClassName=void 0;var G1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),LR=M,jd=Cu(LR),fV=pu,Vd=Cu(fV),pV=bv,Re=Cu(pV),mV=lV,K1=Cu(mV),gV=yr,vV=_V(gV),ji=fr,Q1=Cu(ji),yV=dV;function _V(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Cu(t){return t&&t.__esModule?t:{default:t}}function EV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TV=Go.portalClassName="ReactModalPortal",SV=Go.bodyOpenClassName="ReactModal__Body--open",Eo=ji.canUseDOM&&Vd.default.createPortal!==void 0,Y1=function(e){return document.createElement(e)},J1=function(){return Eo?Vd.default.createPortal:Vd.default.unstable_renderSubtreeIntoContainer};function gc(t){return t()}var bu=function(t){wV(e,t);function e(){var n,r,i,o;EV(this,e);for(var s=arguments.length,a=Array(s),u=0;u<s;u++)a[u]=arguments[u];return o=(r=(i=X1(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Eo&&Vd.default.unmountComponentAtNode(i.node);var c=gc(i.props.parentSelector);c&&c.contains(i.node)?c.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(c){i.portal=c},i.renderPortal=function(c){var d=J1(),f=d(i,jd.default.createElement(K1.default,G1({defaultStyles:e.defaultStyles},c)),i.node);i.portalRef(f)},r),X1(i,o)}return hV(e,[{key:"componentDidMount",value:function(){if(ji.canUseDOM){Eo||(this.node=Y1("div")),this.node.className=this.props.portalClassName;var r=gc(this.props.parentSelector);r.appendChild(this.node),!Eo&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=gc(r.parentSelector),o=gc(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(ji.canUseDOM){var s=this.props,a=s.isOpen,u=s.portalClassName;r.portalClassName!==u&&(this.node.className=u);var c=o.prevParent,d=o.nextParent;d!==c&&(c.removeChild(this.node),d.appendChild(this.node)),!(!r.isOpen&&!a)&&!Eo&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ji.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!ji.canUseDOM||!Eo)return null;!this.node&&Eo&&(this.node=Y1("div"));var r=J1();return r(jd.default.createElement(K1.default,G1({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){vV.setElement(r)}}]),e}(LR.Component);bu.propTypes={isOpen:Re.default.bool.isRequired,style:Re.default.shape({content:Re.default.object,overlay:Re.default.object}),portalClassName:Re.default.string,bodyOpenClassName:Re.default.string,htmlOpenClassName:Re.default.string,className:Re.default.oneOfType([Re.default.string,Re.default.shape({base:Re.default.string.isRequired,afterOpen:Re.default.string.isRequired,beforeClose:Re.default.string.isRequired})]),overlayClassName:Re.default.oneOfType([Re.default.string,Re.default.shape({base:Re.default.string.isRequired,afterOpen:Re.default.string.isRequired,beforeClose:Re.default.string.isRequired})]),appElement:Re.default.oneOfType([Re.default.instanceOf(Q1.default),Re.default.instanceOf(ji.SafeHTMLCollection),Re.default.instanceOf(ji.SafeNodeList),Re.default.arrayOf(Re.default.instanceOf(Q1.default))]),onAfterOpen:Re.default.func,onRequestClose:Re.default.func,closeTimeoutMS:Re.default.number,ariaHideApp:Re.default.bool,shouldFocusAfterRender:Re.default.bool,shouldCloseOnOverlayClick:Re.default.bool,shouldReturnFocusAfterClose:Re.default.bool,preventScroll:Re.default.bool,parentSelector:Re.default.func,aria:Re.default.object,data:Re.default.object,role:Re.default.string,contentLabel:Re.default.string,shouldCloseOnEsc:Re.default.bool,overlayRef:Re.default.func,contentRef:Re.default.func,id:Re.default.string,overlayElement:Re.default.func,contentElement:Re.default.func};bu.defaultProps={isOpen:!1,portalClassName:TV,bodyOpenClassName:SV,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return jd.default.createElement("div",e,n)},contentElement:function(e,n){return jd.default.createElement("div",e,n)}};bu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,yV.polyfill)(bu);Go.default=bu;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Go,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,t.exports=e.default})(H1,H1.exports);var jR={exports:{}};(function(t,e){(function(n,r){t.exports=r(M,pu)})(typeof self<"u"?self:MP,function(n,r){return function(){var i={328:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.PrintContextConsumer=c.PrintContext=void 0;var f=d(496),p=Object.prototype.hasOwnProperty.call(f,"createContext");c.PrintContext=p?f.createContext({}):null,c.PrintContextConsumer=c.PrintContext?c.PrintContext.Consumer:function(){return null}},428:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ReactToPrint=void 0;var f=d(316),p=d(496),S=d(190),R=d(328),C=d(940),k=function(I){function E(){var _=I.apply(this,f.__spreadArray([],f.__read(arguments),!1))||this;return _.startPrint=function(x){var V=_.props,q=V.onAfterPrint,v=V.onPrintError,y=V.print,w=V.documentTitle;setTimeout(function(){var P,b;if(x.contentWindow)if(x.contentWindow.focus(),y)y(x).then(function(){return q==null?void 0:q()}).then(function(){return _.handleRemoveIframe()}).catch(function(J){v?v("print",J):_.logMessages(["An error was thrown by the specified `print` function"])});else{if(x.contentWindow.print){var O=(b=(P=x.contentDocument)===null||P===void 0?void 0:P.title)!==null&&b!==void 0?b:"",A=x.ownerDocument.title;w&&(x.ownerDocument.title=w,x.contentDocument&&(x.contentDocument.title=w)),x.contentWindow.print(),w&&(x.ownerDocument.title=A,x.contentDocument&&(x.contentDocument.title=O))}else _.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);q==null||q(),_.handleRemoveIframe()}else _.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},_.triggerPrint=function(x){var V=_.props,q=V.onBeforePrint,v=V.onPrintError;if(q){var y=q();y&&typeof y.then=="function"?y.then(function(){_.startPrint(x)}).catch(function(w){v&&v("onBeforePrint",w)}):_.startPrint(x)}else _.startPrint(x)},_.handlePrint=function(x){var V=_.props,q=V.bodyClass,v=V.content,y=V.copyStyles,w=V.fonts,P=V.pageStyle,b=V.nonce,O=typeof x=="function"?x():null;if(O&&typeof v=="function"&&_.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),O||typeof v!="function"||(O=v()),O!==void 0)if(O!==null){var A=document.createElement("iframe");A.width="".concat(document.documentElement.clientWidth,"px"),A.height="".concat(document.documentElement.clientHeight,"px"),A.style.position="absolute",A.style.top="-".concat(document.documentElement.clientHeight+100,"px"),A.style.left="-".concat(document.documentElement.clientWidth+100,"px"),A.id="printWindow",A.srcdoc="<!DOCTYPE html>";var J=(0,S.findDOMNode)(O);if(J){var te=J.cloneNode(!0),Se=te instanceof Text,F=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),L=Se?[]:te.querySelectorAll("img"),Z=Se?[]:te.querySelectorAll("video"),re=w?w.length:0;_.numResourcesToLoad=F.length+L.length+Z.length+re,_.resourcesLoaded=[],_.resourcesErrored=[];var ne=function(ae,ce){_.resourcesLoaded.includes(ae)?_.logMessages(["Tried to mark a resource that has already been handled",ae],"debug"):(ce?(_.logMessages(f.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],f.__read(ce),!1)),_.resourcesErrored.push(ae)):_.resourcesLoaded.push(ae),_.resourcesLoaded.length+_.resourcesErrored.length===_.numResourcesToLoad&&_.triggerPrint(A))};A.onload=function(){var ae,ce,Ce,be;A.onload=null;var _e=A.contentDocument||((ce=A.contentWindow)===null||ce===void 0?void 0:ce.document);if(_e){_e.body.appendChild(te),w&&(!((Ce=A.contentDocument)===null||Ce===void 0)&&Ce.fonts&&(!((be=A.contentWindow)===null||be===void 0)&&be.FontFace)?w.forEach(function(Tt){var ke=new FontFace(Tt.family,Tt.source,{weight:Tt.weight,style:Tt.style});A.contentDocument.fonts.add(ke),ke.loaded.then(function(){ne(ke)}).catch(function(qe){ne(ke,["Failed loading the font:",ke,"Load error:",qe])})}):(w.forEach(function(Tt){return ne(Tt)}),_.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var Be=typeof P=="function"?P():P;if(typeof Be!="string")_.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof Be,'". Styles from `pageStyle` will not be applied.')]);else{var En=_e.createElement("style");b&&(En.setAttribute("nonce",b),_e.head.setAttribute("nonce",b)),En.appendChild(_e.createTextNode(Be)),_e.head.appendChild(En)}if(q&&(ae=_e.body.classList).add.apply(ae,f.__spreadArray([],f.__read(q.split(" ")),!1)),!Se){for(var U=Se?[]:J.querySelectorAll("canvas"),$=_e.querySelectorAll("canvas"),z=0;z<U.length;++z){var B=U[z],K=$[z].getContext("2d");K&&K.drawImage(B,0,0)}var ge=function(Tt){var ke=L[Tt],qe=ke.getAttribute("src");if(qe){var st=new Image;st.onload=function(){return ne(ke)},st.onerror=function(Jt,nr,_r,$t,kt){return ne(ke,["Error loading <img>",ke,"Error",kt])},st.src=qe}else ne(ke,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',ke])};for(z=0;z<L.length;z++)ge(z);var de=function(Tt){var ke=Z[Tt];ke.preload="auto";var qe=ke.getAttribute("poster");if(qe){var st=new Image;st.onload=function(){return ne(ke)},st.onerror=function(Jt,nr,_r,$t,kt){return ne(ke,["Error loading video poster",qe,"for video",ke,"Error:",kt])},st.src=qe}else ke.readyState>=2?ne(ke):(ke.onloadeddata=function(){return ne(ke)},ke.onerror=function(Jt,nr,_r,$t,kt){return ne(ke,["Error loading video",ke,"Error",kt])},ke.onstalled=function(){return ne(ke,["Loading video stalled, skipping",ke])})};for(z=0;z<Z.length;z++)de(z);var Ie="input",ft=J.querySelectorAll(Ie),pt=_e.querySelectorAll(Ie);for(z=0;z<ft.length;z++)pt[z].value=ft[z].value;var me="input[type=checkbox],input[type=radio]",Le=J.querySelectorAll(me),Lt=_e.querySelectorAll(me);for(z=0;z<Le.length;z++)Lt[z].checked=Le[z].checked;var It="select",wt=J.querySelectorAll(It),dn=_e.querySelectorAll(It);for(z=0;z<wt.length;z++)dn[z].value=wt[z].value}if(y)for(var Ut=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),Fe=function(Tt,ke){var qe=Ut[Tt];if(qe.tagName.toLowerCase()==="style"){var st=_e.createElement(qe.tagName),Jt=qe.sheet;if(Jt){var nr="";try{for(var _r=Jt.cssRules.length,$t=0;$t<_r;++$t)typeof Jt.cssRules[$t].cssText=="string"&&(nr+="".concat(Jt.cssRules[$t].cssText,`\r
`))}catch{_.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",qe],"warning")}st.setAttribute("id","react-to-print-".concat(Tt)),b&&st.setAttribute("nonce",b),st.appendChild(_e.createTextNode(nr)),_e.head.appendChild(st)}}else if(qe.getAttribute("href"))if(qe.hasAttribute("disabled"))_.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",qe],"warning"),ne(qe);else{for(var kt=_e.createElement(qe.tagName),hi=($t=0,qe.attributes.length);$t<hi;++$t){var Er=qe.attributes[$t];Er&&kt.setAttribute(Er.nodeName,Er.nodeValue||"")}kt.onload=function(){return ne(kt)},kt.onerror=function(fi,Ca,Lr,rs,pi){return ne(kt,["Failed to load",kt,"Error:",pi])},b&&kt.setAttribute("nonce",b),_e.head.appendChild(kt)}else _.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",qe],"warning"),ne(qe)},ot=(z=0,Ut.length);z<ot;++z)Fe(z)}_.numResourcesToLoad!==0&&y||_.triggerPrint(A)},_.handleRemoveIframe(!0),document.body.appendChild(A)}else _.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else _.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else _.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},_.handleRemoveIframe=function(x){var V=_.props.removeAfterPrint;if(x||V){var q=document.getElementById("printWindow");q&&document.body.removeChild(q)}},_.logMessages=function(x,V){V===void 0&&(V="error"),_.props.suppressErrors||(V==="error"?console.error(x):V==="warning"?console.warn(x):V==="debug"&&console.debug(x))},_}return f.__extends(E,I),E.prototype.handleClick=function(_,x){var V=this,q=this.props,v=q.onBeforeGetContent,y=q.onPrintError;if(v){var w=v();w&&typeof w.then=="function"?w.then(function(){return V.handlePrint(x)}).catch(function(P){y&&y("onBeforeGetContent",P)}):this.handlePrint(x)}else this.handlePrint(x)},E.prototype.render=function(){var _=this.props,x=_.children,V=_.trigger;if(V)return p.cloneElement(V(),{onClick:this.handleClick.bind(this)});if(!R.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var q={handlePrint:this.handleClick.bind(this)};return p.createElement(R.PrintContext.Provider,{value:q},x)},E.defaultProps=C.defaultProps,E}(p.Component);c.ReactToPrint=k},940:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.defaultProps=void 0,c.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.useReactToPrint=void 0;var f=d(316),p=d(496),S=d(428),R=d(940),C=d(860),k=Object.prototype.hasOwnProperty.call(p,"useMemo")&&Object.prototype.hasOwnProperty.call(p,"useCallback");c.useReactToPrint=function(I){if(!k)return I.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var E=p.useMemo(function(){return new S.ReactToPrint(f.__assign(f.__assign({},R.defaultProps),I))},[I]);return p.useCallback(function(_,x){return(0,C.wrapCallbackWithArgs)(E,E.handleClick,x)(_)},[E])}},860:function(u,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.wrapCallbackWithArgs=void 0;var f=d(316);c.wrapCallbackWithArgs=function(p,S){for(var R=[],C=2;C<arguments.length;C++)R[C-2]=arguments[C];return function(){for(var k=[],I=0;I<arguments.length;I++)k[I]=arguments[I];return S.apply(p,f.__spreadArray(f.__spreadArray([],f.__read(k),!1),f.__read(R),!1))}}},496:function(u){u.exports=n},190:function(u){u.exports=r},316:function(u,c,d){d.r(c),d.d(c,{__addDisposableResource:function(){return _e},__assign:function(){return S},__asyncDelegator:function(){return F},__asyncGenerator:function(){return Se},__asyncValues:function(){return L},__await:function(){return te},__awaiter:function(){return q},__classPrivateFieldGet:function(){return ce},__classPrivateFieldIn:function(){return be},__classPrivateFieldSet:function(){return Ce},__createBinding:function(){return y},__decorate:function(){return C},__disposeResources:function(){return En},__esDecorate:function(){return I},__exportStar:function(){return w},__extends:function(){return p},__generator:function(){return v},__importDefault:function(){return ae},__importStar:function(){return ne},__makeTemplateObject:function(){return Z},__metadata:function(){return V},__param:function(){return k},__propKey:function(){return _},__read:function(){return b},__rest:function(){return R},__runInitializers:function(){return E},__setFunctionName:function(){return x},__spread:function(){return O},__spreadArray:function(){return J},__spreadArrays:function(){return A},__values:function(){return P}});var f=function(U,$){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,B){z.__proto__=B}||function(z,B){for(var K in B)Object.prototype.hasOwnProperty.call(B,K)&&(z[K]=B[K])},f(U,$)};function p(U,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function z(){this.constructor=U}f(U,$),U.prototype=$===null?Object.create($):(z.prototype=$.prototype,new z)}var S=function(){return S=Object.assign||function(U){for(var $,z=1,B=arguments.length;z<B;z++)for(var K in $=arguments[z])Object.prototype.hasOwnProperty.call($,K)&&(U[K]=$[K]);return U},S.apply(this,arguments)};function R(U,$){var z={};for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&$.indexOf(B)<0&&(z[B]=U[B]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function"){var K=0;for(B=Object.getOwnPropertySymbols(U);K<B.length;K++)$.indexOf(B[K])<0&&Object.prototype.propertyIsEnumerable.call(U,B[K])&&(z[B[K]]=U[B[K]])}return z}function C(U,$,z,B){var K,ge=arguments.length,de=ge<3?$:B===null?B=Object.getOwnPropertyDescriptor($,z):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")de=Reflect.decorate(U,$,z,B);else for(var Ie=U.length-1;Ie>=0;Ie--)(K=U[Ie])&&(de=(ge<3?K(de):ge>3?K($,z,de):K($,z))||de);return ge>3&&de&&Object.defineProperty($,z,de),de}function k(U,$){return function(z,B){$(z,B,U)}}function I(U,$,z,B,K,ge){function de(Fe){if(Fe!==void 0&&typeof Fe!="function")throw new TypeError("Function expected");return Fe}for(var Ie,ft=B.kind,pt=ft==="getter"?"get":ft==="setter"?"set":"value",me=!$&&U?B.static?U:U.prototype:null,Le=$||(me?Object.getOwnPropertyDescriptor(me,B.name):{}),Lt=!1,It=z.length-1;It>=0;It--){var wt={};for(var dn in B)wt[dn]=dn==="access"?{}:B[dn];for(var dn in B.access)wt.access[dn]=B.access[dn];wt.addInitializer=function(Fe){if(Lt)throw new TypeError("Cannot add initializers after decoration has completed");ge.push(de(Fe||null))};var Ut=(0,z[It])(ft==="accessor"?{get:Le.get,set:Le.set}:Le[pt],wt);if(ft==="accessor"){if(Ut===void 0)continue;if(Ut===null||typeof Ut!="object")throw new TypeError("Object expected");(Ie=de(Ut.get))&&(Le.get=Ie),(Ie=de(Ut.set))&&(Le.set=Ie),(Ie=de(Ut.init))&&K.unshift(Ie)}else(Ie=de(Ut))&&(ft==="field"?K.unshift(Ie):Le[pt]=Ie)}me&&Object.defineProperty(me,B.name,Le),Lt=!0}function E(U,$,z){for(var B=arguments.length>2,K=0;K<$.length;K++)z=B?$[K].call(U,z):$[K].call(U);return B?z:void 0}function _(U){return typeof U=="symbol"?U:"".concat(U)}function x(U,$,z){return typeof $=="symbol"&&($=$.description?"[".concat($.description,"]"):""),Object.defineProperty(U,"name",{configurable:!0,value:z?"".concat(z," ",$):$})}function V(U,$){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(U,$)}function q(U,$,z,B){return new(z||(z=Promise))(function(K,ge){function de(pt){try{ft(B.next(pt))}catch(me){ge(me)}}function Ie(pt){try{ft(B.throw(pt))}catch(me){ge(me)}}function ft(pt){var me;pt.done?K(pt.value):(me=pt.value,me instanceof z?me:new z(function(Le){Le(me)})).then(de,Ie)}ft((B=B.apply(U,$||[])).next())})}function v(U,$){var z,B,K,ge,de={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return ge={next:Ie(0),throw:Ie(1),return:Ie(2)},typeof Symbol=="function"&&(ge[Symbol.iterator]=function(){return this}),ge;function Ie(ft){return function(pt){return function(me){if(z)throw new TypeError("Generator is already executing.");for(;ge&&(ge=0,me[0]&&(de=0)),de;)try{if(z=1,B&&(K=2&me[0]?B.return:me[0]?B.throw||((K=B.return)&&K.call(B),0):B.next)&&!(K=K.call(B,me[1])).done)return K;switch(B=0,K&&(me=[2&me[0],K.value]),me[0]){case 0:case 1:K=me;break;case 4:return de.label++,{value:me[1],done:!1};case 5:de.label++,B=me[1],me=[0];continue;case 7:me=de.ops.pop(),de.trys.pop();continue;default:if(!((K=(K=de.trys).length>0&&K[K.length-1])||me[0]!==6&&me[0]!==2)){de=0;continue}if(me[0]===3&&(!K||me[1]>K[0]&&me[1]<K[3])){de.label=me[1];break}if(me[0]===6&&de.label<K[1]){de.label=K[1],K=me;break}if(K&&de.label<K[2]){de.label=K[2],de.ops.push(me);break}K[2]&&de.ops.pop(),de.trys.pop();continue}me=$.call(U,de)}catch(Le){me=[6,Le],B=0}finally{z=K=0}if(5&me[0])throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}([ft,pt])}}}var y=Object.create?function(U,$,z,B){B===void 0&&(B=z);var K=Object.getOwnPropertyDescriptor($,z);K&&!("get"in K?!$.__esModule:K.writable||K.configurable)||(K={enumerable:!0,get:function(){return $[z]}}),Object.defineProperty(U,B,K)}:function(U,$,z,B){B===void 0&&(B=z),U[B]=$[z]};function w(U,$){for(var z in U)z==="default"||Object.prototype.hasOwnProperty.call($,z)||y($,U,z)}function P(U){var $=typeof Symbol=="function"&&Symbol.iterator,z=$&&U[$],B=0;if(z)return z.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&B>=U.length&&(U=void 0),{value:U&&U[B++],done:!U}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(U,$){var z=typeof Symbol=="function"&&U[Symbol.iterator];if(!z)return U;var B,K,ge=z.call(U),de=[];try{for(;($===void 0||$-- >0)&&!(B=ge.next()).done;)de.push(B.value)}catch(Ie){K={error:Ie}}finally{try{B&&!B.done&&(z=ge.return)&&z.call(ge)}finally{if(K)throw K.error}}return de}function O(){for(var U=[],$=0;$<arguments.length;$++)U=U.concat(b(arguments[$]));return U}function A(){for(var U=0,$=0,z=arguments.length;$<z;$++)U+=arguments[$].length;var B=Array(U),K=0;for($=0;$<z;$++)for(var ge=arguments[$],de=0,Ie=ge.length;de<Ie;de++,K++)B[K]=ge[de];return B}function J(U,$,z){if(z||arguments.length===2)for(var B,K=0,ge=$.length;K<ge;K++)!B&&K in $||(B||(B=Array.prototype.slice.call($,0,K)),B[K]=$[K]);return U.concat(B||Array.prototype.slice.call($))}function te(U){return this instanceof te?(this.v=U,this):new te(U)}function Se(U,$,z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,K=z.apply(U,$||[]),ge=[];return B={},de("next"),de("throw"),de("return"),B[Symbol.asyncIterator]=function(){return this},B;function de(Le){K[Le]&&(B[Le]=function(Lt){return new Promise(function(It,wt){ge.push([Le,Lt,It,wt])>1||Ie(Le,Lt)})})}function Ie(Le,Lt){try{(It=K[Le](Lt)).value instanceof te?Promise.resolve(It.value.v).then(ft,pt):me(ge[0][2],It)}catch(wt){me(ge[0][3],wt)}var It}function ft(Le){Ie("next",Le)}function pt(Le){Ie("throw",Le)}function me(Le,Lt){Le(Lt),ge.shift(),ge.length&&Ie(ge[0][0],ge[0][1])}}function F(U){var $,z;return $={},B("next"),B("throw",function(K){throw K}),B("return"),$[Symbol.iterator]=function(){return this},$;function B(K,ge){$[K]=U[K]?function(de){return(z=!z)?{value:te(U[K](de)),done:!1}:ge?ge(de):de}:ge}}function L(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,z=U[Symbol.asyncIterator];return z?z.call(U):(U=P(U),$={},B("next"),B("throw"),B("return"),$[Symbol.asyncIterator]=function(){return this},$);function B(K){$[K]=U[K]&&function(ge){return new Promise(function(de,Ie){(function(ft,pt,me,Le){Promise.resolve(Le).then(function(Lt){ft({value:Lt,done:me})},pt)})(de,Ie,(ge=U[K](ge)).done,ge.value)})}}}function Z(U,$){return Object.defineProperty?Object.defineProperty(U,"raw",{value:$}):U.raw=$,U}var re=Object.create?function(U,$){Object.defineProperty(U,"default",{enumerable:!0,value:$})}:function(U,$){U.default=$};function ne(U){if(U&&U.__esModule)return U;var $={};if(U!=null)for(var z in U)z!=="default"&&Object.prototype.hasOwnProperty.call(U,z)&&y($,U,z);return re($,U),$}function ae(U){return U&&U.__esModule?U:{default:U}}function ce(U,$,z,B){if(z==="a"&&!B)throw new TypeError("Private accessor was defined without a getter");if(typeof $=="function"?U!==$||!B:!$.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return z==="m"?B:z==="a"?B.call(U):B?B.value:$.get(U)}function Ce(U,$,z,B,K){if(B==="m")throw new TypeError("Private method is not writable");if(B==="a"&&!K)throw new TypeError("Private accessor was defined without a setter");if(typeof $=="function"?U!==$||!K:!$.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return B==="a"?K.call(U,z):K?K.value=z:$.set(U,z),z}function be(U,$){if($===null||typeof $!="object"&&typeof $!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof U=="function"?$===U:U.has($)}function _e(U,$,z){if($!=null){if(typeof $!="object"&&typeof $!="function")throw new TypeError("Object expected.");var B;if(z){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");B=$[Symbol.asyncDispose]}if(B===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");B=$[Symbol.dispose]}if(typeof B!="function")throw new TypeError("Object not disposable.");U.stack.push({value:$,dispose:B,async:z})}else z&&U.stack.push({async:!0});return $}var Be=typeof SuppressedError=="function"?SuppressedError:function(U,$,z){var B=new Error(z);return B.name="SuppressedError",B.error=U,B.suppressed=$,B};function En(U){function $(z){U.error=U.hasError?new Be(z,U.error,"An error was suppressed during disposal."):z,U.hasError=!0}return function z(){for(;U.stack.length;){var B=U.stack.pop();try{var K=B.dispose&&B.dispose.call(B.value);if(B.async)return Promise.resolve(K).then(z,function(ge){return $(ge),z()})}catch(ge){$(ge)}}if(U.hasError)throw U.error}()}c.default={__extends:p,__assign:S,__rest:R,__decorate:C,__param:k,__metadata:V,__awaiter:q,__generator:v,__createBinding:y,__exportStar:w,__values:P,__read:b,__spread:O,__spreadArrays:A,__spreadArray:J,__await:te,__asyncGenerator:Se,__asyncDelegator:F,__asyncValues:L,__makeTemplateObject:Z,__importStar:ne,__importDefault:ae,__classPrivateFieldGet:ce,__classPrivateFieldSet:Ce,__classPrivateFieldIn:be,__addDisposableResource:_e,__disposeResources:En}}},o={};function s(u){var c=o[u];if(c!==void 0)return c.exports;var d=o[u]={exports:{}};return i[u](d,d.exports,s),d.exports}s.d=function(u,c){for(var d in c)s.o(c,d)&&!s.o(u,d)&&Object.defineProperty(u,d,{enumerable:!0,get:c[d]})},s.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},s.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var a={};return function(){var u=a;Object.defineProperty(u,"__esModule",{value:!0}),u.useReactToPrint=u.ReactToPrint=u.PrintContextConsumer=void 0;var c=s(328);Object.defineProperty(u,"PrintContextConsumer",{enumerable:!0,get:function(){return c.PrintContextConsumer}});var d=s(428);Object.defineProperty(u,"ReactToPrint",{enumerable:!0,get:function(){return d.ReactToPrint}});var f=s(892);Object.defineProperty(u,"useReactToPrint",{enumerable:!0,get:function(){return f.useReactToPrint}});var p=s(428);u.default=p.ReactToPrint}(),a}()})})(jR);var su=jR.exports;const IV=()=>{const t=M.useRef(),e=su.useReactToPrint({content:()=>t.current,documentTitle:"User Details",pageStyle:`
      @page {
        margin: 20mm;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact;
        }
      }
    `}),[n,r]=M.useState(!1),[i,o]=M.useState([]);M.useState({});const[s,a]=M.useState(""),[u,c]=M.useState(null);M.useEffect(()=>{(async()=>{try{const S=Rh(Fn,"users"),C=(await Nh(S)).docs.map(k=>({id:k.id,...k.data()}));o(C)}catch(S){console.error("Error fetching members:",S)}})()},[]);const d=async()=>{if(!s){alert("Please select a date.");return}try{const p=ei(Fn,"attendance",s),S=await ru(p);S.exists()?c(S.data()):(c(null),alert("No attendance data found for the selected date.")),r(!0)}catch(p){console.error("Error fetching attendance data:",p),alert("Failed to fetch attendance data. Please try again.")}},f=p=>{a(p.target.value)};return g.jsxs("div",{className:"hm",children:[g.jsx(wa,{}),g.jsxs("div",{className:"wrapPf pf",children:[g.jsx("div",{className:"hd",children:g.jsx("h1",{children:"Attendance"})}),g.jsxs("div",{className:"date-picker",children:[g.jsx("label",{htmlFor:"attendance-date",children:"Select Date:"}),g.jsx("input",{type:"date",id:"attendance-date",value:s,onChange:f})]}),g.jsx("div",{className:"member-list",children:g.jsxs("div",{className:"report-modal",ref:t,children:[g.jsx("h3",{children:"የ አቴንዳንስ ሪፖርት"}),g.jsx("p",{style:{marginBottom:"30px"},children:g.jsxs("b",{children:["በ ",s," የተገኙ አባላት"]})}),g.jsxs("table",{className:"tt",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"ተራ ቁጥር"}),g.jsx("th",{children:"የአባሉ ስም"})]})}),g.jsx("tbody",{children:u?u.presentMembers.map((p,S)=>g.jsxs("tr",{children:[g.jsx("td",{children:S+1}),g.jsx("td",{children:p})]},S)):g.jsx("tr",{children:g.jsx("td",{colSpan:"2",children:"No data available for the selected date."})})})]})]})})]}),g.jsxs("div",{style:{display:"flex"},children:[g.jsx("button",{onClick:e,className:"print-button",children:"Print/Save as PDF"}),g.jsx("button",{className:"submit-button",onClick:d,children:"Generate attendance report"})]})]})};function VR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vi(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VR(t))&&(r&&(r+=" "),r+=e);return r}const au=t=>typeof t=="number"&&!isNaN(t),Oo=t=>typeof t=="string",jn=t=>typeof t=="function",Hc=t=>Oo(t)||jn(t)?t:null,Sm=t=>M.isValidElement(t)||Oo(t)||jn(t)||au(t);function RV(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Mh(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(s){let{children:a,position:u,preventExitTransition:c,done:d,nodeRef:f,isIn:p,playToast:S}=s;const R=r?`${e}--${u}`:e,C=r?`${n}--${u}`:n,k=M.useRef(0);return M.useLayoutEffect(()=>{const I=f.current,E=R.split(" "),_=x=>{x.target===f.current&&(S(),I.removeEventListener("animationend",_),I.removeEventListener("animationcancel",_),k.current===0&&x.type!=="animationcancel"&&I.classList.remove(...E))};I.classList.add(...E),I.addEventListener("animationend",_),I.addEventListener("animationcancel",_)},[]),M.useEffect(()=>{const I=f.current,E=()=>{I.removeEventListener("animationend",E),i?RV(I,d,o):d()};p||(c?E():(k.current=1,I.className+=` ${C}`,I.addEventListener("animationend",E)))},[p]),De.createElement(De.Fragment,null,a)}}function Z1(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const mn=new Map;let lu=[];const Im=new Set,PV=t=>Im.forEach(e=>e(t)),FR=()=>mn.size>0;function UR(t,e){var n;if(e)return!((n=mn.get(e))==null||!n.isToastActive(t));let r=!1;return mn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function $R(t,e){Sm(t)&&(FR()||lu.push({content:t,options:e}),mn.forEach(n=>{n.buildToast(t,e)}))}function eE(t,e){mn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function AV(t){const{subscribe:e,getSnapshot:n,setProps:r}=M.useRef(function(o){const s=o.containerId||1;return{subscribe(a){const u=function(d,f,p){let S=1,R=0,C=[],k=[],I=[],E=f;const _=new Map,x=new Set,V=()=>{I=Array.from(_.values()),x.forEach(y=>y())},q=y=>{k=y==null?[]:k.filter(w=>w!==y),V()},v=y=>{const{toastId:w,onOpen:P,updateId:b,children:O}=y.props,A=b==null;y.staleId&&_.delete(y.staleId),_.set(w,y),k=[...k,y.props.toastId].filter(J=>J!==y.staleId),V(),p(Z1(y,A?"added":"updated")),A&&jn(P)&&P(M.isValidElement(O)&&O.props)};return{id:d,props:E,observe:y=>(x.add(y),()=>x.delete(y)),toggle:(y,w)=>{_.forEach(P=>{w!=null&&w!==P.props.toastId||jn(P.toggle)&&P.toggle(y)})},removeToast:q,toasts:_,clearQueue:()=>{R-=C.length,C=[]},buildToast:(y,w)=>{if((ae=>{let{containerId:ce,toastId:Ce,updateId:be}=ae;const _e=ce?ce!==d:d!==1,Be=_.has(Ce)&&be==null;return _e||Be})(w))return;const{toastId:P,updateId:b,data:O,staleId:A,delay:J}=w,te=()=>{q(P)},Se=b==null;Se&&R++;const F={...E,style:E.toastStyle,key:S++,...Object.fromEntries(Object.entries(w).filter(ae=>{let[ce,Ce]=ae;return Ce!=null})),toastId:P,updateId:b,data:O,closeToast:te,isIn:!1,className:Hc(w.className||E.toastClassName),bodyClassName:Hc(w.bodyClassName||E.bodyClassName),progressClassName:Hc(w.progressClassName||E.progressClassName),autoClose:!w.isLoading&&(L=w.autoClose,Z=E.autoClose,L===!1||au(L)&&L>0?L:Z),deleteToast(){const ae=_.get(P),{onClose:ce,children:Ce}=ae.props;jn(ce)&&ce(M.isValidElement(Ce)&&Ce.props),p(Z1(ae,"removed")),_.delete(P),R--,R<0&&(R=0),C.length>0?v(C.shift()):V()}};var L,Z;F.closeButton=E.closeButton,w.closeButton===!1||Sm(w.closeButton)?F.closeButton=w.closeButton:w.closeButton===!0&&(F.closeButton=!Sm(E.closeButton)||E.closeButton);let re=y;M.isValidElement(y)&&!Oo(y.type)?re=M.cloneElement(y,{closeToast:te,toastProps:F,data:O}):jn(y)&&(re=y({closeToast:te,toastProps:F,data:O}));const ne={content:re,props:F,staleId:A};E.limit&&E.limit>0&&R>E.limit&&Se?C.push(ne):au(J)?setTimeout(()=>{v(ne)},J):v(ne)},setProps(y){E=y},setToggle:(y,w)=>{_.get(y).toggle=w},isToastActive:y=>k.some(w=>w===y),getSnapshot:()=>E.newestOnTop?I.reverse():I}}(s,o,PV);mn.set(s,u);const c=u.observe(a);return lu.forEach(d=>$R(d.content,d.options)),lu=[],()=>{c(),mn.delete(s)}},setProps(a){var u;(u=mn.get(s))==null||u.setProps(a)},getSnapshot(){var a;return(a=mn.get(s))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=M.useSyncExternalStore(e,n,n);return{getToastToRender:function(o){if(!i)return[];const s=new Map;return i.forEach(a=>{const{position:u}=a.props;s.has(u)||s.set(u,[]),s.get(u).push(a)}),Array.from(s,a=>o(a[0],a[1]))},isToastActive:UR,count:i==null?void 0:i.length}}function CV(t){const[e,n]=M.useState(!1),[r,i]=M.useState(!1),o=M.useRef(null),s=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:f}=t;var p,S;function R(){n(!0)}function C(){n(!1)}function k(_){const x=o.current;s.canDrag&&x&&(s.didMove=!0,e&&C(),s.delta=t.draggableDirection==="x"?_.clientX-s.start:_.clientY-s.start,s.start!==_.clientX&&(s.canCloseOnClick=!1),x.style.transform=`translate3d(${t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function I(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",I);const _=o.current;if(s.canDrag&&s.didMove&&_){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(S=mn.get((p={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||S.setToggle(p.id,p.fn),M.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||C(),window.addEventListener("focus",R),window.addEventListener("blur",C),()=>{window.removeEventListener("focus",R),window.removeEventListener("blur",C)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){s.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",I);const x=o.current;s.canCloseOnClick=!0,s.canDrag=!0,x.style.transition="none",t.draggableDirection==="x"?(s.start=_.clientX,s.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(s.start=_.clientY,s.removalDistance=x.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:x,bottom:V,left:q,right:v}=o.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=q&&_.clientX<=v&&_.clientY>=x&&_.clientY<=V?C():R()}};return a&&u&&(E.onMouseEnter=C,t.stacked||(E.onMouseLeave=R)),f&&(E.onClick=_=>{d&&d(_),s.canCloseOnClick&&c()}),{playToast:R,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:E}}function bV(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:u,progress:c,rtl:d,isIn:f,theme:p}=t;const S=o||u&&c===0,R={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(R.transform=`scaleX(${c})`);const C=Vi("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),k=jn(s)?s({rtl:d,type:i,defaultClassName:C}):Vi(C,s),I={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{f&&r()}};return De.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},De.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),De.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:k,style:R,...I}))}let xV=1;const BR=()=>""+xV++;function kV(t){return t&&(Oo(t.toastId)||au(t.toastId))?t.toastId:BR()}function Cl(t,e){return $R(t,e),e.toastId}function Fd(t,e){return{...e,type:e&&e.type||t,toastId:kV(e)}}function vc(t){return(e,n)=>Cl(e,Fd(t,n))}function Ge(t,e){return Cl(t,Fd("default",e))}Ge.loading=(t,e)=>Cl(t,Fd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ge.promise=function(t,e,n){let r,{pending:i,error:o,success:s}=e;i&&(r=Oo(i)?Ge.loading(i,n):Ge.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,f,p)=>{if(f==null)return void Ge.dismiss(r);const S={type:d,...a,...n,data:p},R=Oo(f)?{render:f}:f;return r?Ge.update(r,{...S,...R}):Ge(R.render,{...S,...R}),p},c=jn(t)?t():t;return c.then(d=>u("success",s,d)).catch(d=>u("error",o,d)),c},Ge.success=vc("success"),Ge.info=vc("info"),Ge.error=vc("error"),Ge.warning=vc("warning"),Ge.warn=Ge.warning,Ge.dark=(t,e)=>Cl(t,Fd("default",{theme:"dark",...e})),Ge.dismiss=function(t){(function(e){var n;if(FR()){if(e==null||Oo(n=e)||au(n))mn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=mn.get(e.containerId);r?r.removeToast(e.id):mn.forEach(i=>{i.removeToast(e.id)})}}else lu=lu.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Ge.clearWaitingQueue=function(t){t===void 0&&(t={}),mn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Ge.isActive=UR,Ge.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var o;let{containerId:s}=i;return(o=mn.get(s||1))==null?void 0:o.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:BR()};o.toastId!==t&&(o.staleId=t);const s=o.render||i;delete o.render,Cl(s,o)}},Ge.done=t=>{Ge.update(t,{progress:1})},Ge.onChange=function(t){return Im.add(t),()=>{Im.delete(t)}},Ge.play=t=>eE(!0,t),Ge.pause=t=>eE(!1,t);const OV=typeof window<"u"?M.useLayoutEffect:M.useEffect,yc=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return De.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Hf={info:function(t){return De.createElement(yc,{...t},De.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return De.createElement(yc,{...t},De.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return De.createElement(yc,{...t},De.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return De.createElement(yc,{...t},De.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return De.createElement("div",{className:"Toastify__spinner"})}},NV=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=CV(t),{closeButton:s,children:a,autoClose:u,onClick:c,type:d,hideProgressBar:f,closeToast:p,transition:S,position:R,className:C,style:k,bodyClassName:I,bodyStyle:E,progressClassName:_,progressStyle:x,updateId:V,role:q,progress:v,rtl:y,toastId:w,deleteToast:P,isIn:b,isLoading:O,closeOnClick:A,theme:J}=t,te=Vi("Toastify__toast",`Toastify__toast-theme--${J}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":y},{"Toastify__toast--close-on-click":A}),Se=jn(C)?C({rtl:y,position:R,type:d,defaultClassName:te}):Vi(te,C),F=function(ne){let{theme:ae,type:ce,isLoading:Ce,icon:be}=ne,_e=null;const Be={theme:ae,type:ce};return be===!1||(jn(be)?_e=be({...Be,isLoading:Ce}):M.isValidElement(be)?_e=M.cloneElement(be,Be):Ce?_e=Hf.spinner():(En=>En in Hf)(ce)&&(_e=Hf[ce](Be))),_e}(t),L=!!v||!u,Z={closeToast:p,type:d,theme:J};let re=null;return s===!1||(re=jn(s)?s(Z):M.isValidElement(s)?M.cloneElement(s,Z):function(ne){let{closeToast:ae,theme:ce,ariaLabel:Ce="close"}=ne;return De.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ce}`,type:"button",onClick:be=>{be.stopPropagation(),ae(be)},"aria-label":Ce},De.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},De.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Z)),De.createElement(S,{isIn:b,done:P,position:R,preventExitTransition:n,nodeRef:r,playToast:o},De.createElement("div",{id:w,onClick:c,"data-in":b,className:Se,...i,style:k,ref:r},De.createElement("div",{...b&&{role:q},className:jn(I)?I({type:d}):Vi("Toastify__toast-body",I),style:E},F!=null&&De.createElement("div",{className:Vi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},F),De.createElement("div",null,a)),re,De.createElement(bV,{...V&&!L?{key:`pb-${V}`}:{},rtl:y,theme:J,delay:u,isRunning:e,isIn:b,closeToast:p,hide:f,type:d,style:x,className:_,controlledProgress:L,progress:v||0})))},Lh=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},DV=Mh(Lh("bounce",!0));Mh(Lh("slide",!0));Mh(Lh("zoom"));Mh(Lh("flip"));const MV={position:"top-right",transition:DV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function zR(t){let e={...MV,...t};const n=t.stacked,[r,i]=M.useState(!0),o=M.useRef(null),{getToastToRender:s,isToastActive:a,count:u}=AV(e),{className:c,style:d,rtl:f,containerId:p}=e;function S(C){const k=Vi("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":f});return jn(c)?c({position:C,rtl:f,defaultClassName:k}):Vi(k,Hc(c))}function R(){n&&(i(!0),Ge.play())}return OV(()=>{if(n){var C;const k=o.current.querySelectorAll('[data-in="true"]'),I=12,E=(C=e.position)==null?void 0:C.includes("top");let _=0,x=0;Array.from(k).reverse().forEach((V,q)=>{const v=V;v.classList.add("Toastify__toast--stacked"),q>0&&(v.dataset.collapsed=`${r}`),v.dataset.pos||(v.dataset.pos=E?"top":"bot");const y=_*(r?.2:1)+(r?0:I*q);v.style.setProperty("--y",`${E?y:-1*y}px`),v.style.setProperty("--g",`${I}`),v.style.setProperty("--s",""+(1-(r?x:0))),_+=v.offsetHeight,x+=.025})}},[r,u,n]),De.createElement("div",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),Ge.pause())},onMouseLeave:R},s((C,k)=>{const I=k.length?{...d}:{...d,pointerEvents:"none"};return De.createElement("div",{className:S(C),style:I,key:`container-${C}`},k.map(E=>{let{content:_,props:x}=E;return De.createElement(NV,{...x,stacked:n,collapseAll:R,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},_)}))}))}const LV=()=>{const[t,e]=M.useState(null),{userId:n}=oh();M.useRef();const r=()=>new Date().toISOString().split("T")[0],[i,o]=M.useState(r);M.useEffect(()=>{(async()=>{try{const u=ei(Fn,"users",n),c=await ru(u);c.exists()?e(c.data()):console.log("User not found")}catch(u){console.error("Error fetching user:",u)}})()},[n]);const s=async()=>{if(!i){alert("Please select a date.");return}try{const a=ei(Fn,"attendance",i),u=await ru(a);let c=[];u.exists()&&(c=u.data().presentMembers||[]);const d=`${t.firstName} ${t.lastName}`;c.includes(d)||c.push(d),await iR(a,{presentMembers:c},{merge:!0});const f=ei(Fn,"users",n);await vm(f,{[`attendance.${i}`]:"present"}),Ge.success("አባሉ/ሏ ተገኝተዋል")}catch(a){console.error("Error submitting attendance:",a),alert("Failed to submit attendance. Please try again.")}};return t?g.jsxs("div",{className:"ll",children:[g.jsx("img",{className:"logo",src:sa}),g.jsx("div",{className:"scanned",children:g.jsxs("div",{children:[g.jsx("img",{src:t.photoUrl,alt:"User"}),g.jsxs("div",{className:"s",children:[g.jsxs("p",{children:[g.jsx("b",{children:"ስም፡ "})," ",t.firstName," ",t.lastName," "]}),g.jsxs("p",{children:[g.jsx("b",{children:"ጾታ፡ "})," ",t.sex]}),g.jsxs("p",{children:[g.jsx("b",{children:"የአባል አይነት: "}),t.memberType]})]}),g.jsx("button",{onClick:s,children:"Mark Present"})]})}),g.jsx(zR,{})]}):g.jsx("div",{children:"Loading..."})},jV=()=>{const[t,e]=M.useState("Not found");return g.jsx(g.Fragment,{children:g.jsx("p",{children:t})})},VV=()=>{const[t,e]=M.useState({firstName:"",lastName:"",age:"",address:"",chrstianName:"",phoneNumber:"",email:"",password:"12345678",sex:"",memberType:"ወጣት",photoUrl:"",jobStatus:"",motherName:"",emergencyName:"",emergencyContact:"",educationLevel:"",religionBefore:!1,date:"",associatedBy:"",reason:"",senbetBefore:!1,presideant:"ማህሌት አይችሉህም",giveService:"",positon:""}),[n,r]=M.useState([]),[i,o]=M.useState(null);M.useEffect(()=>{(async()=>{try{const p=(await Nh(Rh(Fn,"families"))).docs.map(S=>({id:S.id,...S.data()}));r(p)}catch(f){console.error("Error fetching families:",f)}})()},[]);const s=d=>{const{name:f,value:p}=d.target;e(S=>({...S,[f]:p}))},a=d=>{const f=d.target.files[0];o(f)},u=()=>Math.floor(1e3+Math.random()*9e3),c=async d=>{d.preventDefault();try{const f=W4(J4,`userProfileImages/${t.email}`);await H4(f,i);const p=await q4(f),R=u().toString();await iR(ei(Fn,"users",R),{id:R,firstName:t.firstName,lastName:t.lastName,age:t.age,address:t.address,phoneNumber:t.phoneNumber,email:t.email,photoUrl:p,chrstianName:t.chrstianName,sex:t.sex,memberType:t.memberType,jobStatus:t.jobStatus,emergencyName:t.emergencyName,emergencyContact:t.emergencyContact,educationLevel:t.educationLevel,religionBefore:t.religionBefore,date:t.date,associatedBy:t.associatedBy,reason:t.reason,presideant:t.presideant,senbetBefore:t.senbetBefore,giveService:t.giveService,positon:t.positon}),e({firstName:"",lastName:"",age:"",address:"",phoneNumber:"",email:"",password:"",sex:"",memberType:"ወጣት",photoUrl:"",jobStatus:"",motherName:"",emergencyName:"",emergencyContact:"",educationLevel:"",religionBefore:"",date:"",associatedBy:""}),Ge.success("አባል በተሳካ ሁኔታ ተመዝግቧል")}catch(f){console.error("Error registering user:",f)}};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"hm",children:[g.jsx(wa,{}),g.jsxs("div",{className:"wrapPf pf",children:[g.jsx("div",{className:"hd",children:g.jsx("h1",{children:"አዲስ አባል መመዝገቢያ"})}),g.jsxs("form",{className:"formContainer",onSubmit:c,children:[g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ስም"}),g.jsx("input",{type:"text",placeholder:"ስም",name:"firstName",value:t.firstName,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የአባት ስም"}),g.jsx("input",{type:"text",placeholder:"የአባት ስም",name:"lastName",value:t.lastName,onChange:s,required:!0})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"እድሜ"}),g.jsx("input",{type:"number",placeholder:"እድሜ",name:"age",value:t.age,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"አድራሻ"}),g.jsx("input",{type:"text",placeholder:"አድራሻ",name:"address",value:t.address,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ስልክ ቁጥር"}),g.jsx("input",{type:"text",placeholder:"ስልክ ቁጥር",name:"phoneNumber",value:t.phoneNumber,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ኢሜይል"}),g.jsx("input",{type:"email",placeholder:"ኢሜይል",value:t.email,name:"email",onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የክርስትና ስም"}),g.jsx("input",{type:"text",placeholder:"የክርስትና ስም",name:"chrstianName",value:t.chrstianName,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ጾታ"}),g.jsxs("select",{name:"sex",value:t.sex,onChange:s,children:[g.jsx("option",{value:"",children:"Select sex"}),g.jsx("option",{value:"ወንድ",children:"ወንድ"}),g.jsx("option",{value:"ሴት",children:"ሴት"})]})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የስራ ሁኔታ"}),g.jsxs("select",{name:"jobStatus",value:t.jobStatus,onChange:s,children:[g.jsx("option",{value:"",children:"የስራ ሁኔታ"}),g.jsx("option",{value:"ሰራተኛ",children:"ሰራተኛ"}),g.jsx("option",{value:"ተማሪ",children:"ተማሪ"})]})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የአደጋ ጊዜ ተጠሪ ስም"}),g.jsx("input",{type:"text",placeholder:"የአደጋ ጊዜ ተጠሪ ስም",name:"emergencyName",value:t.emergencyName,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የአደጋ ጊዜ ተጠሪ ስልክ"}),g.jsx("input",{type:"text",placeholder:"የአደጋ ጊዜ ተጠሪ ስልክ",name:"emergencyContact",value:t.emergencyContact,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የትምህርት ደረጃ"}),g.jsxs("select",{name:"educationLevel",value:t.educationLevel,onChange:s,children:[g.jsx("option",{value:"",children:"የትምህርት ደረጃ"}),g.jsx("option",{value:"የመጀመሪያ ደረጃ",children:"የመጀመሪያ ደረጃ"}),g.jsx("option",{value:"ሁለተኛ ደረጃ",children:"ሁለተኛ ደረጃ"}),g.jsx("option",{value:"ኮሌጅ",children:"ኮሌጅ"})]})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የአገልግሎት ክፍል"}),g.jsxs("select",{name:"giveService",value:t.giveService,onChange:s,children:[g.jsx("option",{value:"አባል",children:"አባል"}),g.jsx("option",{value:"ዘማሪ",children:"ዘማሪ"}),g.jsx("option",{value:"ሰብሳቢ",children:"ሰብሳቢ"}),g.jsx("option",{value:"ጸሃፊ",children:"ጸሃፊ"}),g.jsx("option",{value:"መዝሙር",children:"መዝሙር"}),g.jsx("option",{value:"ኪነጥበብ",children:"ኪነጥበብ"}),g.jsx("option",{value:"ልማት",children:"ልማት"}),g.jsx("option",{value:"አባላት እና ግንኙነት",children:"አባላት እና ግንኙነት"}),g.jsx("option",{value:"ህጻናት እና ታዳጊ",children:"ህጻናት እና ታዳጊ"})]})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የስራ ድርሻ"}),g.jsxs("select",{name:"positon",value:t.positon,onChange:s,children:[g.jsx("option",{value:"",children:"የስራ ድርሻ"}),g.jsx("option",{value:"አባል",children:"አባል"}),g.jsx("option",{value:"የክፍል ተጠሪ",children:"የክፍል ተጠሪ"}),g.jsx("option",{value:"ንዑስ",children:"ንዑስ"})]})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የሌላ ሃይማኖት ተከታይ ነበርክ/ሽ ?"}),g.jsxs("select",{name:"religionBefore",value:t.religionBefore,onChange:s,children:[g.jsx("option",{value:"",children:"የሌላ ሃይማኖት ተከታይ ነበርክ/ሽ ?"}),g.jsx("option",{value:!0,children:"አዎ"}),g.jsx("option",{value:!1,children:"አይ"})]})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ከዚህ በፊት ሰንበት ተማሪ ነበርክ/ሽ?"}),g.jsxs("select",{name:"senbetBefore",value:t.senbetBefore,onChange:s,children:[g.jsx("option",{value:"",children:"ከዚህ በፊት ሰንበት ተማሪ ነበርክ/ሽ?"}),g.jsx("option",{value:!0,children:"አዎ"}),g.jsx("option",{value:!1,children:"አይ"})]})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ሰ/ት/ቤት ለመግባት የፈለግህበት/ሽበት ምክንያት"}),g.jsx("textarea",{type:"text",placeholder:"ሰ/ት/ቤት ለመግባት የፈለግህበት/ሽበት ምክንያት",name:"reason",value:t.reason,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ቅጹ የተሞላበት ቀን"}),g.jsx("input",{type:"date",placeholder:"ቅጹ የተሞላበት ቀን",name:"date",value:t.date,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"ቅጹን ያስሞላው አካል"}),g.jsx("input",{type:"text",placeholder:"ቅጹን ያስሞላው አካል",name:"associatedBy",value:t.associatedBy,onChange:s})]}),g.jsxs("div",{className:"formGroup",children:[g.jsx("label",{children:"የአባል ፎቶ"}),g.jsx("input",{type:"file",accept:"image/*",onChange:a})]}),g.jsx("button",{type:"submit",className:"sign",children:"መዝግብ"})]})]})]}),g.jsx(zR,{})]})},HR="/assets/eotc-BHCqpYQR.png";function FV(t){return er({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M198.844 64.75c-.985 0-1.974.03-2.97.094-15.915 1.015-32.046 11.534-37.78 26.937-34.072 91.532-51.085 128.865-61.5 222.876 14.633 13.49 31.63 26.45 50.25 38.125l66.406-196.467 17.688 5.968L163.28 362.5c19.51 10.877 40.43 20.234 62 27.28l75.407-201.53 17.5 6.53-74.937 200.282c19.454 5.096 39.205 8.2 58.78 8.875L381.345 225.5l17.094 7.594-75.875 170.656c21.82-1.237 43.205-5.768 63.437-14.28 43.317-53.844 72.633-109.784 84.5-172.69 5.092-26.992-14.762-53.124-54.22-54.81l-6.155-.282-2.188-5.75c-8.45-22.388-19.75-30.093-31.5-32.47-11.75-2.376-25.267 1.535-35.468 7.376l-13.064 7.47-.906-15c-.99-16.396-10.343-29.597-24.313-35.626-13.97-6.03-33.064-5.232-54.812 9.906l-10.438 7.25-3.812-12.125c-6.517-20.766-20.007-27.985-34.78-27.97zM103.28 188.344C71.143 233.448 47.728 299.56 51.407 359.656c27.54 21.84 54.61 33.693 80.063 35.438 14.155.97 27.94-1.085 41.405-6.438-35.445-17.235-67.36-39.533-92.594-63.53l-3.343-3.157.5-4.595c5.794-54.638 13.946-91.5 25.844-129.03z"},child:[]}]})(t)}const UV=()=>{const[t,e]=M.useState(null),{userId:n}=oh(),r=M.useRef();return M.useEffect(()=>{(async()=>{try{const o=ei(Fn,"users",n),s=await ru(o);s.exists()?e(s.data()):console.log("User not found")}catch(o){console.error("Error fetching user:",o)}})()},[n]),su.useReactToPrint({content:()=>r.current,documentTitle:"User Details",pageStyle:`
      @page {
        margin: 20mm;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact;
        }
      }
    `}),t?g.jsxs("div",{className:"hm",children:[g.jsx(wa,{}),g.jsxs("div",{className:"wrapPf pf",children:[g.jsx("div",{className:"hd",children:g.jsxs("h1",{children:["የ ",t.firstName," ",t.lastName," ነባራዊ ሁኔታ"]})}),g.jsxs("div",{className:"infoWrapper",children:[g.jsx("h2",{children:"አባሉ የጨረሳቸው ትምህርቶች"}),g.jsx("div",{className:"single",children:t.courses?t.courses.map((i,o)=>g.jsxs("div",{className:"dd",children:[g.jsxs("div",{children:[g.jsx(z1,{className:"ic"}),g.jsx("h4",{children:"የትምህርቱ ስም: "}),g.jsx("p",{children:i.name})]}),g.jsxs("div",{children:[g.jsx(B1,{}),g.jsx("h4",{children:"ያለቀበት ቀን:"}),g.jsx("p",{children:i.when})]})]},o)):g.jsx("p",{children:"No Courses for this member"})}),g.jsx("h2",{children:"አባሉ የተቀጡባቸው አጋጣሚዎች"}),g.jsx("div",{className:"single",children:t.punishment?t.punishment.map((i,o)=>g.jsxs("div",{className:"dd",children:[g.jsxs("div",{children:[g.jsx(fj,{}),g.jsx("h4",{children:"የተቀጡበት ምክንያት: "}),g.jsx("p",{children:i.reason})]}),g.jsxs("div",{children:[g.jsx(FV,{}),g.jsx("h4",{children:"የተቀጡት ቅጣት:"}),g.jsx("p",{children:i.punishment})]})]},o)):g.jsx("p",{children:"No punishment"})}),g.jsx("h2",{children:"አባሉ ፈቃድ የወሰደባቸው ጊዜዎች"}),g.jsx("div",{className:"single",children:t.permission?t.permission.map((i,o)=>g.jsxs("div",{className:"dd",children:[g.jsxs("div",{children:[g.jsx(z1,{className:"ic"}),g.jsx("h4",{children:"የፈቃድ ምክንያት: "}),g.jsx("p",{children:i.reason})]}),g.jsxs("div",{children:[g.jsx(B1,{}),g.jsx("h4",{children:"የፈቃዱ ቆይታ:"}),g.jsxs("p",{children:["ከ ",i.startDate," እስከ ",i.finishDate]})]})]},o)):g.jsx("p",{children:"No permission"})}),g.jsx("h2",{children:"አባሉ የከፈላቸው የወር ክፍያዎች"}),g.jsx("div",{className:"single",children:t.fee?g.jsx("div",{className:"dd",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"ተራ ቁ."}),g.jsx("th",{children:"የክፍያ መጠን"}),g.jsx("th",{children:"ወር"}),g.jsx("th",{children:"ዓ/ም"})]})}),g.jsx("tbody",{children:t.fee.map((i,o)=>g.jsxs("tr",{children:[g.jsx("td",{children:o+1}),g.jsx("td",{children:i.amount}),g.jsx("td",{children:i.month}),g.jsx("td",{children:i.year})]},o))})]})}):g.jsx("p",{children:"No fee record!"})}),g.jsx("h2",{children:"የአባሉ ትክክለኛ አድራሻ"}),t.location?g.jsx(g.Fragment,{children:g.jsx("div",{className:"single",children:g.jsx("div",{className:"dd",children:g.jsxs("div",{children:[g.jsx(hj,{}),g.jsx("a",{href:`${t.location}`,children:g.jsx("p",{children:"አድራሻውን ለማየት ይሄን ይጫኑ"})})]})})})}):g.jsx("p",{children:"No location"})]})]})]}):g.jsx("div",{children:"Loading..."})};function $V(t){return er({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M1.7507,16.0022 C3.3517,20.0982 7.3367,23.0002 11.9997,23.0002 C18.0747,23.0002 22.9997,18.0752 22.9997,12.0002 M22.2497,7.9982 C20.6487,3.9012 16.6627,1.0002 11.9997,1.0002 C5.9247,1.0002 0.9997,5.9252 0.9997,12.0002 M8.9997,16.0002 L0.9997,16.0002 L0.9997,24.0002 M22.9997,0.0002 L22.9997,8.0002 L14.9997,8.0002"},child:[]}]})(t)}const BV=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(null),[i,o]=M.useState(null),[s,a]=M.useState([]),[u,c]=M.useState(!1),[d,f]=M.useState(""),p=async(R="initial",C="")=>{c(!0);try{const k=Rh(Fn,"users");let I=hc(k,fc(5));if(C&&(I=hc(k,k1("firstName",">=",C),k1("firstName","<=",C+""),fc(5))),R==="next"&&n)I=hc(k,xL(n),fc(5));else if(R==="prev"&&i&&s.length>0){const x=s.pop();a(s),I=hc(k,bL(x),fc(5))}const E=await Nh(I),_=E.docs.map(x=>({...x.data(),id:x.id}));R==="next"&&a([...s,i]),e(_),o(E.docs[0]),r(E.docs[E.docs.length-1])}catch(k){console.error("Error fetching students:",k)}finally{c(!1)}};M.useEffect(()=>{p()},[]);const S=R=>{R.preventDefault(),p("initial",d)};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"hm",children:[g.jsx(wa,{}),g.jsxs("div",{className:"wrapPf pf",children:[g.jsx("div",{className:"hd",children:g.jsx("h1",{children:"የ ሰ/ት/ቤቱ አባላት"})}),g.jsxs("div",{className:"mm",children:[g.jsx("div",{className:"search",children:g.jsxs("form",{onSubmit:S,children:[g.jsx("input",{type:"text",placeholder:"Search by first name",value:d,onChange:R=>f(R.target.value)}),g.jsx("button",{type:"submit",children:"Search"})]})}),g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"ተራ ቁ  ."}),g.jsx("th",{children:"ፎቶ"}),g.jsx("th",{children:"ስም"}),g.jsx("th",{children:"እድሜ"}),g.jsx("th",{children:"አድራሻ"}),g.jsx("th",{children:"ኢሜይል"}),g.jsx("th",{children:"ጾታ"}),g.jsx("th",{children:"Action"})]})}),g.jsx("tbody",{children:t.map((R,C)=>g.jsxs("tr",{children:[g.jsx("td",{children:C+1}),g.jsxs("td",{className:"pho",children:[g.jsx("img",{src:R.photoUrl,alt:"student"})," "]}),g.jsxs("td",{children:[R.firstName," ",R.lastName]}),g.jsx("td",{children:R.age}),g.jsx("td",{children:R.address}),g.jsx("td",{children:R.email}),g.jsx("td",{children:R.sex}),g.jsxs("td",{style:{display:"flex",gap:"10px"},children:[g.jsx(El,{to:`/members/${R.id}`,style:{color:"#000"},children:g.jsx(cj,{className:"icon"})}),g.jsx(El,{to:`/update/${R.id}`,style:{color:"#000"},children:g.jsx($V,{className:"icon"})}),g.jsx(El,{to:`/transcript/${R.id}`,style:{color:"#000"},children:g.jsx(dj,{className:"icon"})})]})]},R.id))})]}),g.jsxs("div",{className:"pagination",children:[g.jsx("button",{onClick:()=>p("prev",d),disabled:u||s.length===0,children:"Previous"}),g.jsx("button",{onClick:()=>p("next",d),disabled:u,children:u?"Loading...":"Next"})]})]})]})]})})},zV=()=>{const[t,e]=M.useState(null),{userId:n}=oh(),r=M.useRef();M.useEffect(()=>{(async()=>{try{const s=ei(Fn,"users",n),a=await ru(s);a.exists()?e(a.data()):console.log("User not found")}catch(s){console.error("Error fetching user:",s)}})()},[n]);const i=su.useReactToPrint({content:()=>r.current,documentTitle:"User Details",pageStyle:`
      @page {
        margin: 20mm;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact;
        }
      }
    `});return t?g.jsxs("div",{className:"wrp",children:[g.jsxs("div",{className:"profile-container",ref:r,children:[g.jsxs("div",{className:"header",children:[g.jsx("img",{src:sa,className:"right",alt:"Logo"}),g.jsx("h4",{children:"በኢትዮጵያ ኦርቶዶክስ ተዋሕዶ ቤተክርስቲያን በድሬዳዋ ሃ/ስብከት የመንበረ ብርሃን ቅ/ሥላሴ ገዳም ውሉደ ብርሃን ሰንበት ት/ቤት"}),g.jsx("img",{src:HR,className:"left",alt:"EOTC"})]}),g.jsxs("div",{className:"pppp",children:[g.jsx("img",{src:t.photoUrl,alt:"Profile",className:"profile-pic"}),g.jsx("br",{}),g.jsxs("div",{className:"grp",children:[g.jsxs("p",{children:[g.jsx("span",{children:"ስም:"})," ",t.firstName," ",t.lastName]}),g.jsxs("p",{children:[g.jsx("span",{children:"እድሜ:"})," ",t.age]}),g.jsxs("p",{children:[g.jsx("span",{children:"ጾታ:"})," ",t.sex]})]}),g.jsxs("div",{className:"grp",children:[g.jsxs("p",{children:[g.jsx("span",{children:"አድራሻ:"})," ",t.address]}),g.jsxs("p",{children:[g.jsx("span",{children:"ስልክ ቁጥር፡ "})," ",t.phoneNumber]})]}),g.jsxs("p",{children:[g.jsx("span",{children:"ኢሜይል:"})," ",t.email]}),g.jsxs("p",{children:[g.jsx("span",{children:"የክርስትና ስም:"})," ",t.chrstianName]}),g.jsxs("p",{children:[g.jsx("span",{children:"የአባልነት አይነት:"})," ",t.memberType]}),g.jsxs("p",{children:[g.jsx("span",{children:"የአገልግሎት ክፍል:"})," ",t.giveService]}),g.jsxs("p",{children:[g.jsx("span",{children:"የስራ ድርሻ:"})," ",t.positon]}),g.jsxs("p",{children:[g.jsx("span",{children:"የስራ ሁኔታ:"})," ",t.jobStatus]}),g.jsx("div",{className:"grp",children:g.jsxs("p",{children:[g.jsx("span",{children:"የአደጋ ጊዜ ተጠሪ"}),g.jsx("span",{children:" ስም:"})," ",t.emergencyName,"     ",g.jsx("span",{style:{marginLeft:"30px"},children:"ስልክ ቁጥር: "}),t.emergencyContact]})}),g.jsx("p",{children:g.jsx("span",{children:t.religionBefore?"ከዚህ በፊት የተለየ ሃይማኖት ተከታይ ነበረ/ች":"ከዚህ በፊት የተለየ ሃይማኖት ተከታይ አልነበረም/ችም"})}),g.jsx("p",{children:t.senbetBefore?"ከዚህ በፊት ሰንበት ተማሪ ነበረ/ች":"ከዚህ በፊት ሰንበት ተማሪ አልነበረም/ችም"}),g.jsxs("p",{children:[g.jsx("span",{children:"ሰ/ት/ቤት የገባበት ምክንያት "}),g.jsx("br",{}),"  ",t.reason]}),g.jsxs("p",{children:[g.jsx("span",{children:"ቅጹ የተሞላበት ቀን:"})," ",t.date]}),g.jsxs("p",{children:[g.jsx("span",{children:"ቅጹን ያስሞላው አካል፡ "})," ",t.associatedBy]})]}),g.jsx("div",{className:"signature",children:g.jsxs("p",{children:[g.jsx("span",{children:"የሰ/ት/ቤቱ ሰብሳቢ ስም እና ፊርማ"}),g.jsx("br",{})," ",t.presideant]})})]}),g.jsx("button",{onClick:i,className:"print-button",children:"Print/Save as PDF"})]}):g.jsx("div",{children:"Loading..."})};var Ov={},jh={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});function HV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qV=function t(e,n){HV(this,t),this.data=e,this.text=n.text||e,this.options=n};Cn.default=qV;Object.defineProperty(jh,"__esModule",{value:!0});jh.CODE39=void 0;var WV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),GV=Cn,KV=QV(GV);function QV(t){return t&&t.__esModule?t:{default:t}}function XV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ZV=function(t){JV(e,t);function e(n,r){return XV(this,e),n=n.toUpperCase(),r.mod43&&(n+=n3(r3(n))),YV(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return WV(e,[{key:"encode",value:function(){for(var r=qf("*"),i=0;i<this.data.length;i++)r+=qf(this.data[i])+"0";return r+=qf("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(KV.default),qR=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],e3=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function qf(t){return t3(WR(t))}function t3(t){return e3[t].toString(2)}function n3(t){return qR[t]}function WR(t){return qR.indexOf(t)}function r3(t){for(var e=0,n=0;n<t.length;n++)e+=WR(t[n]);return e=e%43,e}jh.CODE39=ZV;var Rr={},Nv={},Ia={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});var Xa;function Wf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GR=tt.SET_A=0,KR=tt.SET_B=1,QR=tt.SET_C=2;tt.SHIFT=98;var i3=tt.START_A=103,o3=tt.START_B=104,s3=tt.START_C=105;tt.MODULO=103;tt.STOP=106;tt.FNC1=207;tt.SET_BY_CODE=(Xa={},Wf(Xa,i3,GR),Wf(Xa,o3,KR),Wf(Xa,s3,QR),Xa);tt.SWAP={101:GR,100:KR,99:QR};tt.A_START_CHAR="Ð";tt.B_START_CHAR="Ñ";tt.C_START_CHAR="Ò";tt.A_CHARS="[\0-_È-Ï]";tt.B_CHARS="[ -È-Ï]";tt.C_CHARS="(Ï*[0-9]{2}Ï*)";tt.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Ia,"__esModule",{value:!0});var a3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l3=Cn,u3=c3(l3),kn=tt;function c3(t){return t&&t.__esModule?t:{default:t}}function d3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p3=function(t){f3(e,t);function e(n,r){d3(this,e);var i=h3(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(o){return o.charCodeAt(0)}),i}return a3(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=kn.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(kn.FNC1);var s=e.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+s.result+e.getBar((s.checksum+i)%kn.MODULO)+e.getBar(kn.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return kn.BARS[r]?kn.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===kn.SET_A){var o=r.shift();return o<32?o+64:o-32}else return i===kn.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var s=void 0,a=void 0;if(r[0]>=200){a=r.shift()-105;var u=kn.SWAP[a];u!==void 0?s=e.next(r,i+1,u):((o===kn.SET_A||o===kn.SET_B)&&a===kn.SHIFT&&(r[0]=o===kn.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,i+1,o))}else a=e.correctIndex(r,o),s=e.next(r,i+1,o);var c=e.getBar(a),d=a*i;return{result:c+s.result,checksum:d+s.checksum}}}]),e}(u3.default);Ia.default=p3;var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});var Yi=tt,XR=function(e){return e.match(new RegExp("^"+Yi.A_CHARS+"*"))[0].length},YR=function(e){return e.match(new RegExp("^"+Yi.B_CHARS+"*"))[0].length},JR=function(e){return e.match(new RegExp("^"+Yi.C_CHARS+"*"))[0]};function Mv(t,e){var n=e?Yi.A_CHARS:Yi.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"Ì"+ZR(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+Mv(t.substring(i.length),!e)}function ZR(t){var e=JR(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=XR(t)>=YR(t);return e+String.fromCharCode(r?206:205)+Mv(t,r)}Dv.default=function(t){var e=void 0,n=JR(t).length;if(n>=2)e=Yi.C_START_CHAR+ZR(t);else{var r=XR(t)>YR(t);e=(r?Yi.A_START_CHAR:Yi.B_START_CHAR)+Mv(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"Ë"+o})};Object.defineProperty(Nv,"__esModule",{value:!0});var m3=Ia,g3=eP(m3),v3=Dv,y3=eP(v3);function eP(t){return t&&t.__esModule?t:{default:t}}function _3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function E3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w3=function(t){E3(e,t);function e(n,r){if(_3(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=Gf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,y3.default)(n),r));else var i=Gf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Gf(i)}return e}(g3.default);Nv.default=w3;var Lv={};Object.defineProperty(Lv,"__esModule",{value:!0});var T3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S3=Ia,I3=R3(S3),tE=tt;function R3(t){return t&&t.__esModule?t:{default:t}}function P3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function C3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b3=function(t){C3(e,t);function e(n,r){return P3(this,e),A3(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,tE.A_START_CHAR+n,r))}return T3(e,[{key:"valid",value:function(){return new RegExp("^"+tE.A_CHARS+"+$").test(this.data)}}]),e}(I3.default);Lv.default=b3;var jv={};Object.defineProperty(jv,"__esModule",{value:!0});var x3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k3=Ia,O3=N3(k3),nE=tt;function N3(t){return t&&t.__esModule?t:{default:t}}function D3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function L3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j3=function(t){L3(e,t);function e(n,r){return D3(this,e),M3(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,nE.B_START_CHAR+n,r))}return x3(e,[{key:"valid",value:function(){return new RegExp("^"+nE.B_CHARS+"+$").test(this.data)}}]),e}(O3.default);jv.default=j3;var Vv={};Object.defineProperty(Vv,"__esModule",{value:!0});var V3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),F3=Ia,U3=$3(F3),rE=tt;function $3(t){return t&&t.__esModule?t:{default:t}}function B3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function H3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var q3=function(t){H3(e,t);function e(n,r){return B3(this,e),z3(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,rE.C_START_CHAR+n,r))}return V3(e,[{key:"valid",value:function(){return new RegExp("^"+rE.C_CHARS+"+$").test(this.data)}}]),e}(U3.default);Vv.default=q3;Object.defineProperty(Rr,"__esModule",{value:!0});Rr.CODE128C=Rr.CODE128B=Rr.CODE128A=Rr.CODE128=void 0;var W3=Nv,G3=Vh(W3),K3=Lv,Q3=Vh(K3),X3=jv,Y3=Vh(X3),J3=Vv,Z3=Vh(J3);function Vh(t){return t&&t.__esModule?t:{default:t}}Rr.CODE128=G3.default;Rr.CODE128A=Q3.default;Rr.CODE128B=Y3.default;Rr.CODE128C=Z3.default;var Tn={},Fv={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.SIDE_BIN="101";tr.MIDDLE_BIN="01010";tr.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};tr.EAN2_STRUCTURE=["LL","LG","GL","GG"];tr.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];tr.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Fh={},es={};Object.defineProperty(es,"__esModule",{value:!0});var e9=tr,t9=function(e,n,r){var i=e.split("").map(function(s,a){return e9.BINARIES[n[a]]}).map(function(s,a){return s?s[e[a]]:""});if(r){var o=e.length-1;i=i.map(function(s,a){return a<o?s+r:s})}return i.join("")};es.default=t9;Object.defineProperty(Fh,"__esModule",{value:!0});var n9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),us=tr,r9=es,iE=tP(r9),i9=Cn,o9=tP(i9);function tP(t){return t&&t.__esModule?t:{default:t}}function s9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function l9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u9=function(t){l9(e,t);function e(n,r){s9(this,e);var i=a9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return n9(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,iE.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,iE.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:us.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:us.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:us.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[us.SIDE_BIN,this.leftEncode(),us.MIDDLE_BIN,this.rightEncode(),us.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(o9.default);Fh.default=u9;Object.defineProperty(Fv,"__esModule",{value:!0});var c9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ya=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},d9=tr,h9=Fh,f9=p9(h9);function p9(t){return t&&t.__esModule?t:{default:t}}function m9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function v9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oE=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*3:r+i},0);return(10-n%10)%10},y9=function(t){v9(e,t);function e(n,r){m9(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=oE(n));var i=g9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return c9(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===oE(this.data)}},{key:"leftText",value:function(){return Ya(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=d9.EAN13_STRUCTURE[this.data[0]];return Ya(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Ya(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Ya(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Ya(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(f9.default);Fv.default=y9;var Uv={};Object.defineProperty(Uv,"__esModule",{value:!0});var _9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_c=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},E9=Fh,w9=T9(E9);function T9(t){return t&&t.__esModule?t:{default:t}}function S9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function R9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sE=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+i*3},0);return(10-n%10)%10},P9=function(t){R9(e,t);function e(n,r){return S9(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=sE(n)),I9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return _9(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===sE(this.data)}},{key:"leftText",value:function(){return _c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return _c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return _c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return _c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(w9.default);Uv.default=P9;var $v={};Object.defineProperty($v,"__esModule",{value:!0});var A9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C9=tr,b9=es,x9=nP(b9),k9=Cn,O9=nP(k9);function nP(t){return t&&t.__esModule?t:{default:t}}function N9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function M9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L9=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*9:r+i*3},0);return n%10},j9=function(t){M9(e,t);function e(n,r){return N9(this,e),D9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return A9(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=C9.EAN5_STRUCTURE[L9(this.data)];return{data:"1011"+(0,x9.default)(this.data,r,"01"),text:this.text}}}]),e}(O9.default);$v.default=j9;var Bv={};Object.defineProperty(Bv,"__esModule",{value:!0});var V9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),F9=tr,U9=es,$9=rP(U9),B9=Cn,z9=rP(B9);function rP(t){return t&&t.__esModule?t:{default:t}}function H9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function W9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var G9=function(t){W9(e,t);function e(n,r){return H9(this,e),q9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return V9(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=F9.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,$9.default)(this.data,r,"01"),text:this.text}}}]),e}(z9.default);Bv.default=G9;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});var K9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();xu.checksum=Rm;var Q9=es,cs=iP(Q9),X9=Cn,Y9=iP(X9);function iP(t){return t&&t.__esModule?t:{default:t}}function J9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tF=function(t){eF(e,t);function e(n,r){J9(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Rm(n));var i=Z9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return K9(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Rm(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,cs.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,cs.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,cs.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,cs.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,cs.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,cs.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(Y9.default);function Rm(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}xu.default=tF;var zv={};Object.defineProperty(zv,"__esModule",{value:!0});var nF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),rF=es,iF=oP(rF),oF=Cn,sF=oP(oF),aF=xu;function oP(t){return t&&t.__esModule?t:{default:t}}function lF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cF=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],dF=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],hF=function(t){uF(e,t);function e(n,r){lF(this,e);var i=Kf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=aE(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=aE(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return Kf(i);else return Kf(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return nF(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],o=dF[parseInt(i)][parseInt(r)];return(0,iF.default)(this.middleDigits,o)}}]),e}(sF.default);function aE(t,e){for(var n=parseInt(t[t.length-1]),r=cF[n],i="",o=0,s=0;s<r.length;s++){var a=r[s];a==="X"?i+=t[o++]:i+=a}return i=""+e+i,""+i+(0,aF.checksum)(i)}zv.default=hF;Object.defineProperty(Tn,"__esModule",{value:!0});Tn.UPCE=Tn.UPC=Tn.EAN2=Tn.EAN5=Tn.EAN8=Tn.EAN13=void 0;var fF=Fv,pF=Ra(fF),mF=Uv,gF=Ra(mF),vF=$v,yF=Ra(vF),_F=Bv,EF=Ra(_F),wF=xu,TF=Ra(wF),SF=zv,IF=Ra(SF);function Ra(t){return t&&t.__esModule?t:{default:t}}Tn.EAN13=pF.default;Tn.EAN8=gF.default;Tn.EAN5=yF.default;Tn.EAN2=EF.default;Tn.UPC=TF.default;Tn.UPCE=IF.default;var la={},Uh={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.START_BIN="1010";ku.END_BIN="11101";ku.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(Uh,"__esModule",{value:!0});var RF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ec=ku,PF=Cn,AF=CF(PF);function CF(t){return t&&t.__esModule?t:{default:t}}function bF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var OF=function(t){kF(e,t);function e(){return bF(this,e),xF(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return RF(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:Ec.START_BIN+i+Ec.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=Ec.BINARIES[r[1]];return Ec.BINARIES[r[0]].split("").map(function(o,s){return(o==="1"?"111":"1")+(i[s]==="1"?"000":"0")}).join("")}}]),e}(AF.default);Uh.default=OF;var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});var NF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),DF=Uh,MF=LF(DF);function LF(t){return t&&t.__esModule?t:{default:t}}function jF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function FF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lE=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return Math.ceil(n/10)*10-n},UF=function(t){FF(e,t);function e(n,r){return jF(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=lE(n)),VF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return NF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===lE(this.data)}}]),e}(MF.default);Hv.default=UF;Object.defineProperty(la,"__esModule",{value:!0});la.ITF14=la.ITF=void 0;var $F=Uh,BF=sP($F),zF=Hv,HF=sP(zF);function sP(t){return t&&t.__esModule?t:{default:t}}la.ITF=BF.default;la.ITF14=HF.default;var Qn={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});var qF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),WF=Cn,GF=KF(WF);function KF(t){return t&&t.__esModule?t:{default:t}}function QF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var JF=function(t){YF(e,t);function e(n,r){return QF(this,e),XF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return qF(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),s=o.toString(2);s=ZF(s,4-s.length);for(var a=0;a<s.length;a++)r+=s[a]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(GF.default);function ZF(t,e){for(var n=0;n<e;n++)t="0"+t;return t}ts.default=JF;var qv={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.mod10=eU;ns.mod11=tU;function eU(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function tU(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(qv,"__esModule",{value:!0});var nU=ts,rU=oU(nU),iU=ns;function oU(t){return t&&t.__esModule?t:{default:t}}function sU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uU=function(t){lU(e,t);function e(n,r){return sU(this,e),aU(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,iU.mod10)(n),r))}return e}(rU.default);qv.default=uU;var Wv={};Object.defineProperty(Wv,"__esModule",{value:!0});var cU=ts,dU=fU(cU),hU=ns;function fU(t){return t&&t.__esModule?t:{default:t}}function pU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vU=function(t){gU(e,t);function e(n,r){return pU(this,e),mU(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,hU.mod11)(n),r))}return e}(dU.default);Wv.default=vU;var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});var yU=ts,_U=EU(yU),uE=ns;function EU(t){return t&&t.__esModule?t:{default:t}}function wU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function SU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IU=function(t){SU(e,t);function e(n,r){return wU(this,e),n+=(0,uE.mod10)(n),n+=(0,uE.mod10)(n),TU(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(_U.default);Gv.default=IU;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});var RU=ts,PU=AU(RU),cE=ns;function AU(t){return t&&t.__esModule?t:{default:t}}function CU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kU=function(t){xU(e,t);function e(n,r){return CU(this,e),n+=(0,cE.mod11)(n),n+=(0,cE.mod10)(n),bU(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(PU.default);Kv.default=kU;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.MSI1110=Qn.MSI1010=Qn.MSI11=Qn.MSI10=Qn.MSI=void 0;var OU=ts,NU=Ou(OU),DU=qv,MU=Ou(DU),LU=Wv,jU=Ou(LU),VU=Gv,FU=Ou(VU),UU=Kv,$U=Ou(UU);function Ou(t){return t&&t.__esModule?t:{default:t}}Qn.MSI=NU.default;Qn.MSI10=MU.default;Qn.MSI11=jU.default;Qn.MSI1010=FU.default;Qn.MSI1110=$U.default;var $h={};Object.defineProperty($h,"__esModule",{value:!0});$h.pharmacode=void 0;var BU=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zU=Cn,HU=qU(zU);function qU(t){return t&&t.__esModule?t:{default:t}}function WU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function KU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QU=function(t){KU(e,t);function e(n,r){WU(this,e);var i=GU(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return BU(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(HU.default);$h.pharmacode=QU;var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.codabar=void 0;var XU=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),YU=Cn,JU=ZU(YU);function ZU(t){return t&&t.__esModule?t:{default:t}}function e5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t5(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function n5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r5=function(t){n5(e,t);function e(n,r){e5(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=t5(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return XU(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(JU.default);Bh.codabar=r5;var zh={};Object.defineProperty(zh,"__esModule",{value:!0});zh.GenericBarcode=void 0;var i5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o5=Cn,s5=a5(o5);function a5(t){return t&&t.__esModule?t:{default:t}}function l5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u5(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function c5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d5=function(t){c5(e,t);function e(n,r){return l5(this,e),u5(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return i5(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(s5.default);zh.GenericBarcode=d5;Object.defineProperty(Ov,"__esModule",{value:!0});var h5=jh,wc=Rr,ds=Tn,dE=la,Ja=Qn,f5=$h,p5=Bh,m5=zh;Ov.default={CODE39:h5.CODE39,CODE128:wc.CODE128,CODE128A:wc.CODE128A,CODE128B:wc.CODE128B,CODE128C:wc.CODE128C,EAN13:ds.EAN13,EAN8:ds.EAN8,EAN5:ds.EAN5,EAN2:ds.EAN2,UPC:ds.UPC,UPCE:ds.UPCE,ITF14:dE.ITF14,ITF:dE.ITF,MSI:Ja.MSI,MSI10:Ja.MSI10,MSI11:Ja.MSI11,MSI1010:Ja.MSI1010,MSI1110:Ja.MSI1110,pharmacode:f5.pharmacode,codabar:p5.codabar,GenericBarcode:m5.GenericBarcode};var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});var g5=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Pa.default=function(t,e){return g5({},t,e)};var Qv={};Object.defineProperty(Qv,"__esModule",{value:!0});Qv.default=v5;function v5(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var Xv={};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.default=y5;function y5(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var Yv={},Jv={},Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.default=_5;function _5(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var qh={};Object.defineProperty(qh,"__esModule",{value:!0});var E5={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};qh.default=E5;Object.defineProperty(Jv,"__esModule",{value:!0});var w5=Hh,T5=aP(w5),S5=qh,hE=aP(S5);function aP(t){return t&&t.__esModule?t:{default:t}}function I5(t){var e={};for(var n in hE.default)hE.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,T5.default)(e),e}Jv.default=I5;var Zv={},ey={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.getTotalWidthOfEncodings=Nn.calculateEncodingAttributes=Nn.getBarcodePadding=Nn.getEncodingHeight=Nn.getMaximumHeightOfEncodings=void 0;var R5=Pa,P5=A5(R5);function A5(t){return t&&t.__esModule?t:{default:t}}function lP(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function uP(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function C5(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],o=(0,P5.default)(e,i.options),s;o.displayValue?s=k5(i.text,o,n):s=0;var a=i.data.length*o.width;i.width=Math.ceil(Math.max(s,a)),i.height=lP(i,o),i.barcodePadding=uP(s,a,o)}}function b5(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function x5(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function k5(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var o=i.width;return o}Nn.getMaximumHeightOfEncodings=x5;Nn.getEncodingHeight=lP;Nn.getBarcodePadding=uP;Nn.calculateEncodingAttributes=C5;Nn.getTotalWidthOfEncodings=b5;Object.defineProperty(ey,"__esModule",{value:!0});var O5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N5=Pa,D5=M5(N5),Qf=Nn;function M5(t){return t&&t.__esModule?t:{default:t}}function L5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var j5=function(){function t(e,n,r){L5(this,t),this.canvas=e,this.encodings=n,this.options=r}return O5(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,D5.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Qf.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Qf.getTotalWidthOfEncodings)(this.encodings),i=(0,Qf.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),o=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,i.fillStyle=n.lineColor;for(var a=0;a<o.length;a++){var u=a*n.width+r.barcodePadding;o[a]==="1"?i.fillRect(u,s,n.width,n.height):o[a]&&i.fillRect(u,s,n.width,n.height*o[a])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),o=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,a;n.textPosition=="top"?a=n.marginTop+n.fontSize-n.textMargin:a=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=o,n.textAlign=="left"||r.barcodePadding>0?(s=0,i.textAlign="left"):n.textAlign=="right"?(s=r.width-1,i.textAlign="right"):(s=r.width/2,i.textAlign="center"),i.fillText(r.text,s,a)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();ey.default=j5;var ty={};Object.defineProperty(ty,"__esModule",{value:!0});var V5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),F5=Pa,U5=$5(F5),Xf=Nn;function $5(t){return t&&t.__esModule?t:{default:t}}function B5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Tc="http://www.w3.org/2000/svg",z5=function(){function t(e,n,r){B5(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return V5(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,U5.default)(this.options,i.options),s=this.createGroup(n,o.marginTop,this.svg);this.setGroupOptions(s,o),this.drawSvgBarcode(s,o,i),this.drawSVGText(s,o,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Xf.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Xf.getTotalWidthOfEncodings)(this.encodings),r=(0,Xf.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var o=i.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var a=0,u=0,c=0;c<o.length;c++)u=c*r.width+i.barcodePadding,o[c]==="1"?a++:a>0&&(this.drawRect(u-r.width*a,s,r.width*a,r.height,n),a=0);a>0&&this.drawRect(u-r.width*(a-1),s,r.width*a,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var o=this.document.createElementNS(Tc,"text");if(r.displayValue){var s,a;o.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?a=r.fontSize-r.textMargin:a=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(s=0,o.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=i.width-1,o.setAttribute("text-anchor","end")):(s=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",s),o.setAttribute("y",a),o.appendChild(this.document.createTextNode(i.text)),n.appendChild(o)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",Tc),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var o=this.document.createElementNS(Tc,"g");return o.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,o,s){var a=this.document.createElementNS(Tc,"rect");return a.setAttribute("x",n),a.setAttribute("y",r),a.setAttribute("width",i),a.setAttribute("height",o),s.appendChild(a),a}}]),t}();ty.default=z5;var ny={};Object.defineProperty(ny,"__esModule",{value:!0});var H5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function q5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var W5=function(){function t(e,n,r){q5(this,t),this.object=e,this.encodings=n,this.options=r}return H5(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();ny.default=W5;Object.defineProperty(Zv,"__esModule",{value:!0});var G5=ey,K5=ry(G5),Q5=ty,X5=ry(Q5),Y5=ny,J5=ry(Y5);function ry(t){return t&&t.__esModule?t:{default:t}}Zv.default={CanvasRenderer:K5.default,SVGRenderer:X5.default,ObjectRenderer:J5.default};var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});function iy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oy(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Z5=function(t){sy(e,t);function e(n,r){iy(this,e);var i=oy(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),e6=function(t){sy(e,t);function e(){iy(this,e);var n=oy(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),t6=function(t){sy(e,t);function e(){iy(this,e);var n=oy(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);Aa.InvalidInputException=Z5;Aa.InvalidElementException=e6;Aa.NoElementException=t6;Object.defineProperty(Yv,"__esModule",{value:!0});var n6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r6=Jv,Pm=cP(r6),i6=Zv,ul=cP(i6),o6=Aa;function cP(t){return t&&t.__esModule?t:{default:t}}function ay(t){if(typeof t=="string")return s6(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(ay(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return a6(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Pm.default)(t),renderer:ul.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Pm.default)(t),renderer:ul.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:ul.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":n6(t))==="object"&&!t.nodeName)return{element:t,renderer:ul.default.ObjectRenderer};throw new o6.InvalidElementException}}function s6(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(ay(e[r]));return n}}function a6(t){var e=document.createElement("canvas");return{element:e,options:(0,Pm.default)(t),renderer:ul.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Yv.default=ay;var ly={};Object.defineProperty(ly,"__esModule",{value:!0});var l6=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function u6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c6=function(){function t(e){u6(this,t),this.api=e}return l6(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();ly.default=c6;var d6=Ov,No=fo(d6),h6=Pa,Nu=fo(h6),f6=Qv,dP=fo(f6),p6=Xv,fE=fo(p6),m6=Yv,g6=fo(m6),v6=Hh,y6=fo(v6),_6=ly,E6=fo(_6),hP=Aa,w6=qh,fP=fo(w6);function fo(t){return t&&t.__esModule?t:{default:t}}var ti=function(){},Wh=function(e,n,r){var i=new ti;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,g6.default)(e),i._encodings=[],i._options=fP.default,i._errorHandler=new E6.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=mP()),i.options(r)[r.format](n,r).render()),i};Wh.getModule=function(t){return No.default[t]};for(var pE in No.default)No.default.hasOwnProperty(pE)&&T6(No.default,pE);function T6(t,e){ti.prototype[e]=ti.prototype[e.toUpperCase()]=ti.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,Nu.default)(i._options,r);o=(0,y6.default)(o);var s=t[e],a=pP(n,s,o);return i._encodings.push(a),i})}}function pP(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new hP.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,dP.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,Nu.default)(n,i[o].options);return i}function mP(){return No.default.CODE128?"CODE128":Object.keys(No.default)[0]}ti.prototype.options=function(t){return this._options=(0,Nu.default)(this._options,t),this};ti.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};ti.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Nu.default)(this._options,t.options);n.format=="auto"&&(n.format=mP()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=No.default[n.format.toUpperCase()],o=pP(r,i,n);Am(t,o,n)})}}};ti.prototype.render=function(){if(!this._renderProperties)throw new hP.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Am(this._renderProperties[t],this._encodings,this._options);else Am(this._renderProperties,this._encodings,this._options);return this};ti.prototype._defaults=fP.default;function Am(t,e,n){e=(0,dP.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Nu.default)(n,e[r].options),(0,fE.default)(e[r].options);(0,fE.default)(n);var i=t.renderer,o=new i(t.element,e,n);o.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Wh);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),Wh(n,t,e)});var S6=Wh;function qc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qc=function(n){return typeof n}:qc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qc(t)}var ms=uy(M),I6=uy(S6),gt=uy(bv);function uy(t){return t&&t.__esModule?t:{default:t}}function R6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A6(t,e,n){return e&&P6(t.prototype,e),t}function C6(t,e){return e&&(qc(e)==="object"||typeof e=="function")?e:gP(t)}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function gP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bm(t,e)}function bm(t,e){return bm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},bm(t,e)}var xm,Yf=ms.default.version.split(/[.-]/);Yf[0]==="0"&&(Yf[1]==="13"||Yf[1]==="12")?xm=function(e){return e.getDOMNode()}:xm=function(e){return e};var cy=function(t){b6(e,t);function e(n){var r;return R6(this,e),r=C6(this,Cm(e).call(this,n)),r.renderElementRef=ms.default.createRef(),r.update=r.update.bind(gP(r)),r}return A6(e,[{key:"shouldComponentUpdate",value:function(r){var i=this;return Object.keys(e.propTypes).some(function(o){return i.props[o]!==r[o]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=xm(this.renderElementRef.current);try{new I6.default(r,this.props.value,Object.assign({},this.props))}catch(i){window.console.error(i)}}},{key:"render",value:function(){var r=this.props,i=r.id,o=r.className;if(this.props.renderer==="svg")return ms.default.createElement("svg",{ref:this.renderElementRef,id:i,className:o});if(this.props.renderer==="canvas")return ms.default.createElement("canvas",{ref:this.renderElementRef,id:i,className:o});if(this.props.renderer==="img")return ms.default.createElement("img",{ref:this.renderElementRef,id:i,className:o})}}]),e}(ms.default.Component);cy.propTypes={value:gt.default.string.isRequired,renderer:gt.default.string,format:gt.default.string,width:gt.default.number,height:gt.default.number,displayValue:gt.default.bool,fontOptions:gt.default.string,font:gt.default.string,textAlign:gt.default.string,textPosition:gt.default.string,textMargin:gt.default.number,fontSize:gt.default.number,background:gt.default.string,lineColor:gt.default.string,margin:gt.default.number,marginTop:gt.default.number,marginBottom:gt.default.number,marginLeft:gt.default.number,marginRight:gt.default.number,id:gt.default.string,className:gt.default.string,ean128:gt.default.bool};cy.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var x6=cy;const k6=km(x6),O6=()=>{const[t,e]=M.useState([]),n=M.useRef(),r=M.useRef();M.useEffect(()=>{(async()=>{try{const a=Rh(Fn,"users"),c=(await Nh(a)).docs.map(d=>({...d.data(),id:d.id}));e(c)}catch(a){console.error("Error fetching students:",a)}})()},[]);const i=su.useReactToPrint({content:()=>n.current,documentTitle:"ID Cards",pageStyle:`
      @page {
        margin: 20mm;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact;
        }
      }
    `}),o=su.useReactToPrint({content:()=>r.current,documentTitle:"Back ID Cards",pageStyle:`
      @page {
        margin: 20mm;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact;
        }
      }
    `});return g.jsxs("div",{className:"hm",children:[g.jsx(wa,{}),g.jsxs("div",{className:"wrapPf pf",children:[g.jsx("div",{className:"hd",children:g.jsx("h1",{children:"ID Cards"})}),g.jsx("div",{className:"id",ref:n,children:t.map(s=>g.jsxs("div",{className:"idwrap",children:[g.jsxs("div",{className:"header m",children:[g.jsx("img",{src:HR,className:"right",alt:"Logo"}),g.jsx("h4",{className:"name",children:"በኢትዮጵያ ኦርቶዶክስ ተዋሕዶ ቤተክርስቲያን በድሬዳዋ ሃ/ስብከት የመንበረ ብርሃን ቅ/ሥላሴ ገዳም ውሉደ ብርሃን ሰንበት ት/ቤት"}),g.jsx("img",{src:sa,className:"left",alt:"EOTC"})]}),g.jsxs("div",{className:"infof",children:[g.jsx("div",{className:"pho",children:g.jsx("img",{className:"pp",src:s.photoUrl,alt:"Profile"})}),g.jsxs("div",{className:"info",children:[g.jsxs("p",{children:[g.jsx("b",{children:"ስም: "}),s.firstName," ",s.lastName]}),g.jsxs("p",{children:[g.jsx("b",{children:"ክፍል: "}),s.age]}),g.jsxs("p",{children:[g.jsx("b",{children:"መለያ: "}),s.address]}),g.jsx(k6,{value:`wlud.netlify.app/${s.id}`,displayValue:!1,className:"bar",background:"#9dc8ed"})]})]})]},s.id))}),g.jsx("button",{onClick:i,className:"print-button",children:"Print Front"})]}),g.jsxs("div",{className:"wrapPf pf",children:[g.jsx("div",{className:"hd",children:g.jsx("h1",{children:"Back ID Cards"})}),g.jsx("div",{className:"id",ref:r,children:t.map(s=>g.jsx("div",{className:"idwrap",children:g.jsxs("div",{className:"back-content",children:[g.jsxs("div",{className:"backhd",children:[g.jsx("img",{src:sa}),g.jsx("h2",{children:"ውሉደ ብርሃን"})]}),g.jsx("div",{className:"backmn",children:g.jsxs("p",{children:["ሁለት ወይም ሦስት በስሜ",g.jsx("br",{})," በሚሰበሰቡበት በዚያ በመካከላቸው እሆናለሁ",g.jsx("span",{children:"የማቴዎስ ወንጌል 18"})]})}),g.jsx("div",{className:"backend",children:g.jsx("div",{className:"links"})})]})},s.id))}),g.jsx("button",{onClick:o,className:"print-button",children:"Print Back"})]})]})},N6=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),i=kg();M.useEffect(()=>{document.title="Login to Wlude brhan"},[]);const o=async s=>{s.preventDefault(),await mO(SR,t,n),i("/register")};return g.jsx("div",{className:"loginwrap",children:g.jsxs("div",{className:"www",children:[g.jsx("img",{src:sa}),g.jsx("h4",{children:"Login to WLude Berhan"}),g.jsxs("form",{onSubmit:o,children:[g.jsx("label",{children:"Email"}),g.jsx("input",{placeholder:"Email",onChange:s=>{e(s.target.value)}}),g.jsx("label",{children:"Password"}),g.jsx("input",{placeholder:"Password",type:"password",onChange:s=>{r(s.target.value)}}),g.jsxs("button",{className:"pushable",children:[g.jsx("span",{className:"shadow"}),g.jsx("span",{className:"edge"}),g.jsx("span",{className:"front",children:"Login"})]})]})]})})},D6=()=>{const{userId:t}=oh(),[e,n]=M.useState(""),[r,i]=M.useState({courses:[{name:"",when:""}],punishment:[{reason:"",punishment:""}],fee:[{status:!0,amount:0,month:"",year:""}],permission:[{reason:"",startDate:"",finishDate:""}]});M.useEffect(()=>{const u=new Date,c=u.toLocaleString("default",{month:"long"}),d=u.getFullYear();i(f=>({...f,fee:f.fee.map(p=>({...p,month:c,year:d}))}))},[]);const o=(u,c,d)=>{const{name:f,value:p}=d.target,S=[...r[u]];S[c][f]=p,i({...r,[u]:S})},s=async u=>{const c=f=>Object.values(f).some(p=>typeof p=="string"&&p.trim()==="");if(!r[u].every(f=>!c(f))){console.error(`Some fields in ${u} are empty. Please fill in all fields before submitting.`);return}try{const f=ei(Fn,"users",t),p=r[u].map(S=>D1(S));await vm(f,{[u]:D1(...r[u])}),console.log(`${u.charAt(0).toUpperCase()+u.slice(1)} info updated successfully`)}catch(f){console.error(`Error updating ${u} info:`,f)}},a=async()=>{if(e.trim()===""){console.error("Location field is empty. Please fill in the location before submitting.");return}try{const u=ei(Fn,"users",t);await vm(u,{location:e}),console.log("Location updated successfully")}catch(u){console.error("Error updating location:",u)}};return g.jsxs("div",{className:"hm",children:[g.jsx("div",{className:"sidebar",children:g.jsx(wa,{})}),g.jsxs("div",{className:"wrapPf pf",children:[g.jsx("div",{className:"hd",children:g.jsx("h1",{children:"ተጨማሪ መረጃዎች"})}),g.jsxs("div",{className:"kii",children:[g.jsxs("div",{className:"section",children:[g.jsx("h2",{children:"ትምህርቶች"}),g.jsxs("form",{onSubmit:u=>{u.preventDefault(),s("courses")},children:[r.courses.map((u,c)=>g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{children:[g.jsx("label",{children:"የትምህርቱ ስም"}),g.jsx("input",{name:"name",value:u.name,onChange:d=>o("courses",c,d),placeholder:"የትምህርቱ ስም"})]}),g.jsxs("div",{children:[g.jsx("label",{children:"ትምህርቱ ያለቀበት ቀን"}),g.jsx("input",{type:"date",name:"when",value:u.when,onChange:d=>o("courses",c,d),placeholder:"Date"})]})]},c)),g.jsx("button",{type:"submit",children:"ትምህርቱን አስገባ"})]})]}),g.jsxs("div",{className:"section",children:[g.jsx("h2",{children:"ፈቃድ"}),g.jsxs("form",{className:"dddd",onSubmit:u=>{u.preventDefault(),s("permission")},children:[r.permission.map((u,c)=>g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{children:[g.jsx("label",{children:"ምክንያት"}),g.jsx("input",{name:"reason",value:u.reason,onChange:d=>o("permission",c,d),placeholder:"ምክንያት"})]}),g.jsxs("div",{children:[g.jsx("label",{children:"የሚጀምርበት ቀን"}),g.jsx("input",{type:"date",name:"startDate",value:u.startDate,onChange:d=>o("permission",c,d),placeholder:"Start Date"})]}),g.jsxs("div",{children:[g.jsx("label",{children:"የሚያበቃበት ቀን"}),g.jsx("input",{type:"date",name:"finishDate",value:u.finishDate,onChange:d=>o("permission",c,d),placeholder:"Finish Date"})]})]},c)),g.jsx("button",{type:"submit",children:"ፈቃድ አስገባ"})]})]}),g.jsxs("div",{className:"section",children:[g.jsx("h2",{children:"ቅጣት"}),g.jsxs("form",{onSubmit:u=>{u.preventDefault(),s("punishment")},children:[r.punishment.map((u,c)=>g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{children:[g.jsx("label",{children:"ምክንያት"}),g.jsx("input",{name:"reason",value:u.reason,onChange:d=>o("punishment",c,d),placeholder:"ምክንያት"})]}),g.jsxs("div",{children:[g.jsx("label",{children:"ቅጣት"}),g.jsx("input",{type:"text",name:"punishment",value:u.punishment,onChange:d=>o("punishment",c,d),placeholder:"Punishment"})]})]},c)),g.jsx("button",{type:"submit",children:"ቅጣት አስገባ"})]})]}),g.jsxs("div",{className:"section",children:[g.jsx("h2",{children:"ክፍያ"}),g.jsxs("form",{onSubmit:u=>{u.preventDefault(),s("fee")},children:[r.fee.map((u,c)=>g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{children:[g.jsx("label",{children:"Amount"}),g.jsx("input",{type:"number",name:"amount",value:u.amount,onChange:d=>o("fee",c,d),placeholder:"Amount"})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Month"}),g.jsx("input",{type:"text",name:"month",value:u.month,onChange:d=>o("fee",c,d),placeholder:"Month"})]}),g.jsxs("div",{children:[g.jsx("label",{children:"Year"}),g.jsx("input",{type:"text",name:"year",value:u.year,onChange:d=>o("fee",c,d),placeholder:"Year"})]})]},c)),g.jsx("button",{type:"submit",children:"ክፍያ አስገባ"})]})]}),g.jsxs("div",{className:"section",children:[g.jsx("h2",{children:"አድራሻ"}),g.jsx("input",{className:"location-input",placeholder:"Location",value:e,onChange:u=>n(u.target.value)}),g.jsx("button",{className:"location-button",onClick:a,children:"አድራሻን አስገባ"})]}),g.jsx("div",{className:"section",children:g.jsx(El,{to:`/transcript/${t}`,children:g.jsx("button",{children:"ሙሉ መረጃን ለማየት"})})})]})]})]})},Si=({children:t,user:e})=>e?t:g.jsx(Ex,{to:"/"});function M6(){const[t,e]=M.useState(null);M.useEffect(()=>{const r=yO(SR,i=>{if(i){e(i);return}e(null)});return()=>r()},[]);const n=Cx([{path:"/members",element:g.jsx(Si,{user:t,children:g.jsx(BV,{})})},{path:"/idcard",element:g.jsx(Si,{user:t,children:g.jsx(O6,{})})},{path:"/scanner",element:g.jsx(Si,{user:t,children:g.jsx(jV,{})})},{path:"/transcript/:userId",element:g.jsx(Si,{user:t,children:g.jsx(UV,{})})},{path:"/update/:userId",element:g.jsx(Si,{user:t,children:g.jsx(D6,{})})},{path:"/attendance",element:g.jsx(Si,{user:t,children:g.jsx(IV,{})})},{path:"/:userId",element:g.jsx(LV,{})},{path:"/register",element:g.jsx(Si,{user:t,children:g.jsx(VV,{})})},{path:"/",element:g.jsx(N6,{})},{path:"/members/:userId",element:g.jsx(Si,{user:t,children:g.jsx(zV,{})})}]);return g.jsx(g.Fragment,{children:g.jsx(jx,{router:n})})}Jf.createRoot(document.getElementById("root")).render(g.jsx(De.StrictMode,{children:g.jsx(M6,{})}));
